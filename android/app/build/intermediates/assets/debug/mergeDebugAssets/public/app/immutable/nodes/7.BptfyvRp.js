import{t as g,a as n,b as L}from"../chunks/CGUOcUo0.js";import{i as V}from"../chunks/Dt1eVU8n.js";import{p as B,o as H,a as I,s as l,m as _,g as c,c as d,b as y,r as f,f as Y,t as F}from"../chunks/CVH_N3Bp.js";import{e as w}from"../chunks/CWBwmAxe.js";import{i as N}from"../chunks/ChmHwF9y.js";import{t as S,f as j}from"../chunks/f_cblnHV.js";import{g as m}from"../chunks/DF6Fe3K5.js";import{a as G}from"../chunks/CKXrGhkk.js";import{a as J,g as K,u as v,r as O}from"../chunks/BSGaGtWC.js";var Q=g('<div class="flex items-center justify-center"><svg class="-ml-1 mr-2 h-5 w-5 animate-spin text-white" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> Processing...</div>'),R=g(`<div class="mb-8 space-y-4"><p class="text-center text-gray-600 dark:text-gray-300">We believe reflection happens best when it's unexpected.</p> <p class="text-center text-gray-600 dark:text-gray-300">With your permission, we'll remind you 4 times per day — at perfectly random moments — to
					pause and look within.</p> <div class="mt-6 space-y-3 rounded-lg bg-primary-50 p-4 dark:bg-gray-700/30"><div class="flex items-center"><span class="mr-2 text-xl">🔔</span> <p class="text-sm text-gray-700 dark:text-gray-300">Daily reflection boosts your self-awareness</p></div> <div class="flex items-center"><span class="mr-2 text-xl">🌿</span> <p class="text-sm text-gray-700 dark:text-gray-300">Divine Timing respects your rhythm</p></div> <div class="flex items-center"><span class="mr-2 text-xl">🙏</span> <p class="text-sm text-gray-700 dark:text-gray-300">You're always in control</p></div></div></div> <div class="space-y-3"><button class="bg-gradient-to-r from-primary-600 to-secondary-500 hover:from-primary-700 hover:to-secondary-600 focus:ring-primary-500 w-full rounded-lg py-3 text-center font-medium text-white shadow-md transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-70"><!></button> <button class="w-full rounded-lg py-3 text-center font-medium text-gray-600 transition-colors duration-300 hover:text-gray-900 disabled:opacity-50 dark:text-gray-400 dark:hover:text-white">Maybe Later</button></div>`,1),U=g(`<div class="space-y-4"><div class="rounded-lg border border-yellow-200 bg-yellow-50 p-4 text-sm text-yellow-800 dark:border-yellow-700/30 dark:bg-yellow-900/20 dark:text-yellow-500"><p>Notifications are not supported in your browser. Try the mobile app for the full
						VibeWise experience.</p></div> <button class="bg-gradient-to-r from-primary-600 to-secondary-500 hover:from-primary-700 hover:to-secondary-600 focus:ring-primary-500 w-full rounded-lg py-3 text-center font-medium text-white shadow-md transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2">Continue to App</button></div>`),X=g('<div class="flex h-screen w-full flex-col items-center justify-center bg-gradient-to-br from-primary-50 to-primary-100 p-4 dark:from-gray-900 dark:to-gray-800"><div class="w-full max-w-md rounded-2xl bg-white p-8 shadow-xl dark:bg-gray-800"><div class="mb-6 text-center"><div class="mb-4 flex justify-center"><div class="bg-gradient-to-br from-primary-600 to-secondary-500 flex h-20 w-20 items-center justify-center rounded-full text-3xl text-white"><div class="animate-pulse">🔔</div></div></div> <h1 class="mb-2 text-2xl font-bold text-gray-900 dark:text-white">Divine Timing</h1></div> <!></div></div>');function nt(C,D){B(D,!1);let i="",r=_(!1),x=_(!0),p="default";H(async()=>{const t=G.subscribe(e=>{var a;i=((a=e.user)==null?void 0:a.uid)||""});return l(x,J()),c(x)&&(p=await K(),p==="granted"&&(await v(i,!0),m("/"))),()=>t()});const T=async()=>{try{l(r,!0),p=await O(),p==="granted"?(await v(i,!0),m("/")):(await v(i,!1),m("/"))}catch(t){console.error("Error requesting permission:",t)}finally{l(r,!1)}},E=async()=>{try{l(r,!0),await v(i,!1),m("/")}catch(t){console.error("Error saving preference:",t)}finally{l(r,!1)}};V();var u=X(),b=d(u),M=y(d(b),2);{var P=t=>{var e=R(),a=y(Y(e),2),o=d(a),q=d(o);{var z=s=>{var h=Q();n(s,h)},A=s=>{var h=L("Enable Notifications");n(s,h)};N(q,s=>{c(r)?s(z):s(A,!1)})}f(o);var k=y(o,2);f(a),F(()=>{o.disabled=c(r),k.disabled=c(r)}),w("click",o,T),w("click",k,E),n(t,e)},W=t=>{var e=U(),a=y(d(e),2);f(e),w("click",a,()=>m("/")),n(t,e)};N(M,t=>{c(x)?t(P):t(W,!1)})}f(b),f(u),S(1,b,()=>j,()=>({duration:500,delay:300})),S(1,u,()=>j,()=>({duration:300})),n(C,u),I()}export{nt as component};
