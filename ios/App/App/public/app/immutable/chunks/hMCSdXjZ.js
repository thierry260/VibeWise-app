import{c as cr,a as qn,t as jo}from"./CnvfDVfY.js";import"./Bz5RaRe3.js";import{p as ar,aM as hr,f as pr,a as mr,g as Jn,m as dr,c as bl,b as Bl,r as xl,s as gr,t as no}from"./BqLDX34w.js";import{e as un,s as Yl}from"./Dnxtqdj9.js";import{i as io}from"./CR_S-Ndk.js";import{t as wr,f as Sr}from"./BRY9_-zS.js";import{b as _r}from"./DDvxHkRN.js";import{i as vr}from"./DIvFRTmL.js";import{p as Zt}from"./Bx7kv0ZF.js";function Vu(e,l,o){if(!e||l.length<10)return 0;const n=yr(e),s=br(l,o),c=Mr(l),u=(n*.5+s*.3+c*.2)*100;return Math.min(Math.max(Math.round(u),0),100)}function yr(e){return Math.min(Math.max((e-10)/140,0),1)}function br(e,l){if(e.length<20)return .3;const o=e.map(h=>6e4/h),s=60/(l||6),c=xr(o.length,s);return(kr(o,c)+1)/2}function xr(e,l){const o=l*1e3/800;return Array(e).fill(0).map((n,s)=>Math.sin(s/o*2*Math.PI))}function kr(e,l){const o=oo(e),n=oo(l);let s=0;const c=Math.min(o.length,n.length);for(let u=0;u<c;u++)s+=o[u]*n[u];return s/c}function oo(e){const l=e.reduce((c,u)=>c+u,0)/e.length,n=e.map(c=>Math.pow(c-l,2)).reduce((c,u)=>c+u,0)/e.length,s=Math.sqrt(n);return s===0?e.map(()=>0):e.map(c=>(c-l)/s)}function Mr(e){if(e.length<10)return .5;const l=[];for(let h=1;h<e.length;h++)l.push(Math.abs(e[h]-e[h-1]));const o=l.reduce((h,p)=>h+p,0)/l.length;if(o===0)return 1;const s=l.map(h=>Math.pow(h-o,2)).reduce((h,p)=>h+p,0)/l.length,u=Math.sqrt(s)/o;return Math.min(Math.max(1-u/2,0),1)}function zu(e){return e>=80?{label:"You're glowing",emoji:"üí´"}:e>=60?{label:"Open and steady",emoji:"üíú"}:e>=40?{label:"Coming into sync",emoji:"üå±"}:e>=20?{label:"Breathe and soften",emoji:"ü´Å"}:{label:"Let's slow down together",emoji:"üí§"}}var Tr=jo('<p class="hint svelte-xb6uwt"> </p>'),Ar=jo('<div class="metric-tooltip svelte-xb6uwt" role="dialog" aria-modal="true" aria-labelledby="tooltip-title" tabindex="0"><button class="close-button svelte-xb6uwt">√ó</button> <h3 class="svelte-xb6uwt"> </h3> <p class="explanation svelte-xb6uwt"> </p> <!> <p class="state-description svelte-xb6uwt"> </p> <p class="suggestion svelte-xb6uwt"> </p></div>');function Ru(e,l){ar(l,!1);let o=Zt(l,"title",8),n=Zt(l,"explanation",8),s=Zt(l,"hint",8,""),c=Zt(l,"stateDescription",8),u=Zt(l,"suggestion",8),h=Zt(l,"isVisible",8,!1),p=Zt(l,"onClose",8),d=dr();function v(V){Jn(d)&&!Jn(d).contains(V.target)&&p()()}function g(V){V.stopPropagation()}vr();var w=cr();un("click",hr,v);var C=pr(w);{var P=V=>{var z=Ar(),G=bl(z),y=Bl(G,2),H=bl(y,!0);xl(y);var x=Bl(y,2),j=bl(x,!0);xl(x);var D=Bl(x,2);{var J=W=>{var L=Tr(),Y=bl(L,!0);xl(L),no(()=>Yl(Y,s())),qn(W,L)};io(D,W=>{s()&&W(J)})}var I=Bl(D,2),Z=bl(I,!0);xl(I);var U=Bl(I,2),k=bl(U,!0);xl(U),xl(z),_r(z,W=>gr(d,W),()=>Jn(d)),no(()=>{Yl(H,o()),Yl(j,n()),Yl(Z,c()),Yl(k,u())}),un("click",G,function(...W){var L;(L=p())==null||L.apply(this,W)}),wr(3,z,()=>Sr,()=>({duration:150})),un("click",z,g),un("keydown",z,W=>W.key==="Escape"&&p()()),qn(V,z)};io(C,V=>{h()&&V(P)})}qn(e,w),mr()}const Dr=!0,Ee="u-",Er="uplot",Pr=Ee+"hz",Lr=Ee+"vt",Cr=Ee+"title",Vr=Ee+"wrap",zr=Ee+"under",Rr=Ee+"over",Fr=Ee+"axis",Xt=Ee+"off",Hr=Ee+"select",Nr=Ee+"cursor-x",Or=Ee+"cursor-y",Wr=Ee+"cursor-pt",Gr=Ee+"legend",Br=Ee+"live",Yr=Ee+"inline",Ir=Ee+"series",Ur=Ee+"marker",so=Ee+"label",Kr=Ee+"value",Kl="width",jl="height",Il="top",ro="bottom",kl="left",Zn="right",pi="#000",fo=pi+"0",Qn="mousemove",uo="mousedown",$n="mouseup",co="mouseenter",ao="mouseleave",ho="dblclick",jr="resize",qr="scroll",po="change",mn="dppxchange",mi="--",Ll=typeof window<"u",ni=Ll?document:null,Tl=Ll?window:null,Jr=Ll?navigator:null;let se,cn;function ii(){let e=devicePixelRatio;se!=e&&(se=e,cn&&si(po,cn,ii),cn=matchMedia(`(min-resolution: ${se-.001}dppx) and (max-resolution: ${se+.001}dppx)`),el(po,cn,ii),Tl.dispatchEvent(new CustomEvent(mn)))}function et(e,l){if(l!=null){let o=e.classList;!o.contains(l)&&o.add(l)}}function oi(e,l){let o=e.classList;o.contains(l)&&o.remove(l)}function ge(e,l,o){e.style[l]=o+"px"}function gt(e,l,o,n){let s=ni.createElement(e);return l!=null&&et(s,l),o!=null&&o.insertBefore(s,n),s}function ut(e,l){return gt("div",e,l)}const mo=new WeakMap;function Tt(e,l,o,n,s){let c="translate("+l+"px,"+o+"px)",u=mo.get(e);c!=u&&(e.style.transform=c,mo.set(e,c),l<0||o<0||l>n||o>s?et(e,Xt):oi(e,Xt))}const go=new WeakMap;function wo(e,l,o){let n=l+o,s=go.get(e);n!=s&&(go.set(e,n),e.style.background=l,e.style.borderColor=o)}const So=new WeakMap;function _o(e,l,o,n){let s=l+""+o,c=So.get(e);s!=c&&(So.set(e,s),e.style.height=o+"px",e.style.width=l+"px",e.style.marginLeft=n?-l/2+"px":0,e.style.marginTop=n?-o/2+"px":0)}const di={passive:!0},Zr={...di,capture:!0};function el(e,l,o,n){l.addEventListener(e,o,n?Zr:di)}function si(e,l,o,n){l.removeEventListener(e,o,di)}Ll&&ii();function wt(e,l,o,n){let s;o=o||0,n=n||l.length-1;let c=n<=2147483647;for(;n-o>1;)s=c?o+n>>1:tt((o+n)/2),l[s]<e?o=s:n=s;return e-l[o]<=l[n]-e?o:n}function qo(e){return(o,n,s)=>{let c=-1,u=-1;for(let h=n;h<=s;h++)if(e(o[h])){c=h;break}for(let h=s;h>=n;h--)if(e(o[h])){u=h;break}return[c,u]}}const Jo=e=>e!=null,Zo=e=>e!=null&&e>0,wn=qo(Jo),Qr=qo(Zo);function $r(e,l,o,n=0,s=!1){let c=s?Qr:wn,u=s?Zo:Jo;[l,o]=c(e,l,o);let h=e[l],p=e[l];if(l>-1)if(n==1)h=e[l],p=e[o];else if(n==-1)h=e[o],p=e[l];else for(let d=l;d<=o;d++){let v=e[d];u(v)&&(v<h?h=v:v>p&&(p=v))}return[h??ce,p??-ce]}function Sn(e,l,o,n){let s=bo(e),c=bo(l);e==l&&(s==-1?(e*=o,l/=o):(e/=o,l*=o));let u=o==10?Pt:Qo,h=s==1?tt:ct,p=c==1?ct:tt,d=h(u(De(e))),v=p(u(De(l))),g=Al(o,d),w=Al(o,v);return o==10&&(d<0&&(g=ae(g,-d)),v<0&&(w=ae(w,-v))),n||o==2?(e=g*s,l=w*c):(e=ts(e,g),l=_n(l,w)),[e,l]}function gi(e,l,o,n){let s=Sn(e,l,o,n);return e==0&&(s[0]=0),l==0&&(s[1]=0),s}const wi=.1,vo={mode:3,pad:wi},Jl={pad:0,soft:null,mode:0},Xr={min:Jl,max:Jl};function dn(e,l,o,n){return vn(o)?yo(e,l,o):(Jl.pad=o,Jl.soft=n?0:null,Jl.mode=n?3:0,yo(e,l,Xr))}function ie(e,l){return e??l}function ef(e,l,o){for(l=ie(l,0),o=ie(o,e.length-1);l<=o;){if(e[l]!=null)return!0;l++}return!1}function yo(e,l,o){let n=o.min,s=o.max,c=ie(n.pad,0),u=ie(s.pad,0),h=ie(n.hard,-ce),p=ie(s.hard,ce),d=ie(n.soft,ce),v=ie(s.soft,-ce),g=ie(n.mode,0),w=ie(s.mode,0),C=l-e,P=Pt(C),V=Ie(De(e),De(l)),z=Pt(V),G=De(z-P);(C<1e-24||G>10)&&(C=0,(e==0||l==0)&&(C=1e-24,g==2&&d!=ce&&(c=0),w==2&&v!=-ce&&(u=0)));let y=C||V||1e3,H=Pt(y),x=Al(10,tt(H)),j=y*(C==0?e==0?.1:1:c),D=ae(ts(e-j,x/10),24),J=e>=d&&(g==1||g==3&&D<=d||g==2&&D>=d)?d:ce,I=Ie(h,D<J&&e>=J?J:St(J,D)),Z=y*(C==0?l==0?.1:1:u),U=ae(_n(l+Z,x/10),24),k=l<=v&&(w==1||w==3&&U>=v||w==2&&U<=v)?v:-ce,W=St(p,U>k&&l<=k?k:Ie(k,U));return I==W&&I==0&&(W=100),[I,W]}const tf=new Intl.NumberFormat(Ll?Jr.language:"en-US"),Si=e=>tf.format(e),lt=Math,pn=lt.PI,De=lt.abs,tt=lt.floor,Ae=lt.round,ct=lt.ceil,St=lt.min,Ie=lt.max,Al=lt.pow,bo=lt.sign,Pt=lt.log10,Qo=lt.log2,lf=(e,l=1)=>lt.sinh(e)*l,Xn=(e,l=1)=>lt.asinh(e/l),ce=1/0;function xo(e){return(Pt((e^e>>31)-(e>>31))|0)+1}function ri(e,l,o){return St(Ie(e,l),o)}function $o(e){return typeof e=="function"}function X(e){return $o(e)?e:()=>e}const nf=()=>{},Xo=e=>e,es=(e,l)=>l,of=e=>null,ko=e=>!0,Mo=(e,l)=>e==l,sf=/\.\d*?(?=9{6,}|0{6,})/gm,tl=e=>{if(ns(e)||Ot.has(e))return e;const l=`${e}`,o=l.match(sf);if(o==null)return e;let n=o[0].length-1;if(l.indexOf("e-")!=-1){let[s,c]=l.split("e");return+`${tl(s)}e${c}`}return ae(e,n)};function Qt(e,l){return tl(ae(tl(e/l))*l)}function _n(e,l){return tl(ct(tl(e/l))*l)}function ts(e,l){return tl(tt(tl(e/l))*l)}function ae(e,l=0){if(ns(e))return e;let o=10**l,n=e*o*(1+Number.EPSILON);return Ae(n)/o}const Ot=new Map;function ls(e){return((""+e).split(".")[1]||"").length}function Ql(e,l,o,n){let s=[],c=n.map(ls);for(let u=l;u<o;u++){let h=De(u),p=ae(Al(e,u),h);for(let d=0;d<n.length;d++){let v=e==10?+`${n[d]}e${u}`:n[d]*p,g=(u>=0?0:h)+(u>=c[d]?0:c[d]),w=e==10?v:ae(v,g);s.push(w),Ot.set(w,g)}}return s}const Zl={},_i=[],Dl=[null,null],Nt=Array.isArray,ns=Number.isInteger,rf=e=>e===void 0;function To(e){return typeof e=="string"}function vn(e){let l=!1;if(e!=null){let o=e.constructor;l=o==null||o==Object}return l}function ff(e){return e!=null&&typeof e=="object"}const uf=Object.getPrototypeOf(Uint8Array),is="__proto__";function El(e,l=vn){let o;if(Nt(e)){let n=e.find(s=>s!=null);if(Nt(n)||l(n)){o=Array(e.length);for(let s=0;s<e.length;s++)o[s]=El(e[s],l)}else o=e.slice()}else if(e instanceof uf)o=e.slice();else if(l(e)){o={};for(let n in e)n!=is&&(o[n]=El(e[n],l))}else o=e;return o}function ke(e){let l=arguments;for(let o=1;o<l.length;o++){let n=l[o];for(let s in n)s!=is&&(vn(e[s])?ke(e[s],El(n[s])):e[s]=El(n[s]))}return e}const cf=0,af=1,hf=2;function pf(e,l,o){for(let n=0,s,c=-1;n<l.length;n++){let u=l[n];if(u>c){for(s=u-1;s>=0&&e[s]==null;)e[s--]=null;for(s=u+1;s<o&&e[s]==null;)e[c=s++]=null}}}function mf(e,l){if(wf(e)){let u=e[0].slice();for(let h=1;h<e.length;h++)u.push(...e[h].slice(1));return Sf(u[0])||(u=gf(u)),u}let o=new Set;for(let u=0;u<e.length;u++){let p=e[u][0],d=p.length;for(let v=0;v<d;v++)o.add(p[v])}let n=[Array.from(o).sort((u,h)=>u-h)],s=n[0].length,c=new Map;for(let u=0;u<s;u++)c.set(n[0][u],u);for(let u=0;u<e.length;u++){let h=e[u],p=h[0];for(let d=1;d<h.length;d++){let v=h[d],g=Array(s).fill(void 0),w=l?l[u][d]:af,C=[];for(let P=0;P<v.length;P++){let V=v[P],z=c.get(p[P]);V===null?w!=cf&&(g[z]=V,w==hf&&C.push(z)):g[z]=V}pf(g,C,s),n.push(g)}}return n}const df=typeof queueMicrotask>"u"?e=>Promise.resolve().then(e):queueMicrotask;function gf(e){let l=e[0],o=l.length,n=Array(o);for(let c=0;c<n.length;c++)n[c]=c;n.sort((c,u)=>l[c]-l[u]);let s=[];for(let c=0;c<e.length;c++){let u=e[c],h=Array(o);for(let p=0;p<o;p++)h[p]=u[n[p]];s.push(h)}return s}function wf(e){let l=e[0][0],o=l.length;for(let n=1;n<e.length;n++){let s=e[n][0];if(s.length!=o)return!1;if(s!=l){for(let c=0;c<o;c++)if(s[c]!=l[c])return!1}}return!0}function Sf(e,l=100){const o=e.length;if(o<=1)return!0;let n=0,s=o-1;for(;n<=s&&e[n]==null;)n++;for(;s>=n&&e[s]==null;)s--;if(s<=n)return!0;const c=Ie(1,tt((s-n+1)/l));for(let u=e[n],h=n+c;h<=s;h+=c){const p=e[h];if(p!=null){if(p<=u)return!1;u=p}}return!0}const os=["January","February","March","April","May","June","July","August","September","October","November","December"],ss=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function rs(e){return e.slice(0,3)}const _f=ss.map(rs),vf=os.map(rs),yf={MMMM:os,MMM:vf,WWWW:ss,WWW:_f};function Ul(e){return(e<10?"0":"")+e}function bf(e){return(e<10?"00":e<100?"0":"")+e}const xf={YYYY:e=>e.getFullYear(),YY:e=>(e.getFullYear()+"").slice(2),MMMM:(e,l)=>l.MMMM[e.getMonth()],MMM:(e,l)=>l.MMM[e.getMonth()],MM:e=>Ul(e.getMonth()+1),M:e=>e.getMonth()+1,DD:e=>Ul(e.getDate()),D:e=>e.getDate(),WWWW:(e,l)=>l.WWWW[e.getDay()],WWW:(e,l)=>l.WWW[e.getDay()],HH:e=>Ul(e.getHours()),H:e=>e.getHours(),h:e=>{let l=e.getHours();return l==0?12:l>12?l-12:l},AA:e=>e.getHours()>=12?"PM":"AM",aa:e=>e.getHours()>=12?"pm":"am",a:e=>e.getHours()>=12?"p":"a",mm:e=>Ul(e.getMinutes()),m:e=>e.getMinutes(),ss:e=>Ul(e.getSeconds()),s:e=>e.getSeconds(),fff:e=>bf(e.getMilliseconds())};function vi(e,l){l=l||yf;let o=[],n=/\{([a-z]+)\}|[^{]+/gi,s;for(;s=n.exec(e);)o.push(s[0][0]=="{"?xf[s[1]]:s[0]);return c=>{let u="";for(let h=0;h<o.length;h++)u+=typeof o[h]=="string"?o[h]:o[h](c,l);return u}}const kf=new Intl.DateTimeFormat().resolvedOptions().timeZone;function Mf(e,l){let o;return l=="UTC"||l=="Etc/UTC"?o=new Date(+e+e.getTimezoneOffset()*6e4):l==kf?o=e:(o=new Date(e.toLocaleString("en-US",{timeZone:l})),o.setMilliseconds(e.getMilliseconds())),o}const fs=e=>e%1==0,gn=[1,2,2.5,5],Tf=Ql(10,-32,0,gn),us=Ql(10,0,32,gn),Af=us.filter(fs),$t=Tf.concat(us),yi=`
`,cs="{YYYY}",Ao=yi+cs,as="{M}/{D}",ql=yi+as,an=ql+"/{YY}",hs="{aa}",Df="{h}:{mm}",Ml=Df+hs,Do=yi+Ml,Eo=":{ss}",re=null;function ps(e){let l=e*1e3,o=l*60,n=o*60,s=n*24,c=s*30,u=s*365,p=(e==1?Ql(10,0,3,gn).filter(fs):Ql(10,-3,0,gn)).concat([l,l*5,l*10,l*15,l*30,o,o*5,o*10,o*15,o*30,n,n*2,n*3,n*4,n*6,n*8,n*12,s,s*2,s*3,s*4,s*5,s*6,s*7,s*8,s*9,s*10,s*15,c,c*2,c*3,c*4,c*6,u,u*2,u*5,u*10,u*25,u*50,u*100]);const d=[[u,cs,re,re,re,re,re,re,1],[s*28,"{MMM}",Ao,re,re,re,re,re,1],[s,as,Ao,re,re,re,re,re,1],[n,"{h}"+hs,an,re,ql,re,re,re,1],[o,Ml,an,re,ql,re,re,re,1],[l,Eo,an+" "+Ml,re,ql+" "+Ml,re,Do,re,1],[e,Eo+".{fff}",an+" "+Ml,re,ql+" "+Ml,re,Do,re,1]];function v(g){return(w,C,P,V,z,G)=>{let y=[],H=z>=u,x=z>=c&&z<u,j=g(P),D=ae(j*e,3),J=ei(j.getFullYear(),H?0:j.getMonth(),x||H?1:j.getDate()),I=ae(J*e,3);if(x||H){let Z=x?z/c:0,U=H?z/u:0,k=D==I?D:ae(ei(J.getFullYear()+U,J.getMonth()+Z,1)*e,3),W=new Date(Ae(k/e)),L=W.getFullYear(),Y=W.getMonth();for(let O=0;k<=V;O++){let ee=ei(L+U*O,Y+Z*O,1),N=ee-g(ae(ee*e,3));k=ae((+ee+N)*e,3),k<=V&&y.push(k)}}else{let Z=z>=s?s:z,U=tt(P)-tt(D),k=I+U+_n(D-I,Z);y.push(k);let W=g(k),L=W.getHours()+W.getMinutes()/o+W.getSeconds()/n,Y=z/n,O=w.axes[C]._space,ee=G/O;for(;k=ae(k+z,e==1?0:3),!(k>V);)if(Y>1){let N=tt(ae(L+Y,6))%24,te=g(k).getHours()-N;te>1&&(te=-1),k-=te*n,L=(L+Y)%24;let fe=y[y.length-1];ae((k-fe)/z,3)*ee>=.7&&y.push(k)}else y.push(k)}return y}}return[p,d,v]}const[Ef,Pf,Lf]=ps(1),[Cf,Vf,zf]=ps(.001);Ql(2,-53,53,[1]);function Po(e,l){return e.map(o=>o.map((n,s)=>s==0||s==8||n==null?n:l(s==1||o[8]==0?n:o[1]+n)))}function Lo(e,l){return(o,n,s,c,u)=>{let h=l.find(P=>u>=P[0])||l[l.length-1],p,d,v,g,w,C;return n.map(P=>{let V=e(P),z=V.getFullYear(),G=V.getMonth(),y=V.getDate(),H=V.getHours(),x=V.getMinutes(),j=V.getSeconds(),D=z!=p&&h[2]||G!=d&&h[3]||y!=v&&h[4]||H!=g&&h[5]||x!=w&&h[6]||j!=C&&h[7]||h[1];return p=z,d=G,v=y,g=H,w=x,C=j,D(V)})}}function Rf(e,l){let o=vi(l);return(n,s,c,u,h)=>s.map(p=>o(e(p)))}function ei(e,l,o){return new Date(e,l,o)}function Co(e,l){return l(e)}const Ff="{YYYY}-{MM}-{DD} {h}:{mm}{aa}";function Vo(e,l){return(o,n,s,c)=>c==null?mi:l(e(n))}function Hf(e,l){let o=e.series[l];return o.width?o.stroke(e,l):o.points.width?o.points.stroke(e,l):null}function Nf(e,l){return e.series[l].fill(e,l)}const Of={show:!0,live:!0,isolate:!1,mount:nf,markers:{show:!0,width:2,stroke:Hf,fill:Nf,dash:"solid"},idx:null,idxs:null,values:[]};function Wf(e,l){let o=e.cursor.points,n=ut(),s=o.size(e,l);ge(n,Kl,s),ge(n,jl,s);let c=s/-2;ge(n,"marginLeft",c),ge(n,"marginTop",c);let u=o.width(e,l,s);return u&&ge(n,"borderWidth",u),n}function Gf(e,l){let o=e.series[l].points;return o._fill||o._stroke}function Bf(e,l){let o=e.series[l].points;return o._stroke||o._fill}function Yf(e,l){return e.series[l].points.size}const ti=[0,0];function If(e,l,o){return ti[0]=l,ti[1]=o,ti}function hn(e,l,o,n=!0){return s=>{s.button==0&&(!n||s.target==l)&&o(s)}}function li(e,l,o,n=!0){return s=>{(!n||s.target==l)&&o(s)}}const Uf={show:!0,x:!0,y:!0,lock:!1,move:If,points:{one:!1,show:Wf,size:Yf,width:0,stroke:Bf,fill:Gf},bind:{mousedown:hn,mouseup:hn,click:hn,dblclick:hn,mousemove:li,mouseleave:li,mouseenter:li},drag:{setScale:!0,x:!0,y:!1,dist:0,uni:null,click:(e,l)=>{l.stopPropagation(),l.stopImmediatePropagation()},_x:!1,_y:!1},focus:{dist:(e,l,o,n,s)=>n-s,prox:-1,bias:0},hover:{skip:[void 0],prox:null,bias:0},left:-10,top:-10,idx:null,dataIdx:null,idxs:null,event:null},ms={show:!0,stroke:"rgba(0,0,0,0.07)",width:2},bi=ke({},ms,{filter:es}),ds=ke({},bi,{size:10}),gs=ke({},ms,{show:!1}),xi='12px system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',ws="bold "+xi,Ss=1.5,zo={show:!0,scale:"x",stroke:pi,space:50,gap:5,alignTo:1,size:50,labelGap:0,labelSize:30,labelFont:ws,side:2,grid:bi,ticks:ds,border:gs,font:xi,lineGap:Ss,rotate:0},Kf="Value",jf="Time",Ro={show:!0,scale:"x",auto:!1,sorted:1,min:ce,max:-ce,idxs:[]};function qf(e,l,o,n,s){return l.map(c=>c==null?"":Si(c))}function Jf(e,l,o,n,s,c,u){let h=[],p=Ot.get(s)||0;o=u?o:ae(_n(o,s),p);for(let d=o;d<=n;d=ae(d+s,p))h.push(Object.is(d,-0)?0:d);return h}function fi(e,l,o,n,s,c,u){const h=[],p=e.scales[e.axes[l].scale].log,d=p==10?Pt:Qo,v=tt(d(o));s=Al(p,v),p==10&&(s=$t[wt(s,$t)]);let g=o,w=s*p;p==10&&(w=$t[wt(w,$t)]);do h.push(g),g=g+s,p==10&&!Ot.has(g)&&(g=ae(g,Ot.get(s))),g>=w&&(s=g,w=s*p,p==10&&(w=$t[wt(w,$t)]));while(g<=n);return h}function Zf(e,l,o,n,s,c,u){let p=e.scales[e.axes[l].scale].asinh,d=n>p?fi(e,l,Ie(p,o),n,s):[p],v=n>=0&&o<=0?[0]:[];return(o<-p?fi(e,l,Ie(p,-n),-o,s):[p]).reverse().map(w=>-w).concat(v,d)}const _s=/./,Qf=/[12357]/,$f=/[125]/,Fo=/1/,ui=(e,l,o,n)=>e.map((s,c)=>l==4&&s==0||c%n==0&&o.test(s.toExponential()[s<0?1:0])?s:null);function Xf(e,l,o,n,s){let c=e.axes[o],u=c.scale,h=e.scales[u],p=e.valToPos,d=c._space,v=p(10,u),g=p(9,u)-v>=d?_s:p(7,u)-v>=d?Qf:p(5,u)-v>=d?$f:Fo;if(g==Fo){let w=De(p(1,u)-v);if(w<d)return ui(l.slice().reverse(),h.distr,g,ct(d/w)).reverse()}return ui(l,h.distr,g,1)}function eu(e,l,o,n,s){let c=e.axes[o],u=c.scale,h=c._space,p=e.valToPos,d=De(p(1,u)-p(2,u));return d<h?ui(l.slice().reverse(),3,_s,ct(h/d)).reverse():l}function tu(e,l,o,n){return n==null?mi:l==null?"":Si(l)}const Ho={show:!0,scale:"y",stroke:pi,space:30,gap:5,alignTo:1,size:50,labelGap:0,labelSize:30,labelFont:ws,side:3,grid:bi,ticks:ds,border:gs,font:xi,lineGap:Ss,rotate:0};function lu(e,l){let o=3+(e||1)*2;return ae(o*l,3)}function nu(e,l){let{scale:o,idxs:n}=e.series[0],s=e._data[0],c=e.valToPos(s[n[0]],o,!0),u=e.valToPos(s[n[1]],o,!0),h=De(u-c),p=e.series[l],d=h/(p.points.space*se);return n[1]-n[0]<=d}const No={scale:null,auto:!0,sorted:0,min:ce,max:-ce},vs=(e,l,o,n,s)=>s,Oo={show:!0,auto:!0,sorted:0,gaps:vs,alpha:1,facets:[ke({},No,{scale:"x"}),ke({},No,{scale:"y"})]},Wo={scale:"y",auto:!0,sorted:0,show:!0,spanGaps:!1,gaps:vs,alpha:1,points:{show:nu,filter:null},values:null,min:ce,max:-ce,idxs:[],path:null,clip:null};function iu(e,l,o,n,s){return o/10}const ys={time:Dr,auto:!0,distr:1,log:10,asinh:1,min:null,max:null,dir:1,ori:0},ou=ke({},ys,{time:!1,ori:1}),Go={};function bs(e,l){let o=Go[e];return o||(o={key:e,plots:[],sub(n){o.plots.push(n)},unsub(n){o.plots=o.plots.filter(s=>s!=n)},pub(n,s,c,u,h,p,d){for(let v=0;v<o.plots.length;v++)o.plots[v]!=s&&o.plots[v].pub(n,s,c,u,h,p,d)}},e!=null&&(Go[e]=o)),o}const Pl=1,ci=2;function ll(e,l,o){const n=e.mode,s=e.series[l],c=n==2?e._data[l]:e._data,u=e.scales,h=e.bbox;let p=c[0],d=n==2?c[1]:c[l],v=n==2?u[s.facets[0].scale]:u[e.series[0].scale],g=n==2?u[s.facets[1].scale]:u[s.scale],w=h.left,C=h.top,P=h.width,V=h.height,z=e.valToPosH,G=e.valToPosV;return v.ori==0?o(s,p,d,v,g,z,G,w,C,P,V,bn,Cl,kn,ks,Ts):o(s,p,d,v,g,G,z,C,w,V,P,xn,Vl,Ti,Ms,As)}function ki(e,l){let o=0,n=0,s=ie(e.bands,_i);for(let c=0;c<s.length;c++){let u=s[c];u.series[0]==l?o=u.dir:u.series[1]==l&&(u.dir==1?n|=1:n|=2)}return[o,n==1?-1:n==2?1:n==3?2:0]}function su(e,l,o,n,s){let c=e.mode,u=e.series[l],h=c==2?u.facets[1].scale:u.scale,p=e.scales[h];return s==-1?p.min:s==1?p.max:p.distr==3?p.dir==1?p.min:p.max:0}function Lt(e,l,o,n,s,c){return ll(e,l,(u,h,p,d,v,g,w,C,P,V,z)=>{let G=u.pxRound;const y=d.dir*(d.ori==0?1:-1),H=d.ori==0?Cl:Vl;let x,j;y==1?(x=o,j=n):(x=n,j=o);let D=G(g(h[x],d,V,C)),J=G(w(p[x],v,z,P)),I=G(g(h[j],d,V,C)),Z=G(w(c==1?v.max:v.min,v,z,P)),U=new Path2D(s);return H(U,I,Z),H(U,D,Z),H(U,D,J),U})}function yn(e,l,o,n,s,c){let u=null;if(e.length>0){u=new Path2D;const h=l==0?kn:Ti;let p=o;for(let g=0;g<e.length;g++){let w=e[g];if(w[1]>w[0]){let C=w[0]-p;C>0&&h(u,p,n,C,n+c),p=w[1]}}let d=o+s-p,v=10;d>0&&h(u,p,n-v/2,d,n+c+v)}return u}function ru(e,l,o){let n=e[e.length-1];n&&n[0]==l?n[1]=o:e.push([l,o])}function Mi(e,l,o,n,s,c,u){let h=[],p=e.length;for(let d=s==1?o:n;d>=o&&d<=n;d+=s)if(l[d]===null){let g=d,w=d;if(s==1)for(;++d<=n&&l[d]===null;)w=d;else for(;--d>=o&&l[d]===null;)w=d;let C=c(e[g]),P=w==g?C:c(e[w]),V=g-s;C=u<=0&&V>=0&&V<p?c(e[V]):C;let G=w+s;P=u>=0&&G>=0&&G<p?c(e[G]):P,P>=C&&h.push([C,P])}return h}function Bo(e){return e==0?Xo:e==1?Ae:l=>Qt(l,e)}function xs(e){let l=e==0?bn:xn,o=e==0?(s,c,u,h,p,d)=>{s.arcTo(c,u,h,p,d)}:(s,c,u,h,p,d)=>{s.arcTo(u,c,p,h,d)},n=e==0?(s,c,u,h,p)=>{s.rect(c,u,h,p)}:(s,c,u,h,p)=>{s.rect(u,c,p,h)};return(s,c,u,h,p,d=0,v=0)=>{d==0&&v==0?n(s,c,u,h,p):(d=St(d,h/2,p/2),v=St(v,h/2,p/2),l(s,c+d,u),o(s,c+h,u,c+h,u+p,d),o(s,c+h,u+p,c,u+p,v),o(s,c,u+p,c,u,v),o(s,c,u,c+h,u,d),s.closePath())}}const bn=(e,l,o)=>{e.moveTo(l,o)},xn=(e,l,o)=>{e.moveTo(o,l)},Cl=(e,l,o)=>{e.lineTo(l,o)},Vl=(e,l,o)=>{e.lineTo(o,l)},kn=xs(0),Ti=xs(1),ks=(e,l,o,n,s,c)=>{e.arc(l,o,n,s,c)},Ms=(e,l,o,n,s,c)=>{e.arc(o,l,n,s,c)},Ts=(e,l,o,n,s,c,u)=>{e.bezierCurveTo(l,o,n,s,c,u)},As=(e,l,o,n,s,c,u)=>{e.bezierCurveTo(o,l,s,n,u,c)};function Ds(e){return(l,o,n,s,c)=>ll(l,o,(u,h,p,d,v,g,w,C,P,V,z)=>{let{pxRound:G,points:y}=u,H,x;d.ori==0?(H=bn,x=ks):(H=xn,x=Ms);const j=ae(y.width*se,3);let D=(y.size-y.width)/2*se,J=ae(D*2,3),I=new Path2D,Z=new Path2D,{left:U,top:k,width:W,height:L}=l.bbox;kn(Z,U-J,k-J,W+J*2,L+J*2);const Y=O=>{if(p[O]!=null){let ee=G(g(h[O],d,V,C)),N=G(w(p[O],v,z,P));H(I,ee+D,N),x(I,ee,N,D,0,pn*2)}};if(c)c.forEach(Y);else for(let O=n;O<=s;O++)Y(O);return{stroke:j>0?I:null,fill:I,clip:Z,flags:Pl|ci}})}function Es(e){return(l,o,n,s,c,u)=>{n!=s&&(c!=n&&u!=n&&e(l,o,n),c!=s&&u!=s&&e(l,o,s),e(l,o,u))}}const fu=Es(Cl),uu=Es(Vl);function Ps(e){const l=ie(e==null?void 0:e.alignGaps,0);return(o,n,s,c)=>ll(o,n,(u,h,p,d,v,g,w,C,P,V,z)=>{[s,c]=wn(p,s,c);let G=u.pxRound,y=L=>G(g(L,d,V,C)),H=L=>G(w(L,v,z,P)),x,j;d.ori==0?(x=Cl,j=fu):(x=Vl,j=uu);const D=d.dir*(d.ori==0?1:-1),J={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:Pl},I=J.stroke;let Z=!1;if(c-s>=V*4){let L=R=>o.posToVal(R,d.key,!0),Y=null,O=null,ee,N,Ke,we=y(h[D==1?s:c]),te=y(h[s]),fe=y(h[c]),Q=L(D==1?te+1:fe-1);for(let R=D==1?s:c;R>=s&&R<=c;R+=D){let Me=h[R],Se=(D==1?Me<Q:Me>Q)?we:y(Me),le=p[R];Se==we?le!=null?(N=le,Y==null?(x(I,Se,H(N)),ee=Y=O=N):N<Y?Y=N:N>O&&(O=N)):le===null&&(Z=!0):(Y!=null&&j(I,we,H(Y),H(O),H(ee),H(N)),le!=null?(N=le,x(I,Se,H(N)),Y=O=ee=N):(Y=O=null,le===null&&(Z=!0)),we=Se,Q=L(we+D))}Y!=null&&Y!=O&&Ke!=we&&j(I,we,H(Y),H(O),H(ee),H(N))}else for(let L=D==1?s:c;L>=s&&L<=c;L+=D){let Y=p[L];Y===null?Z=!0:Y!=null&&x(I,y(h[L]),H(Y))}let[k,W]=ki(o,n);if(u.fill!=null||k!=0){let L=J.fill=new Path2D(I),Y=u.fillTo(o,n,u.min,u.max,k),O=H(Y),ee=y(h[s]),N=y(h[c]);D==-1&&([N,ee]=[ee,N]),x(L,N,O),x(L,ee,O)}if(!u.spanGaps){let L=[];Z&&L.push(...Mi(h,p,s,c,D,y,l)),J.gaps=L=u.gaps(o,n,s,c,L),J.clip=yn(L,d.ori,C,P,V,z)}return W!=0&&(J.band=W==2?[Lt(o,n,s,c,I,-1),Lt(o,n,s,c,I,1)]:Lt(o,n,s,c,I,W)),J})}function cu(e){const l=ie(e.align,1),o=ie(e.ascDesc,!1),n=ie(e.alignGaps,0),s=ie(e.extend,!1);return(c,u,h,p)=>ll(c,u,(d,v,g,w,C,P,V,z,G,y,H)=>{[h,p]=wn(g,h,p);let x=d.pxRound,{left:j,width:D}=c.bbox,J=te=>x(P(te,w,y,z)),I=te=>x(V(te,C,H,G)),Z=w.ori==0?Cl:Vl;const U={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:Pl},k=U.stroke,W=w.dir*(w.ori==0?1:-1);let L=I(g[W==1?h:p]),Y=J(v[W==1?h:p]),O=Y,ee=Y;s&&l==-1&&(ee=j,Z(k,ee,L)),Z(k,Y,L);for(let te=W==1?h:p;te>=h&&te<=p;te+=W){let fe=g[te];if(fe==null)continue;let Q=J(v[te]),R=I(fe);l==1?Z(k,Q,L):Z(k,O,R),Z(k,Q,R),L=R,O=Q}let N=O;s&&l==1&&(N=j+D,Z(k,N,L));let[Ke,we]=ki(c,u);if(d.fill!=null||Ke!=0){let te=U.fill=new Path2D(k),fe=d.fillTo(c,u,d.min,d.max,Ke),Q=I(fe);Z(te,N,Q),Z(te,ee,Q)}if(!d.spanGaps){let te=[];te.push(...Mi(v,g,h,p,W,J,n));let fe=d.width*se/2,Q=o||l==1?fe:-fe,R=o||l==-1?-fe:fe;te.forEach(Me=>{Me[0]+=Q,Me[1]+=R}),U.gaps=te=d.gaps(c,u,h,p,te),U.clip=yn(te,w.ori,z,G,y,H)}return we!=0&&(U.band=we==2?[Lt(c,u,h,p,k,-1),Lt(c,u,h,p,k,1)]:Lt(c,u,h,p,k,we)),U})}function Yo(e,l,o,n,s,c,u=ce){if(e.length>1){let h=null;for(let p=0,d=1/0;p<e.length;p++)if(l[p]!==void 0){if(h!=null){let v=De(e[p]-e[h]);v<d&&(d=v,u=De(o(e[p],n,s,c)-o(e[h],n,s,c)))}h=p}}return u}function au(e){e=e||Zl;const l=ie(e.size,[.6,ce,1]),o=e.align||0,n=e.gap||0;let s=e.radius;s=s==null?[0,0]:typeof s=="number"?[s,0]:s;const c=X(s),u=1-l[0],h=ie(l[1],ce),p=ie(l[2],1),d=ie(e.disp,Zl),v=ie(e.each,C=>{}),{fill:g,stroke:w}=d;return(C,P,V,z)=>ll(C,P,(G,y,H,x,j,D,J,I,Z,U,k)=>{let W=G.pxRound,L=o,Y=n*se,O=h*se,ee=p*se,N,Ke;x.ori==0?[N,Ke]=c(C,P):[Ke,N]=c(C,P);const we=x.dir*(x.ori==0?1:-1);let te=x.ori==0?kn:Ti,fe=x.ori==0?v:(A,he,Te,sl,Bt,vt,Yt)=>{v(A,he,Te,Bt,sl,Yt,vt)},Q=ie(C.bands,_i).find(A=>A.series[0]==P),R=Q!=null?Q.dir:0,Me=G.fillTo(C,P,G.min,G.max,R),Oe=W(J(Me,j,k,Z)),Se,le,at,Je=U,ve=W(G.width*se),_t=!1,At=null,nt=null,Ct=null,nl=null;g!=null&&(ve==0||w!=null)&&(_t=!0,At=g.values(C,P,V,z),nt=new Map,new Set(At).forEach(A=>{A!=null&&nt.set(A,new Path2D)}),ve>0&&(Ct=w.values(C,P,V,z),nl=new Map,new Set(Ct).forEach(A=>{A!=null&&nl.set(A,new Path2D)})));let{x0:il,size:zl}=d;if(il!=null&&zl!=null){L=1,y=il.values(C,P,V,z),il.unit==2&&(y=y.map(Te=>C.posToVal(I+Te*U,x.key,!0)));let A=zl.values(C,P,V,z);zl.unit==2?le=A[0]*U:le=D(A[0],x,U,I)-D(0,x,U,I),Je=Yo(y,H,D,x,U,I,Je),at=Je-le+Y}else Je=Yo(y,H,D,x,U,I,Je),at=Je*u+Y,le=Je-at;at<1&&(at=0),ve>=le/2&&(ve=0),at<5&&(W=Xo);let $l=at>0,Wt=Je-at-($l?ve:0);le=W(ri(Wt,ee,O)),Se=(L==0?le/2:L==we?0:le)-L*we*((L==0?Y/2:0)+($l?ve/2:0));const We={stroke:null,fill:null,clip:null,band:null,gaps:null,flags:0},ol=_t?null:new Path2D;let Dt=null;if(Q!=null)Dt=C.data[Q.series[1]];else{let{y0:A,y1:he}=d;A!=null&&he!=null&&(H=he.values(C,P,V,z),Dt=A.values(C,P,V,z))}let Gt=N*le,q=Ke*le;for(let A=we==1?V:z;A>=V&&A<=z;A+=we){let he=H[A];if(he==null)continue;if(Dt!=null){let je=Dt[A]??0;if(he-je==0)continue;Oe=J(je,j,k,Z)}let Te=x.distr!=2||d!=null?y[A]:A,sl=D(Te,x,U,I),Bt=J(ie(he,Me),j,k,Z),vt=W(sl-Se),Yt=W(Ie(Bt,Oe)),Ze=W(St(Bt,Oe)),it=Yt-Ze;if(he!=null){let je=he<0?q:Gt,ht=he<0?Gt:q;_t?(ve>0&&Ct[A]!=null&&te(nl.get(Ct[A]),vt,Ze+tt(ve/2),le,Ie(0,it-ve),je,ht),At[A]!=null&&te(nt.get(At[A]),vt,Ze+tt(ve/2),le,Ie(0,it-ve),je,ht)):te(ol,vt,Ze+tt(ve/2),le,Ie(0,it-ve),je,ht),fe(C,P,A,vt-ve/2,Ze,le+ve,it)}}return ve>0?We.stroke=_t?nl:ol:_t||(We._fill=G.width==0?G._fill:G._stroke??G._fill,We.width=0),We.fill=_t?nt:ol,We})}function hu(e,l){const o=ie(l==null?void 0:l.alignGaps,0);return(n,s,c,u)=>ll(n,s,(h,p,d,v,g,w,C,P,V,z,G)=>{[c,u]=wn(d,c,u);let y=h.pxRound,H=N=>y(w(N,v,z,P)),x=N=>y(C(N,g,G,V)),j,D,J;v.ori==0?(j=bn,J=Cl,D=Ts):(j=xn,J=Vl,D=As);const I=v.dir*(v.ori==0?1:-1);let Z=H(p[I==1?c:u]),U=Z,k=[],W=[];for(let N=I==1?c:u;N>=c&&N<=u;N+=I)if(d[N]!=null){let we=p[N],te=H(we);k.push(U=te),W.push(x(d[N]))}const L={stroke:e(k,W,j,J,D,y),fill:null,clip:null,band:null,gaps:null,flags:Pl},Y=L.stroke;let[O,ee]=ki(n,s);if(h.fill!=null||O!=0){let N=L.fill=new Path2D(Y),Ke=h.fillTo(n,s,h.min,h.max,O),we=x(Ke);J(N,U,we),J(N,Z,we)}if(!h.spanGaps){let N=[];N.push(...Mi(p,d,c,u,I,H,o)),L.gaps=N=h.gaps(n,s,c,u,N),L.clip=yn(N,v.ori,P,V,z,G)}return ee!=0&&(L.band=ee==2?[Lt(n,s,c,u,Y,-1),Lt(n,s,c,u,Y,1)]:Lt(n,s,c,u,Y,ee)),L})}function pu(e){return hu(mu,e)}function mu(e,l,o,n,s,c){const u=e.length;if(u<2)return null;const h=new Path2D;if(o(h,e[0],l[0]),u==2)n(h,e[1],l[1]);else{let p=Array(u),d=Array(u-1),v=Array(u-1),g=Array(u-1);for(let w=0;w<u-1;w++)v[w]=l[w+1]-l[w],g[w]=e[w+1]-e[w],d[w]=v[w]/g[w];p[0]=d[0];for(let w=1;w<u-1;w++)d[w]===0||d[w-1]===0||d[w-1]>0!=d[w]>0?p[w]=0:(p[w]=3*(g[w-1]+g[w])/((2*g[w]+g[w-1])/d[w-1]+(g[w]+2*g[w-1])/d[w]),isFinite(p[w])||(p[w]=0));p[u-1]=d[u-2];for(let w=0;w<u-1;w++)s(h,e[w]+g[w]/3,l[w]+p[w]*g[w]/3,e[w+1]-g[w]/3,l[w+1]-p[w+1]*g[w]/3,e[w+1],l[w+1])}return h}const ai=new Set;function Io(){for(let e of ai)e.syncRect(!0)}Ll&&(el(jr,Tl,Io),el(qr,Tl,Io,!0),el(mn,Tl,()=>{Ue.pxRatio=se}));const du=Ps(),gu=Ds();function Uo(e,l,o,n){return(n?[e[0],e[1]].concat(e.slice(2)):[e[0]].concat(e.slice(1))).map((c,u)=>hi(c,u,l,o))}function wu(e,l){return e.map((o,n)=>n==0?{}:ke({},l,o))}function hi(e,l,o,n){return ke({},l==0?o:n,e)}function Ls(e,l,o){return l==null?Dl:[l,o]}const Su=Ls;function _u(e,l,o){return l==null?Dl:dn(l,o,wi,!0)}function Cs(e,l,o,n){return l==null?Dl:Sn(l,o,e.scales[n].log,!1)}const vu=Cs;function Vs(e,l,o,n){return l==null?Dl:gi(l,o,e.scales[n].log,!1)}const yu=Vs;function bu(e,l,o,n,s){let c=Ie(xo(e),xo(l)),u=l-e,h=wt(s/n*u,o);do{let p=o[h],d=n*p/u;if(d>=s&&c+(p<5?Ot.get(p):0)<=17)return[p,d]}while(++h<o.length);return[0,0]}function Ko(e){let l,o;return e=e.replace(/(\d+)px/,(n,s)=>(l=Ae((o=+s)*se))+"px"),[e,l,o]}function xu(e){e.show&&[e.font,e.labelFont].forEach(l=>{let o=ae(l[2]*se,1);l[0]=l[0].replace(/[0-9.]+px/,o+"px"),l[1]=o})}function Ue(e,l,o){const n={mode:ie(e.mode,1)},s=n.mode;function c(t,i,r,f){let a=i.valToPct(t);return f+r*(i.dir==-1?1-a:a)}function u(t,i,r,f){let a=i.valToPct(t);return f+r*(i.dir==-1?a:1-a)}function h(t,i,r,f){return i.ori==0?c(t,i,r,f):u(t,i,r,f)}n.valToPosH=c,n.valToPosV=u;let p=!1;n.status=0;const d=n.root=ut(Er);if(e.id!=null&&(d.id=e.id),et(d,e.class),e.title){let t=ut(Cr,d);t.textContent=e.title}const v=gt("canvas"),g=n.ctx=v.getContext("2d"),w=ut(Vr,d);el("click",w,t=>{t.target===P&&(pe!=wl||_e!=Sl)&&He.click(n,t)},!0);const C=n.under=ut(zr,w);w.appendChild(v);const P=n.over=ut(Rr,w);e=El(e);const V=+ie(e.pxAlign,1),z=Bo(V);(e.plugins||[]).forEach(t=>{t.opts&&(e=t.opts(n,e)||e)});const G=e.ms||.001,y=n.series=s==1?Uo(e.series||[],Ro,Wo,!1):wu(e.series||[null],Oo),H=n.axes=Uo(e.axes||[],zo,Ho,!0),x=n.scales={},j=n.bands=e.bands||[];j.forEach(t=>{t.fill=X(t.fill||null),t.dir=ie(t.dir,-1)});const D=s==2?y[1].facets[0].scale:y[0].scale,J={axes:Js,series:Is},I=(e.drawOrder||["axes","series"]).map(t=>J[t]);function Z(t){const i=t.distr==3?r=>Pt(r>0?r:t.clamp(n,r,t.min,t.max,t.key)):t.distr==4?r=>Xn(r,t.asinh):t.distr==100?r=>t.fwd(r):r=>r;return r=>{let f=i(r),{_min:a,_max:m}=t,S=m-a;return(f-a)/S}}function U(t){let i=x[t];if(i==null){let r=(e.scales||Zl)[t]||Zl;if(r.from!=null){U(r.from);let f=ke({},x[r.from],r,{key:t});f.valToPct=Z(f),x[t]=f}else{i=x[t]=ke({},t==D?ys:ou,r),i.key=t;let f=i.time,a=i.range,m=Nt(a);if((t!=D||s==2&&!f)&&(m&&(a[0]==null||a[1]==null)&&(a={min:a[0]==null?vo:{mode:1,hard:a[0],soft:a[0]},max:a[1]==null?vo:{mode:1,hard:a[1],soft:a[1]}},m=!1),!m&&vn(a))){let S=a;a=(_,b,M)=>b==null?Dl:dn(b,M,S)}i.range=X(a||(f?Su:t==D?i.distr==3?vu:i.distr==4?yu:Ls:i.distr==3?Cs:i.distr==4?Vs:_u)),i.auto=X(m?!1:i.auto),i.clamp=X(i.clamp||iu),i._min=i._max=null,i.valToPct=Z(i)}}}U("x"),U("y"),s==1&&y.forEach(t=>{U(t.scale)}),H.forEach(t=>{U(t.scale)});for(let t in e.scales)U(t);const k=x[D],W=k.distr;let L,Y;k.ori==0?(et(d,Pr),L=c,Y=u):(et(d,Lr),L=u,Y=c);const O={};for(let t in x){let i=x[t];(i.min!=null||i.max!=null)&&(O[t]={min:i.min,max:i.max},i.min=i.max=null)}const ee=e.tzDate||(t=>new Date(Ae(t/G))),N=e.fmtDate||vi,Ke=G==1?Lf(ee):zf(ee),we=Lo(ee,Po(G==1?Pf:Vf,N)),te=Vo(ee,Co(Ff,N)),fe=[],Q=n.legend=ke({},Of,e.legend),R=n.cursor=ke({},Uf,{drag:{y:s==2}},e.cursor),Me=Q.show,Oe=R.show,Se=Q.markers;Q.idxs=fe,Se.width=X(Se.width),Se.dash=X(Se.dash),Se.stroke=X(Se.stroke),Se.fill=X(Se.fill);let le,at,Je,ve=[],_t=[],At,nt=!1,Ct={};if(Q.live){const t=y[1]?y[1].values:null;nt=t!=null,At=nt?t(n,1,0):{_:0};for(let i in At)Ct[i]=mi}if(Me)if(le=gt("table",Gr,d),Je=gt("tbody",null,le),Q.mount(n,le),nt){at=gt("thead",null,le,Je);let t=gt("tr",null,at);gt("th",null,t);for(var nl in At)gt("th",so,t).textContent=nl}else et(le,Yr),Q.live&&et(le,Br);const il={show:!0},zl={show:!1};function $l(t,i){if(i==0&&(nt||!Q.live||s==2))return Dl;let r=[],f=gt("tr",Ir,Je,Je.childNodes[i]);et(f,t.class),t.show||et(f,Xt);let a=gt("th",null,f);if(Se.show){let _=ut(Ur,a);if(i>0){let b=Se.width(n,i);b&&(_.style.border=b+"px "+Se.dash(n,i)+" "+Se.stroke(n,i)),_.style.background=Se.fill(n,i)}}let m=ut(so,a);t.label instanceof HTMLElement?m.appendChild(t.label):m.textContent=t.label,i>0&&(Se.show||(m.style.color=t.width>0?Se.stroke(n,i):Se.fill(n,i)),We("click",a,_=>{if(R._lock)return;Ut(_);let b=y.indexOf(t);if((_.ctrlKey||_.metaKey)!=Q.isolate){let M=y.some((T,E)=>E>0&&E!=b&&T.show);y.forEach((T,E)=>{E>0&&bt(E,M?E==b?il:zl:il,!0,xe.setSeries)})}else bt(b,{show:!t.show},!0,xe.setSeries)},!1),fl&&We(co,a,_=>{R._lock||(Ut(_),bt(y.indexOf(t),vl,!0,xe.setSeries))},!1));for(var S in At){let _=gt("td",Kr,f);_.textContent="--",r.push(_)}return[f,r]}const Wt=new Map;function We(t,i,r,f=!0){const a=Wt.get(i)||{},m=R.bind[t](n,i,r,f);m&&(el(t,i,a[t]=m),Wt.set(i,a))}function ol(t,i,r){const f=Wt.get(i)||{};for(let a in f)(t==null||a==t)&&(si(a,i,f[a]),delete f[a]);t==null&&Wt.delete(i)}let Dt=0,Gt=0,q=0,A=0,he=0,Te=0,sl=he,Bt=Te,vt=q,Yt=A,Ze=0,it=0,je=0,ht=0;n.bbox={};let Mn=!1,Xl=!1,rl=!1,It=!1,en=!1,ot=!1;function Tn(t,i,r){(r||t!=n.width||i!=n.height)&&Ai(t,i),pl(!1),rl=!0,Xl=!0,ml()}function Ai(t,i){n.width=Dt=q=t,n.height=Gt=A=i,he=Te=0,Hs(),Ns();let r=n.bbox;Ze=r.left=Qt(he*se,.5),it=r.top=Qt(Te*se,.5),je=r.width=Qt(q*se,.5),ht=r.height=Qt(A*se,.5)}const zs=3;function Rs(){let t=!1,i=0;for(;!t;){i++;let r=js(i),f=qs(i);t=i==zs||r&&f,t||(Ai(n.width,n.height),Xl=!0)}}function Fs({width:t,height:i}){Tn(t,i)}n.setSize=Fs;function Hs(){let t=!1,i=!1,r=!1,f=!1;H.forEach((a,m)=>{if(a.show&&a._show){let{side:S,_size:_}=a,b=S%2,M=a.label!=null?a.labelSize:0,T=_+M;T>0&&(b?(q-=T,S==3?(he+=T,f=!0):r=!0):(A-=T,S==0?(Te+=T,t=!0):i=!0))}}),Kt[0]=t,Kt[1]=r,Kt[2]=i,Kt[3]=f,q-=Vt[1]+Vt[3],he+=Vt[3],A-=Vt[2]+Vt[0],Te+=Vt[0]}function Ns(){let t=he+q,i=Te+A,r=he,f=Te;function a(m,S){switch(m){case 1:return t+=S,t-S;case 2:return i+=S,i-S;case 3:return r-=S,r+S;case 0:return f-=S,f+S}}H.forEach((m,S)=>{if(m.show&&m._show){let _=m.side;m._pos=a(_,m._size),m.label!=null&&(m._lpos=a(_,m.labelSize))}})}if(R.dataIdx==null){let t=R.hover,i=t.skip=new Set(t.skip??[]);i.add(void 0);let r=t.prox=X(t.prox),f=t.bias??(t.bias=0);R.dataIdx=(a,m,S,_)=>{if(m==0)return S;let b=S,M=r(a,m,S,_)??ce,T=M>=0&&M<ce,E=k.ori==0?q:A,K=R.left,oe=l[0],ne=l[m];if(i.has(ne[S])){b=null;let $=null,B=null,F;if(f==0||f==-1)for(F=S;$==null&&F-- >0;)i.has(ne[F])||($=F);if(f==0||f==1)for(F=S;B==null&&F++<ne.length;)i.has(ne[F])||(B=F);if($!=null||B!=null)if(T){let de=$==null?-1/0:L(oe[$],k,E,0),ye=B==null?1/0:L(oe[B],k,E,0),Re=K-de,ue=ye-K;Re<=ue?Re<=M&&(b=$):ue<=M&&(b=B)}else b=B==null?$:$==null?B:S-$<=B-S?$:B}else T&&De(K-L(oe[S],k,E,0))>M&&(b=null);return b}}const Ut=t=>{R.event=t};R.idxs=fe,R._lock=!1;let Ne=R.points;Ne.show=X(Ne.show),Ne.size=X(Ne.size),Ne.stroke=X(Ne.stroke),Ne.width=X(Ne.width),Ne.fill=X(Ne.fill);const yt=n.focus=ke({},e.focus||{alpha:.3},R.focus),fl=yt.prox>=0,ul=fl&&Ne.one;let st=[],cl=[],al=[];function Di(t,i){let r=Ne.show(n,i);if(r instanceof HTMLElement)return et(r,Wr),et(r,t.class),Tt(r,-10,-10,q,A),P.insertBefore(r,st[i]),r}function Ei(t,i){if(s==1||i>0){let r=s==1&&x[t.scale].time,f=t.value;t.value=r?To(f)?Vo(ee,Co(f,N)):f||te:f||tu,t.label=t.label||(r?jf:Kf)}if(ul||i>0){t.width=t.width==null?1:t.width,t.paths=t.paths||du||of,t.fillTo=X(t.fillTo||su),t.pxAlign=+ie(t.pxAlign,V),t.pxRound=Bo(t.pxAlign),t.stroke=X(t.stroke||null),t.fill=X(t.fill||null),t._stroke=t._fill=t._paths=t._focus=null;let r=lu(Ie(1,t.width),1),f=t.points=ke({},{size:r,width:Ie(1,r*.2),stroke:t.stroke,space:r*2,paths:gu,_stroke:null,_fill:null},t.points);f.show=X(f.show),f.filter=X(f.filter),f.fill=X(f.fill),f.stroke=X(f.stroke),f.paths=X(f.paths),f.pxAlign=t.pxAlign}if(Me){let r=$l(t,i);ve.splice(i,0,r[0]),_t.splice(i,0,r[1]),Q.values.push(null)}if(Oe){fe.splice(i,0,null);let r=null;ul?i==0&&(r=Di(t,i)):i>0&&(r=Di(t,i)),st.splice(i,0,r),cl.splice(i,0,0),al.splice(i,0,0)}ze("addSeries",i)}function Os(t,i){i=i??y.length,t=s==1?hi(t,i,Ro,Wo):hi(t,i,{},Oo),y.splice(i,0,t),Ei(y[i],i)}n.addSeries=Os;function Ws(t){if(y.splice(t,1),Me){Q.values.splice(t,1),_t.splice(t,1);let i=ve.splice(t,1)[0];ol(null,i.firstChild),i.remove()}Oe&&(fe.splice(t,1),st.splice(t,1)[0].remove(),cl.splice(t,1),al.splice(t,1)),ze("delSeries",t)}n.delSeries=Ws;const Kt=[!1,!1,!1,!1];function Gs(t,i){if(t._show=t.show,t.show){let r=t.side%2,f=x[t.scale];f==null&&(t.scale=r?y[1].scale:D,f=x[t.scale]);let a=f.time;t.size=X(t.size),t.space=X(t.space),t.rotate=X(t.rotate),Nt(t.incrs)&&t.incrs.forEach(S=>{!Ot.has(S)&&Ot.set(S,ls(S))}),t.incrs=X(t.incrs||(f.distr==2?Af:a?G==1?Ef:Cf:$t)),t.splits=X(t.splits||(a&&f.distr==1?Ke:f.distr==3?fi:f.distr==4?Zf:Jf)),t.stroke=X(t.stroke),t.grid.stroke=X(t.grid.stroke),t.ticks.stroke=X(t.ticks.stroke),t.border.stroke=X(t.border.stroke);let m=t.values;t.values=Nt(m)&&!Nt(m[0])?X(m):a?Nt(m)?Lo(ee,Po(m,N)):To(m)?Rf(ee,m):m||we:m||qf,t.filter=X(t.filter||(f.distr>=3&&f.log==10?Xf:f.distr==3&&f.log==2?eu:es)),t.font=Ko(t.font),t.labelFont=Ko(t.labelFont),t._size=t.size(n,null,i,0),t._space=t._rotate=t._incrs=t._found=t._splits=t._values=null,t._size>0&&(Kt[i]=!0,t._el=ut(Fr,w))}}function Rl(t,i,r,f){let[a,m,S,_]=r,b=i%2,M=0;return b==0&&(_||m)&&(M=i==0&&!a||i==2&&!S?Ae(zo.size/3):0),b==1&&(a||S)&&(M=i==1&&!m||i==3&&!_?Ae(Ho.size/2):0),M}const Pi=n.padding=(e.padding||[Rl,Rl,Rl,Rl]).map(t=>X(ie(t,Rl))),Vt=n._padding=Pi.map((t,i)=>t(n,i,Kt,0));let Fe,Pe=null,Le=null;const tn=s==1?y[0].idxs:null;let pt=null,Fl=!1;function Li(t,i){if(l=t??[],n.data=n._data=l,s==2){Fe=0;for(let r=1;r<y.length;r++)Fe+=l[r][0].length}else{l.length==0&&(n.data=n._data=l=[[]]),pt=l[0],Fe=pt.length;let r=l;if(W==2){r=l.slice();let f=r[0]=Array(Fe);for(let a=0;a<Fe;a++)f[a]=a}n._data=l=r}if(pl(!0),ze("setData"),W==2&&(rl=!0),i!==!1){let r=k;r.auto(n,Fl)?An():Rt(D,r.min,r.max),It=It||R.left>=0,ot=!0,ml()}}n.setData=Li;function An(){Fl=!0;let t,i;s==1&&(Fe>0?(Pe=tn[0]=0,Le=tn[1]=Fe-1,t=l[0][Pe],i=l[0][Le],W==2?(t=Pe,i=Le):t==i&&(W==3?[t,i]=Sn(t,t,k.log,!1):W==4?[t,i]=gi(t,t,k.log,!1):k.time?i=t+Ae(86400/G):[t,i]=dn(t,i,wi,!0))):(Pe=tn[0]=t=null,Le=tn[1]=i=null)),Rt(D,t,i)}let ln,hl,Dn,En,Pn,Ln,Cn,Vn,zn,qe;function Ci(t,i,r,f,a,m){t??(t=fo),r??(r=_i),f??(f="butt"),a??(a=fo),m??(m="round"),t!=ln&&(g.strokeStyle=ln=t),a!=hl&&(g.fillStyle=hl=a),i!=Dn&&(g.lineWidth=Dn=i),m!=Pn&&(g.lineJoin=Pn=m),f!=Ln&&(g.lineCap=Ln=f),r!=En&&g.setLineDash(En=r)}function Vi(t,i,r,f){i!=hl&&(g.fillStyle=hl=i),t!=Cn&&(g.font=Cn=t),r!=Vn&&(g.textAlign=Vn=r),f!=zn&&(g.textBaseline=zn=f)}function Rn(t,i,r,f,a=0){if(f.length>0&&t.auto(n,Fl)&&(i==null||i.min==null)){let m=ie(Pe,0),S=ie(Le,f.length-1),_=r.min==null?$r(f,m,S,a,t.distr==3):[r.min,r.max];t.min=St(t.min,r.min=_[0]),t.max=Ie(t.max,r.max=_[1])}}const zi={min:null,max:null};function Bs(){for(let f in x){let a=x[f];O[f]==null&&(a.min==null||O[D]!=null&&a.auto(n,Fl))&&(O[f]=zi)}for(let f in x){let a=x[f];O[f]==null&&a.from!=null&&O[a.from]!=null&&(O[f]=zi)}O[D]!=null&&pl(!0);let t={};for(let f in O){let a=O[f];if(a!=null){let m=t[f]=El(x[f],ff);if(a.min!=null)ke(m,a);else if(f!=D||s==2)if(Fe==0&&m.from==null){let S=m.range(n,null,null,f);m.min=S[0],m.max=S[1]}else m.min=ce,m.max=-ce}}if(Fe>0){y.forEach((f,a)=>{if(s==1){let m=f.scale,S=O[m];if(S==null)return;let _=t[m];if(a==0){let b=_.range(n,_.min,_.max,m);_.min=b[0],_.max=b[1],Pe=wt(_.min,l[0]),Le=wt(_.max,l[0]),Le-Pe>1&&(l[0][Pe]<_.min&&Pe++,l[0][Le]>_.max&&Le--),f.min=pt[Pe],f.max=pt[Le]}else f.show&&f.auto&&Rn(_,S,f,l[a],f.sorted);f.idxs[0]=Pe,f.idxs[1]=Le}else if(a>0&&f.show&&f.auto){let[m,S]=f.facets,_=m.scale,b=S.scale,[M,T]=l[a],E=t[_],K=t[b];E!=null&&Rn(E,O[_],m,M,m.sorted),K!=null&&Rn(K,O[b],S,T,S.sorted),f.min=S.min,f.max=S.max}});for(let f in t){let a=t[f],m=O[f];if(a.from==null&&(m==null||m.min==null)){let S=a.range(n,a.min==ce?null:a.min,a.max==-ce?null:a.max,f);a.min=S[0],a.max=S[1]}}}for(let f in t){let a=t[f];if(a.from!=null){let m=t[a.from];if(m.min==null)a.min=a.max=null;else{let S=a.range(n,m.min,m.max,f);a.min=S[0],a.max=S[1]}}}let i={},r=!1;for(let f in t){let a=t[f],m=x[f];if(m.min!=a.min||m.max!=a.max){m.min=a.min,m.max=a.max;let S=m.distr;m._min=S==3?Pt(m.min):S==4?Xn(m.min,m.asinh):S==100?m.fwd(m.min):m.min,m._max=S==3?Pt(m.max):S==4?Xn(m.max,m.asinh):S==100?m.fwd(m.max):m.max,i[f]=r=!0}}if(r){y.forEach((f,a)=>{s==2?a>0&&i.y&&(f._paths=null):i[f.scale]&&(f._paths=null)});for(let f in i)rl=!0,ze("setScale",f);Oe&&R.left>=0&&(It=ot=!0)}for(let f in O)O[f]=null}function Ys(t){let i=ri(Pe-1,0,Fe-1),r=ri(Le+1,0,Fe-1);for(;t[i]==null&&i>0;)i--;for(;t[r]==null&&r<Fe-1;)r++;return[i,r]}function Is(){if(Fe>0){let t=y.some(i=>i._focus)&&qe!=yt.alpha;t&&(g.globalAlpha=qe=yt.alpha),y.forEach((i,r)=>{if(r>0&&i.show&&(Ri(r,!1),Ri(r,!0),i._paths==null)){let f=qe;qe!=i.alpha&&(g.globalAlpha=qe=i.alpha);let a=s==2?[0,l[r][0].length-1]:Ys(l[r]);i._paths=i.paths(n,r,a[0],a[1]),qe!=f&&(g.globalAlpha=qe=f)}}),y.forEach((i,r)=>{if(r>0&&i.show){let f=qe;qe!=i.alpha&&(g.globalAlpha=qe=i.alpha),i._paths!=null&&Fi(r,!1);{let a=i._paths!=null?i._paths.gaps:null,m=i.points.show(n,r,Pe,Le,a),S=i.points.filter(n,r,m,a);(m||S)&&(i.points._paths=i.points.paths(n,r,Pe,Le,S),Fi(r,!0))}qe!=f&&(g.globalAlpha=qe=f),ze("drawSeries",r)}}),t&&(g.globalAlpha=qe=1)}}function Ri(t,i){let r=i?y[t].points:y[t];r._stroke=r.stroke(n,t),r._fill=r.fill(n,t)}function Fi(t,i){let r=i?y[t].points:y[t],{stroke:f,fill:a,clip:m,flags:S,_stroke:_=r._stroke,_fill:b=r._fill,_width:M=r.width}=r._paths;M=ae(M*se,3);let T=null,E=M%2/2;i&&b==null&&(b=M>0?"#fff":_);let K=r.pxAlign==1&&E>0;if(K&&g.translate(E,E),!i){let oe=Ze-M/2,ne=it-M/2,$=je+M,B=ht+M;T=new Path2D,T.rect(oe,ne,$,B)}i?Fn(_,M,r.dash,r.cap,b,f,a,S,m):Us(t,_,M,r.dash,r.cap,b,f,a,S,T,m),K&&g.translate(-E,-E)}function Us(t,i,r,f,a,m,S,_,b,M,T){let E=!1;b!=0&&j.forEach((K,oe)=>{if(K.series[0]==t){let ne=y[K.series[1]],$=l[K.series[1]],B=(ne._paths||Zl).band;Nt(B)&&(B=K.dir==1?B[0]:B[1]);let F,de=null;ne.show&&B&&ef($,Pe,Le)?(de=K.fill(n,oe)||m,F=ne._paths.clip):B=null,Fn(i,r,f,a,de,S,_,b,M,T,F,B),E=!0}}),E||Fn(i,r,f,a,m,S,_,b,M,T)}const Hi=Pl|ci;function Fn(t,i,r,f,a,m,S,_,b,M,T,E){Ci(t,i,r,f,a),(b||M||E)&&(g.save(),b&&g.clip(b),M&&g.clip(M)),E?(_&Hi)==Hi?(g.clip(E),T&&g.clip(T),on(a,S),nn(t,m,i)):_&ci?(on(a,S),g.clip(E),nn(t,m,i)):_&Pl&&(g.save(),g.clip(E),T&&g.clip(T),on(a,S),g.restore(),nn(t,m,i)):(on(a,S),nn(t,m,i)),(b||M||E)&&g.restore()}function nn(t,i,r){r>0&&(i instanceof Map?i.forEach((f,a)=>{g.strokeStyle=ln=a,g.stroke(f)}):i!=null&&t&&g.stroke(i))}function on(t,i){i instanceof Map?i.forEach((r,f)=>{g.fillStyle=hl=f,g.fill(r)}):i!=null&&t&&g.fill(i)}function Ks(t,i,r,f){let a=H[t],m;if(f<=0)m=[0,0];else{let S=a._space=a.space(n,t,i,r,f),_=a._incrs=a.incrs(n,t,i,r,f,S);m=bu(i,r,_,f,S)}return a._found=m}function Hn(t,i,r,f,a,m,S,_,b,M){let T=S%2/2;V==1&&g.translate(T,T),Ci(_,S,b,M,_),g.beginPath();let E,K,oe,ne,$=a+(f==0||f==3?-m:m);r==0?(K=a,ne=$):(E=a,oe=$);for(let B=0;B<t.length;B++)i[B]!=null&&(r==0?E=oe=t[B]:K=ne=t[B],g.moveTo(E,K),g.lineTo(oe,ne));g.stroke(),V==1&&g.translate(-T,-T)}function js(t){let i=!0;return H.forEach((r,f)=>{if(!r.show)return;let a=x[r.scale];if(a.min==null){r._show&&(i=!1,r._show=!1,pl(!1));return}else r._show||(i=!1,r._show=!0,pl(!1));let m=r.side,S=m%2,{min:_,max:b}=a,[M,T]=Ks(f,_,b,S==0?q:A);if(T==0)return;let E=a.distr==2,K=r._splits=r.splits(n,f,_,b,M,T,E),oe=a.distr==2?K.map(F=>pt[F]):K,ne=a.distr==2?pt[K[1]]-pt[K[0]]:M,$=r._values=r.values(n,r.filter(n,oe,f,T,ne),f,T,ne);r._rotate=m==2?r.rotate(n,$,f,T):0;let B=r._size;r._size=ct(r.size(n,$,f,t)),B!=null&&r._size!=B&&(i=!1)}),i}function qs(t){let i=!0;return Pi.forEach((r,f)=>{let a=r(n,f,Kt,t);a!=Vt[f]&&(i=!1),Vt[f]=a}),i}function Js(){for(let t=0;t<H.length;t++){let i=H[t];if(!i.show||!i._show)continue;let r=i.side,f=r%2,a,m,S=i.stroke(n,t),_=r==0||r==3?-1:1,[b,M]=i._found;if(i.label!=null){let Be=i.labelGap*_,Xe=Ae((i._lpos+Be)*se);Vi(i.labelFont[0],S,"center",r==2?Il:ro),g.save(),f==1?(a=m=0,g.translate(Xe,Ae(it+ht/2)),g.rotate((r==3?-pn:pn)/2)):(a=Ae(Ze+je/2),m=Xe);let Jt=$o(i.label)?i.label(n,t,b,M):i.label;g.fillText(Jt,a,m),g.restore()}if(M==0)continue;let T=x[i.scale],E=f==0?je:ht,K=f==0?Ze:it,oe=i._splits,ne=T.distr==2?oe.map(Be=>pt[Be]):oe,$=T.distr==2?pt[oe[1]]-pt[oe[0]]:b,B=i.ticks,F=i.border,de=B.show?B.size:0,ye=Ae(de*se),Re=Ae((i.alignTo==2?i._size-de-i.gap:i.gap)*se),ue=i._rotate*-pn/180,be=z(i._pos*se),Qe=(ye+Re)*_,Ge=be+Qe;m=f==0?Ge:0,a=f==1?Ge:0;let rt=i.font[0],mt=i.align==1?kl:i.align==2?Zn:ue>0?kl:ue<0?Zn:f==0?"center":r==3?Zn:kl,kt=ue||f==1?"middle":r==2?Il:ro;Vi(rt,S,mt,kt);let $e=i.font[1]*i.lineGap,ft=oe.map(Be=>z(h(Be,T,E,K))),dt=i._values;for(let Be=0;Be<dt.length;Be++){let Xe=dt[Be];if(Xe!=null){f==0?a=ft[Be]:m=ft[Be],Xe=""+Xe;let Jt=Xe.indexOf(`
`)==-1?[Xe]:Xe.split(/\n/gm);for(let Ye=0;Ye<Jt.length;Ye++){let lo=Jt[Ye];ue?(g.save(),g.translate(a,m+Ye*$e),g.rotate(ue),g.fillText(lo,0,0),g.restore()):g.fillText(lo,a,m+Ye*$e)}}}B.show&&Hn(ft,B.filter(n,ne,t,M,$),f,r,be,ye,ae(B.width*se,3),B.stroke(n,t),B.dash,B.cap);let Mt=i.grid;Mt.show&&Hn(ft,Mt.filter(n,ne,t,M,$),f,f==0?2:1,f==0?it:Ze,f==0?ht:je,ae(Mt.width*se,3),Mt.stroke(n,t),Mt.dash,Mt.cap),F.show&&Hn([be],[1],f==0?1:0,f==0?1:2,f==1?it:Ze,f==1?ht:je,ae(F.width*se,3),F.stroke(n,t),F.dash,F.cap)}ze("drawAxes")}function pl(t){y.forEach((i,r)=>{r>0&&(i._paths=null,t&&(s==1?(i.min=null,i.max=null):i.facets.forEach(f=>{f.min=null,f.max=null})))})}let sn=!1,Nn=!1,Hl=[];function Zs(){Nn=!1;for(let t=0;t<Hl.length;t++)ze(...Hl[t]);Hl.length=0}function ml(){sn||(df(Ni),sn=!0)}function Qs(t,i=!1){sn=!0,Nn=i,t(n),Ni(),i&&Hl.length>0&&queueMicrotask(Zs)}n.batch=Qs;function Ni(){if(Mn&&(Bs(),Mn=!1),rl&&(Rs(),rl=!1),Xl){if(ge(C,kl,he),ge(C,Il,Te),ge(C,Kl,q),ge(C,jl,A),ge(P,kl,he),ge(P,Il,Te),ge(P,Kl,q),ge(P,jl,A),ge(w,Kl,Dt),ge(w,jl,Gt),v.width=Ae(Dt*se),v.height=Ae(Gt*se),H.forEach(({_el:t,_show:i,_size:r,_pos:f,side:a})=>{if(t!=null)if(i){let m=a===3||a===0?r:0,S=a%2==1;ge(t,S?"left":"top",f-m),ge(t,S?"width":"height",r),ge(t,S?"top":"left",S?Te:he),ge(t,S?"height":"width",S?A:q),oi(t,Xt)}else et(t,Xt)}),ln=hl=Dn=Pn=Ln=Cn=Vn=zn=En=null,qe=1,Wl(!0),he!=sl||Te!=Bt||q!=vt||A!=Yt){pl(!1);let t=q/vt,i=A/Yt;if(Oe&&!It&&R.left>=0){R.left*=t,R.top*=i,dl&&Tt(dl,Ae(R.left),0,q,A),gl&&Tt(gl,0,Ae(R.top),q,A);for(let r=0;r<st.length;r++){let f=st[r];f!=null&&(cl[r]*=t,al[r]*=i,Tt(f,ct(cl[r]),ct(al[r]),q,A))}}if(me.show&&!en&&me.left>=0&&me.width>0){me.left*=t,me.width*=t,me.top*=i,me.height*=i;for(let r in In)ge(_l,r,me[r])}sl=he,Bt=Te,vt=q,Yt=A}ze("setSize"),Xl=!1}Dt>0&&Gt>0&&(g.clearRect(0,0,v.width,v.height),ze("drawClear"),I.forEach(t=>t()),ze("draw")),me.show&&en&&(rn(me),en=!1),Oe&&It&&(qt(null,!0,!1),It=!1),Q.show&&Q.live&&ot&&(Bn(),ot=!1),p||(p=!0,n.status=1,ze("ready")),Fl=!1,sn=!1}n.redraw=(t,i)=>{rl=i||!1,t!==!1?Rt(D,k.min,k.max):ml()};function On(t,i){let r=x[t];if(r.from==null){if(Fe==0){let f=r.range(n,i.min,i.max,t);i.min=f[0],i.max=f[1]}if(i.min>i.max){let f=i.min;i.min=i.max,i.max=f}if(Fe>1&&i.min!=null&&i.max!=null&&i.max-i.min<1e-16)return;t==D&&r.distr==2&&Fe>0&&(i.min=wt(i.min,l[0]),i.max=wt(i.max,l[0]),i.min==i.max&&i.max++),O[t]=i,Mn=!0,ml()}}n.setScale=On;let Wn,Gn,dl,gl,Oi,Wi,wl,Sl,Gi,Bi,pe,_e,zt=!1;const He=R.drag;let Ce=He.x,Ve=He.y;Oe&&(R.x&&(Wn=ut(Nr,P)),R.y&&(Gn=ut(Or,P)),k.ori==0?(dl=Wn,gl=Gn):(dl=Gn,gl=Wn),pe=R.left,_e=R.top);const me=n.select=ke({show:!0,over:!0,left:0,width:0,top:0,height:0},e.select),_l=me.show?ut(Hr,me.over?P:C):null;function rn(t,i){if(me.show){for(let r in t)me[r]=t[r],r in In&&ge(_l,r,t[r]);i!==!1&&ze("setSelect")}}n.setSelect=rn;function $s(t){if(y[t].show)Me&&oi(ve[t],Xt);else if(Me&&et(ve[t],Xt),Oe){let r=ul?st[0]:st[t];r!=null&&Tt(r,-10,-10,q,A)}}function Rt(t,i,r){On(t,{min:i,max:r})}function bt(t,i,r,f){i.focus!=null&&nr(t),i.show!=null&&y.forEach((a,m)=>{m>0&&(t==m||t==null)&&(a.show=i.show,$s(m),s==2?(Rt(a.facets[0].scale,null,null),Rt(a.facets[1].scale,null,null)):Rt(a.scale,null,null),ml())}),r!==!1&&ze("setSeries",t,i),f&&Gl("setSeries",n,t,i)}n.setSeries=bt;function Xs(t,i){ke(j[t],i)}function er(t,i){t.fill=X(t.fill||null),t.dir=ie(t.dir,-1),i=i??j.length,j.splice(i,0,t)}function tr(t){t==null?j.length=0:j.splice(t,1)}n.addBand=er,n.setBand=Xs,n.delBand=tr;function lr(t,i){y[t].alpha=i,Oe&&st[t]!=null&&(st[t].style.opacity=i),Me&&ve[t]&&(ve[t].style.opacity=i)}let Et,Ft,jt;const vl={focus:!0};function nr(t){if(t!=jt){let i=t==null,r=yt.alpha!=1;y.forEach((f,a)=>{if(s==1||a>0){let m=i||a==0||a==t;f._focus=i?null:m,r&&lr(a,m?1:yt.alpha)}}),jt=t,r&&ml()}}Me&&fl&&We(ao,le,t=>{R._lock||(Ut(t),jt!=null&&bt(null,vl,!0,xe.setSeries))});function xt(t,i,r){let f=x[i];r&&(t=t/se-(f.ori==1?Te:he));let a=q;f.ori==1&&(a=A,t=a-t),f.dir==-1&&(t=a-t);let m=f._min,S=f._max,_=t/a,b=m+(S-m)*_,M=f.distr;return M==3?Al(10,b):M==4?lf(b,f.asinh):M==100?f.bwd(b):b}function ir(t,i){let r=xt(t,D,i);return wt(r,l[0],Pe,Le)}n.valToIdx=t=>wt(t,l[0]),n.posToIdx=ir,n.posToVal=xt,n.valToPos=(t,i,r)=>x[i].ori==0?c(t,x[i],r?je:q,r?Ze:0):u(t,x[i],r?ht:A,r?it:0),n.setCursor=(t,i,r)=>{pe=t.left,_e=t.top,qt(null,i,r)};function Yi(t,i){ge(_l,kl,me.left=t),ge(_l,Kl,me.width=i)}function Ii(t,i){ge(_l,Il,me.top=t),ge(_l,jl,me.height=i)}let Nl=k.ori==0?Yi:Ii,Ol=k.ori==1?Yi:Ii;function or(){if(Me&&Q.live)for(let t=s==2?1:0;t<y.length;t++){if(t==0&&nt)continue;let i=Q.values[t],r=0;for(let f in i)_t[t][r++].firstChild.nodeValue=i[f]}}function Bn(t,i){if(t!=null&&(t.idxs?t.idxs.forEach((r,f)=>{fe[f]=r}):rf(t.idx)||fe.fill(t.idx),Q.idx=fe[0]),Me&&Q.live){for(let r=0;r<y.length;r++)(r>0||s==1&&!nt)&&sr(r,fe[r]);or()}ot=!1,i!==!1&&ze("setLegend")}n.setLegend=Bn;function sr(t,i){let r=y[t],f=t==0&&W==2?pt:l[t],a;nt?a=r.values(n,t,i)??Ct:(a=r.value(n,i==null?null:f[i],t,i),a=a==null?Ct:{_:a}),Q.values[t]=a}function qt(t,i,r){Gi=pe,Bi=_e,[pe,_e]=R.move(n,pe,_e),R.left=pe,R.top=_e,Oe&&(dl&&Tt(dl,Ae(pe),0,q,A),gl&&Tt(gl,0,Ae(_e),q,A));let f,a=Pe>Le;Et=ce,Ft=null;let m=k.ori==0?q:A,S=k.ori==1?q:A;if(pe<0||Fe==0||a){f=R.idx=null;for(let _=0;_<y.length;_++){let b=st[_];b!=null&&Tt(b,-10,-10,q,A)}fl&&bt(null,vl,!0,t==null&&xe.setSeries),Q.live&&(fe.fill(f),ot=!0)}else{let _,b,M;s==1&&(_=k.ori==0?pe:_e,b=xt(_,D),f=R.idx=wt(b,l[0],Pe,Le),M=L(l[0][f],k,m,0));let T=-10,E=-10,K=0,oe=0,ne=!0,$="",B="";for(let F=s==2?1:0;F<y.length;F++){let de=y[F],ye=fe[F],Re=ye==null?null:s==1?l[F][ye]:l[F][1][ye],ue=R.dataIdx(n,F,f,b),be=ue==null?null:s==1?l[F][ue]:l[F][1][ue];if(ot=ot||be!=Re||ue!=ye,fe[F]=ue,F>0&&de.show){let Qe=ue==null?-10:ue==f?M:L(s==1?l[0][ue]:l[F][0][ue],k,m,0),Ge=be==null?-10:Y(be,s==1?x[de.scale]:x[de.facets[1].scale],S,0);if(fl&&be!=null){let rt=k.ori==1?pe:_e,mt=De(yt.dist(n,F,ue,Ge,rt));if(mt<Et){let kt=yt.bias;if(kt!=0){let $e=xt(rt,de.scale),ft=be>=0?1:-1,dt=$e>=0?1:-1;dt==ft&&(dt==1?kt==1?be>=$e:be<=$e:kt==1?be<=$e:be>=$e)&&(Et=mt,Ft=F)}else Et=mt,Ft=F}}if(ot||ul){let rt,mt;k.ori==0?(rt=Qe,mt=Ge):(rt=Ge,mt=Qe);let kt,$e,ft,dt,Mt,Be,Xe=!0,Jt=Ne.bbox;if(Jt!=null){Xe=!1;let Ye=Jt(n,F);ft=Ye.left,dt=Ye.top,kt=Ye.width,$e=Ye.height}else ft=rt,dt=mt,kt=$e=Ne.size(n,F);if(Be=Ne.fill(n,F),Mt=Ne.stroke(n,F),ul)F==Ft&&Et<=yt.prox&&(T=ft,E=dt,K=kt,oe=$e,ne=Xe,$=Be,B=Mt);else{let Ye=st[F];Ye!=null&&(cl[F]=ft,al[F]=dt,_o(Ye,kt,$e,Xe),wo(Ye,Be,Mt),Tt(Ye,ct(ft),ct(dt),q,A))}}}}if(ul){let F=yt.prox,de=jt==null?Et<=F:Et>F||Ft!=jt;if(ot||de){let ye=st[0];ye!=null&&(cl[0]=T,al[0]=E,_o(ye,K,oe,ne),wo(ye,$,B),Tt(ye,ct(T),ct(E),q,A))}}}if(me.show&&zt)if(t!=null){let[_,b]=xe.scales,[M,T]=xe.match,[E,K]=t.cursor.sync.scales,oe=t.cursor.drag;if(Ce=oe._x,Ve=oe._y,Ce||Ve){let{left:ne,top:$,width:B,height:F}=t.select,de=t.scales[E].ori,ye=t.posToVal,Re,ue,be,Qe,Ge,rt=_!=null&&M(_,E),mt=b!=null&&T(b,K);rt&&Ce?(de==0?(Re=ne,ue=B):(Re=$,ue=F),be=x[_],Qe=L(ye(Re,E),be,m,0),Ge=L(ye(Re+ue,E),be,m,0),Nl(St(Qe,Ge),De(Ge-Qe))):Nl(0,m),mt&&Ve?(de==1?(Re=ne,ue=B):(Re=$,ue=F),be=x[b],Qe=Y(ye(Re,K),be,S,0),Ge=Y(ye(Re+ue,K),be,S,0),Ol(St(Qe,Ge),De(Ge-Qe))):Ol(0,S)}else Un()}else{let _=De(Gi-Oi),b=De(Bi-Wi);if(k.ori==1){let K=_;_=b,b=K}Ce=He.x&&_>=He.dist,Ve=He.y&&b>=He.dist;let M=He.uni;M!=null?Ce&&Ve&&(Ce=_>=M,Ve=b>=M,!Ce&&!Ve&&(b>_?Ve=!0:Ce=!0)):He.x&&He.y&&(Ce||Ve)&&(Ce=Ve=!0);let T,E;Ce&&(k.ori==0?(T=wl,E=pe):(T=Sl,E=_e),Nl(St(T,E),De(E-T)),Ve||Ol(0,S)),Ve&&(k.ori==1?(T=wl,E=pe):(T=Sl,E=_e),Ol(St(T,E),De(E-T)),Ce||Nl(0,m)),!Ce&&!Ve&&(Nl(0,0),Ol(0,0))}if(He._x=Ce,He._y=Ve,t==null){if(r){if(to!=null){let[_,b]=xe.scales;xe.values[0]=_!=null?xt(k.ori==0?pe:_e,_):null,xe.values[1]=b!=null?xt(k.ori==1?pe:_e,b):null}Gl(Qn,n,pe,_e,q,A,f)}if(fl){let _=r&&xe.setSeries,b=yt.prox;jt==null?Et<=b&&bt(Ft,vl,!0,_):Et>b?bt(null,vl,!0,_):Ft!=jt&&bt(Ft,vl,!0,_)}}ot&&(Q.idx=f,Bn()),i!==!1&&ze("setCursor")}let Ht=null;Object.defineProperty(n,"rect",{get(){return Ht==null&&Wl(!1),Ht}});function Wl(t=!1){t?Ht=null:(Ht=P.getBoundingClientRect(),ze("syncRect",Ht))}function Ui(t,i,r,f,a,m,S){R._lock||zt&&t!=null&&t.movementX==0&&t.movementY==0||(Yn(t,i,r,f,a,m,S,!1,t!=null),t!=null?qt(null,!0,!0):qt(i,!0,!1))}function Yn(t,i,r,f,a,m,S,_,b){if(Ht==null&&Wl(!1),Ut(t),t!=null)r=t.clientX-Ht.left,f=t.clientY-Ht.top;else{if(r<0||f<0){pe=-10,_e=-10;return}let[M,T]=xe.scales,E=i.cursor.sync,[K,oe]=E.values,[ne,$]=E.scales,[B,F]=xe.match,de=i.axes[0].side%2==1,ye=k.ori==0?q:A,Re=k.ori==1?q:A,ue=de?m:a,be=de?a:m,Qe=de?f:r,Ge=de?r:f;if(ne!=null?r=B(M,ne)?h(K,x[M],ye,0):-10:r=ye*(Qe/ue),$!=null?f=F(T,$)?h(oe,x[T],Re,0):-10:f=Re*(Ge/be),k.ori==1){let rt=r;r=f,f=rt}}b&&(i==null||i.cursor.event.type==Qn)&&((r<=1||r>=q-1)&&(r=Qt(r,q)),(f<=1||f>=A-1)&&(f=Qt(f,A))),_?(Oi=r,Wi=f,[wl,Sl]=R.move(n,r,f)):(pe=r,_e=f)}const In={width:0,height:0,left:0,top:0};function Un(){rn(In,!1)}let Ki,ji,qi,Ji;function Zi(t,i,r,f,a,m,S){zt=!0,Ce=Ve=He._x=He._y=!1,Yn(t,i,r,f,a,m,S,!0,!1),t!=null&&(We($n,ni,Qi,!1),Gl(uo,n,wl,Sl,q,A,null));let{left:_,top:b,width:M,height:T}=me;Ki=_,ji=b,qi=M,Ji=T}function Qi(t,i,r,f,a,m,S){zt=He._x=He._y=!1,Yn(t,i,r,f,a,m,S,!1,!0);let{left:_,top:b,width:M,height:T}=me,E=M>0||T>0,K=Ki!=_||ji!=b||qi!=M||Ji!=T;if(E&&K&&rn(me),He.setScale&&E&&K){let oe=_,ne=M,$=b,B=T;if(k.ori==1&&(oe=b,ne=T,$=_,B=M),Ce&&Rt(D,xt(oe,D),xt(oe+ne,D)),Ve)for(let F in x){let de=x[F];F!=D&&de.from==null&&de.min!=ce&&Rt(F,xt($+B,F),xt($,F))}Un()}else R.lock&&(R._lock=!R._lock,qt(i,!0,t!=null));t!=null&&(ol($n,ni),Gl($n,n,pe,_e,q,A,null))}function rr(t,i,r,f,a,m,S){if(R._lock)return;Ut(t);let _=zt;if(zt){let b=!0,M=!0,T=10,E,K;k.ori==0?(E=Ce,K=Ve):(E=Ve,K=Ce),E&&K&&(b=pe<=T||pe>=q-T,M=_e<=T||_e>=A-T),E&&b&&(pe=pe<wl?0:q),K&&M&&(_e=_e<Sl?0:A),qt(null,!0,!0),zt=!1}pe=-10,_e=-10,fe.fill(null),qt(null,!0,!0),_&&(zt=_)}function $i(t,i,r,f,a,m,S){R._lock||(Ut(t),An(),Un(),t!=null&&Gl(ho,n,pe,_e,q,A,null))}function Xi(){H.forEach(xu),Tn(n.width,n.height,!0)}el(mn,Tl,Xi);const yl={};yl.mousedown=Zi,yl.mousemove=Ui,yl.mouseup=Qi,yl.dblclick=$i,yl.setSeries=(t,i,r,f)=>{let a=xe.match[2];r=a(n,i,r),r!=-1&&bt(r,f,!0,!1)},Oe&&(We(uo,P,Zi),We(Qn,P,Ui),We(co,P,t=>{Ut(t),Wl(!1)}),We(ao,P,rr),We(ho,P,$i),ai.add(n),n.syncRect=Wl);const fn=n.hooks=e.hooks||{};function ze(t,i,r){Nn?Hl.push([t,i,r]):t in fn&&fn[t].forEach(f=>{f.call(null,n,i,r)})}(e.plugins||[]).forEach(t=>{for(let i in t.hooks)fn[i]=(fn[i]||[]).concat(t.hooks[i])});const eo=(t,i,r)=>r,xe=ke({key:null,setSeries:!1,filters:{pub:ko,sub:ko},scales:[D,y[1]?y[1].scale:null],match:[Mo,Mo,eo],values:[null,null]},R.sync);xe.match.length==2&&xe.match.push(eo),R.sync=xe;const to=xe.key,Kn=bs(to);function Gl(t,i,r,f,a,m,S){xe.filters.pub(t,i,r,f,a,m,S)&&Kn.pub(t,i,r,f,a,m,S)}Kn.sub(n);function fr(t,i,r,f,a,m,S){xe.filters.sub(t,i,r,f,a,m,S)&&yl[t](null,i,r,f,a,m,S)}n.pub=fr;function ur(){Kn.unsub(n),ai.delete(n),Wt.clear(),si(mn,Tl,Xi),d.remove(),le==null||le.remove(),ze("destroy")}n.destroy=ur;function jn(){ze("init",e,l),Li(l||e.data,!1),O[D]?On(D,O[D]):An(),en=me.show&&(me.width>0||me.height>0),It=ot=!0,Tn(e.width,e.height)}return y.forEach(Ei),H.forEach(Gs),o?o instanceof HTMLElement?(o.appendChild(d),jn()):o(n,jn):jn(),n}Ue.assign=ke;Ue.fmtNum=Si;Ue.rangeNum=dn;Ue.rangeLog=Sn;Ue.rangeAsinh=gi;Ue.orient=ll;Ue.pxRatio=se;Ue.join=mf;Ue.fmtDate=vi,Ue.tzDate=Mf;Ue.sync=bs;{Ue.addGap=ru,Ue.clipGaps=yn;let e=Ue.paths={points:Ds};e.linear=Ps,e.stepped=cu,e.bars=au,e.spline=pu}export{Ru as M,Vu as c,zu as g,Ue as u};
