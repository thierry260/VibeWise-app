function eu(e,l,o){if(!e||l.length<10)return 0;const n=Xs(e),s=er(l,o),c=nr(l),u=(n*.5+s*.3+c*.2)*100;return Math.min(Math.max(Math.round(u),0),100)}function Xs(e){return Math.min(Math.max((e-10)/140,0),1)}function er(e,l){if(e.length<20)return .3;const o=e.map(h=>6e4/h),s=60/(l||6),c=tr(o.length,s);return(lr(o,c)+1)/2}function tr(e,l){const o=l*1e3/800;return Array(e).fill(0).map((n,s)=>Math.sin(s/o*2*Math.PI))}function lr(e,l){const o=$i(e),n=$i(l);let s=0;const c=Math.min(o.length,n.length);for(let u=0;u<c;u++)s+=o[u]*n[u];return s/c}function $i(e){const l=e.reduce((c,u)=>c+u,0)/e.length,n=e.map(c=>Math.pow(c-l,2)).reduce((c,u)=>c+u,0)/e.length,s=Math.sqrt(n);return s===0?e.map(()=>0):e.map(c=>(c-l)/s)}function nr(e){if(e.length<10)return .5;const l=[];for(let h=1;h<e.length;h++)l.push(Math.abs(e[h]-e[h-1]));const o=l.reduce((h,m)=>h+m,0)/l.length;if(o===0)return 1;const s=l.map(h=>Math.pow(h-o,2)).reduce((h,m)=>h+m,0)/l.length,u=Math.sqrt(s)/o;return Math.min(Math.max(1-u/2,0),1)}function tu(e){return e>=85?{label:"You're glowing",emoji:"üí´"}:e>=70?{label:"Open and steady",emoji:"üíú"}:e>=50?{label:"Coming into sync",emoji:"üå±"}:e>=30?{label:"Breathe and soften",emoji:"ü´Å"}:{label:"Pause. Feel. Breathe.",emoji:"üßò"}}const ir=!0,Ee="u-",or="uplot",sr=Ee+"hz",rr=Ee+"vt",fr=Ee+"title",ur=Ee+"wrap",cr=Ee+"under",ar=Ee+"over",hr=Ee+"axis",Qt=Ee+"off",pr=Ee+"select",mr=Ee+"cursor-x",gr=Ee+"cursor-y",dr=Ee+"cursor-pt",wr=Ee+"legend",Sr=Ee+"live",_r=Ee+"inline",yr=Ee+"series",vr=Ee+"marker",Ji=Ee+"label",Mr=Ee+"value",Gl="width",Bl="height",Ol="top",Zi="bottom",vl="left",Bn="right",oi="#000",Qi=oi+"0",Yn="mousemove",Xi="mousedown",In="mouseup",eo="mouseenter",to="mouseleave",lo="dblclick",kr="resize",xr="scroll",no="change",fn="dppxchange",si="--",Dl=typeof window<"u",$n=Dl?document:null,kl=Dl?window:null,br=Dl?navigator:null;let se,nn;function Jn(){let e=devicePixelRatio;se!=e&&(se=e,nn&&Qn(no,nn,Jn),nn=matchMedia(`(min-resolution: ${se-.001}dppx) and (max-resolution: ${se+.001}dppx)`),Xt(no,nn,Jn),kl.dispatchEvent(new CustomEvent(fn)))}function et(e,l){if(l!=null){let o=e.classList;!o.contains(l)&&o.add(l)}}function Zn(e,l){let o=e.classList;o.contains(l)&&o.remove(l)}function de(e,l,o){e.style[l]=o+"px"}function dt(e,l,o,n){let s=$n.createElement(e);return l!=null&&et(s,l),o!=null&&o.insertBefore(s,n),s}function ut(e,l){return dt("div",e,l)}const io=new WeakMap;function Tt(e,l,o,n,s){let c="translate("+l+"px,"+o+"px)",u=io.get(e);c!=u&&(e.style.transform=c,io.set(e,c),l<0||o<0||l>n||o>s?et(e,Qt):Zn(e,Qt))}const oo=new WeakMap;function so(e,l,o){let n=l+o,s=oo.get(e);n!=s&&(oo.set(e,n),e.style.background=l,e.style.borderColor=o)}const ro=new WeakMap;function fo(e,l,o,n){let s=l+""+o,c=ro.get(e);s!=c&&(ro.set(e,s),e.style.height=o+"px",e.style.width=l+"px",e.style.marginLeft=n?-l/2+"px":0,e.style.marginTop=n?-o/2+"px":0)}const ri={passive:!0},Tr={...ri,capture:!0};function Xt(e,l,o,n){l.addEventListener(e,o,n?Tr:ri)}function Qn(e,l,o,n){l.removeEventListener(e,o,ri)}Dl&&Jn();function wt(e,l,o,n){let s;o=o||0,n=n||l.length-1;let c=n<=2147483647;for(;n-o>1;)s=c?o+n>>1:tt((o+n)/2),l[s]<e?o=s:n=s;return e-l[o]<=l[n]-e?o:n}function Ho(e){return(o,n,s)=>{let c=-1,u=-1;for(let h=n;h<=s;h++)if(e(o[h])){c=h;break}for(let h=s;h>=n;h--)if(e(o[h])){u=h;break}return[c,u]}}const No=e=>e!=null,Oo=e=>e!=null&&e>0,an=Ho(No),Ar=Ho(Oo);function Dr(e,l,o,n=0,s=!1){let c=s?Ar:an,u=s?Oo:No;[l,o]=c(e,l,o);let h=e[l],m=e[l];if(l>-1)if(n==1)h=e[l],m=e[o];else if(n==-1)h=e[o],m=e[l];else for(let g=l;g<=o;g++){let y=e[g];u(y)&&(y<h?h=y:y>m&&(m=y))}return[h??ce,m??-ce]}function hn(e,l,o,n){let s=ao(e),c=ao(l);e==l&&(s==-1?(e*=o,l/=o):(e/=o,l*=o));let u=o==10?Pt:Wo,h=s==1?tt:ct,m=c==1?ct:tt,g=h(u(De(e))),y=m(u(De(l))),d=xl(o,g),w=xl(o,y);return o==10&&(g<0&&(d=ae(d,-g)),y<0&&(w=ae(w,-y))),n||o==2?(e=d*s,l=w*c):(e=Io(e,d),l=pn(l,w)),[e,l]}function fi(e,l,o,n){let s=hn(e,l,o,n);return e==0&&(s[0]=0),l==0&&(s[1]=0),s}const ui=.1,uo={mode:3,pad:ui},Il={pad:0,soft:null,mode:0},Er={min:Il,max:Il};function un(e,l,o,n){return mn(o)?co(e,l,o):(Il.pad=o,Il.soft=n?0:null,Il.mode=n?3:0,co(e,l,Er))}function ie(e,l){return e??l}function Pr(e,l,o){for(l=ie(l,0),o=ie(o,e.length-1);l<=o;){if(e[l]!=null)return!0;l++}return!1}function co(e,l,o){let n=o.min,s=o.max,c=ie(n.pad,0),u=ie(s.pad,0),h=ie(n.hard,-ce),m=ie(s.hard,ce),g=ie(n.soft,ce),y=ie(s.soft,-ce),d=ie(n.mode,0),w=ie(s.mode,0),L=l-e,P=Pt(L),H=Ie(De(e),De(l)),O=Pt(H),G=De(O-P);(L<1e-24||G>10)&&(L=0,(e==0||l==0)&&(L=1e-24,d==2&&g!=ce&&(c=0),w==2&&y!=-ce&&(u=0)));let M=L||H||1e3,N=Pt(M),k=xl(10,tt(N)),q=M*(L==0?e==0?.1:1:c),E=ae(Io(e-q,k/10),24),$=e>=g&&(d==1||d==3&&E<=g||d==2&&E>=g)?g:ce,U=Ie(h,E<$&&e>=$?$:St($,E)),Q=M*(L==0?l==0?.1:1:u),I=ae(pn(l+Q,k/10),24),x=l<=y&&(w==1||w==3&&I>=y||w==2&&I<=y)?y:-ce,j=St(m,I>x&&l<=x?x:Ie(x,I));return U==j&&U==0&&(j=100),[U,j]}const Lr=new Intl.NumberFormat(Dl?br.language:"en-US"),ci=e=>Lr.format(e),lt=Math,rn=lt.PI,De=lt.abs,tt=lt.floor,Ae=lt.round,ct=lt.ceil,St=lt.min,Ie=lt.max,xl=lt.pow,ao=lt.sign,Pt=lt.log10,Wo=lt.log2,Cr=(e,l=1)=>lt.sinh(e)*l,Un=(e,l=1)=>lt.asinh(e/l),ce=1/0;function ho(e){return(Pt((e^e>>31)-(e>>31))|0)+1}function Xn(e,l,o){return St(Ie(e,l),o)}function Go(e){return typeof e=="function"}function X(e){return Go(e)?e:()=>e}const Vr=()=>{},Bo=e=>e,Yo=(e,l)=>l,zr=e=>null,po=e=>!0,mo=(e,l)=>e==l,Rr=/\.\d*?(?=9{6,}|0{6,})/gm,el=e=>{if(Ko(e)||Ot.has(e))return e;const l=`${e}`,o=l.match(Rr);if(o==null)return e;let n=o[0].length-1;if(l.indexOf("e-")!=-1){let[s,c]=l.split("e");return+`${el(s)}e${c}`}return ae(e,n)};function Jt(e,l){return el(ae(el(e/l))*l)}function pn(e,l){return el(ct(el(e/l))*l)}function Io(e,l){return el(tt(el(e/l))*l)}function ae(e,l=0){if(Ko(e))return e;let o=10**l,n=e*o*(1+Number.EPSILON);return Ae(n)/o}const Ot=new Map;function Uo(e){return((""+e).split(".")[1]||"").length}function Kl(e,l,o,n){let s=[],c=n.map(Uo);for(let u=l;u<o;u++){let h=De(u),m=ae(xl(e,u),h);for(let g=0;g<n.length;g++){let y=e==10?+`${n[g]}e${u}`:n[g]*m,d=(u>=0?0:h)+(u>=c[g]?0:c[g]),w=e==10?y:ae(y,d);s.push(w),Ot.set(w,d)}}return s}const Ul={},ai=[],bl=[null,null],Nt=Array.isArray,Ko=Number.isInteger,Fr=e=>e===void 0;function go(e){return typeof e=="string"}function mn(e){let l=!1;if(e!=null){let o=e.constructor;l=o==null||o==Object}return l}function Hr(e){return e!=null&&typeof e=="object"}const Nr=Object.getPrototypeOf(Uint8Array),jo="__proto__";function Tl(e,l=mn){let o;if(Nt(e)){let n=e.find(s=>s!=null);if(Nt(n)||l(n)){o=Array(e.length);for(let s=0;s<e.length;s++)o[s]=Tl(e[s],l)}else o=e.slice()}else if(e instanceof Nr)o=e.slice();else if(l(e)){o={};for(let n in e)n!=jo&&(o[n]=Tl(e[n],l))}else o=e;return o}function xe(e){let l=arguments;for(let o=1;o<l.length;o++){let n=l[o];for(let s in n)s!=jo&&(mn(e[s])?xe(e[s],Tl(n[s])):e[s]=Tl(n[s]))}return e}const Or=0,Wr=1,Gr=2;function Br(e,l,o){for(let n=0,s,c=-1;n<l.length;n++){let u=l[n];if(u>c){for(s=u-1;s>=0&&e[s]==null;)e[s--]=null;for(s=u+1;s<o&&e[s]==null;)e[c=s++]=null}}}function Yr(e,l){if(Kr(e)){let u=e[0].slice();for(let h=1;h<e.length;h++)u.push(...e[h].slice(1));return jr(u[0])||(u=Ur(u)),u}let o=new Set;for(let u=0;u<e.length;u++){let m=e[u][0],g=m.length;for(let y=0;y<g;y++)o.add(m[y])}let n=[Array.from(o).sort((u,h)=>u-h)],s=n[0].length,c=new Map;for(let u=0;u<s;u++)c.set(n[0][u],u);for(let u=0;u<e.length;u++){let h=e[u],m=h[0];for(let g=1;g<h.length;g++){let y=h[g],d=Array(s).fill(void 0),w=l?l[u][g]:Wr,L=[];for(let P=0;P<y.length;P++){let H=y[P],O=c.get(m[P]);H===null?w!=Or&&(d[O]=H,w==Gr&&L.push(O)):d[O]=H}Br(d,L,s),n.push(d)}}return n}const Ir=typeof queueMicrotask>"u"?e=>Promise.resolve().then(e):queueMicrotask;function Ur(e){let l=e[0],o=l.length,n=Array(o);for(let c=0;c<n.length;c++)n[c]=c;n.sort((c,u)=>l[c]-l[u]);let s=[];for(let c=0;c<e.length;c++){let u=e[c],h=Array(o);for(let m=0;m<o;m++)h[m]=u[n[m]];s.push(h)}return s}function Kr(e){let l=e[0][0],o=l.length;for(let n=1;n<e.length;n++){let s=e[n][0];if(s.length!=o)return!1;if(s!=l){for(let c=0;c<o;c++)if(s[c]!=l[c])return!1}}return!0}function jr(e,l=100){const o=e.length;if(o<=1)return!0;let n=0,s=o-1;for(;n<=s&&e[n]==null;)n++;for(;s>=n&&e[s]==null;)s--;if(s<=n)return!0;const c=Ie(1,tt((s-n+1)/l));for(let u=e[n],h=n+c;h<=s;h+=c){const m=e[h];if(m!=null){if(m<=u)return!1;u=m}}return!0}const qo=["January","February","March","April","May","June","July","August","September","October","November","December"],$o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function Jo(e){return e.slice(0,3)}const qr=$o.map(Jo),$r=qo.map(Jo),Jr={MMMM:qo,MMM:$r,WWWW:$o,WWW:qr};function Wl(e){return(e<10?"0":"")+e}function Zr(e){return(e<10?"00":e<100?"0":"")+e}const Qr={YYYY:e=>e.getFullYear(),YY:e=>(e.getFullYear()+"").slice(2),MMMM:(e,l)=>l.MMMM[e.getMonth()],MMM:(e,l)=>l.MMM[e.getMonth()],MM:e=>Wl(e.getMonth()+1),M:e=>e.getMonth()+1,DD:e=>Wl(e.getDate()),D:e=>e.getDate(),WWWW:(e,l)=>l.WWWW[e.getDay()],WWW:(e,l)=>l.WWW[e.getDay()],HH:e=>Wl(e.getHours()),H:e=>e.getHours(),h:e=>{let l=e.getHours();return l==0?12:l>12?l-12:l},AA:e=>e.getHours()>=12?"PM":"AM",aa:e=>e.getHours()>=12?"pm":"am",a:e=>e.getHours()>=12?"p":"a",mm:e=>Wl(e.getMinutes()),m:e=>e.getMinutes(),ss:e=>Wl(e.getSeconds()),s:e=>e.getSeconds(),fff:e=>Zr(e.getMilliseconds())};function hi(e,l){l=l||Jr;let o=[],n=/\{([a-z]+)\}|[^{]+/gi,s;for(;s=n.exec(e);)o.push(s[0][0]=="{"?Qr[s[1]]:s[0]);return c=>{let u="";for(let h=0;h<o.length;h++)u+=typeof o[h]=="string"?o[h]:o[h](c,l);return u}}const Xr=new Intl.DateTimeFormat().resolvedOptions().timeZone;function ef(e,l){let o;return l=="UTC"||l=="Etc/UTC"?o=new Date(+e+e.getTimezoneOffset()*6e4):l==Xr?o=e:(o=new Date(e.toLocaleString("en-US",{timeZone:l})),o.setMilliseconds(e.getMilliseconds())),o}const Zo=e=>e%1==0,cn=[1,2,2.5,5],tf=Kl(10,-32,0,cn),Qo=Kl(10,0,32,cn),lf=Qo.filter(Zo),Zt=tf.concat(Qo),pi=`
`,Xo="{YYYY}",wo=pi+Xo,es="{M}/{D}",Yl=pi+es,on=Yl+"/{YY}",ts="{aa}",nf="{h}:{mm}",Ml=nf+ts,So=pi+Ml,_o=":{ss}",re=null;function ls(e){let l=e*1e3,o=l*60,n=o*60,s=n*24,c=s*30,u=s*365,m=(e==1?Kl(10,0,3,cn).filter(Zo):Kl(10,-3,0,cn)).concat([l,l*5,l*10,l*15,l*30,o,o*5,o*10,o*15,o*30,n,n*2,n*3,n*4,n*6,n*8,n*12,s,s*2,s*3,s*4,s*5,s*6,s*7,s*8,s*9,s*10,s*15,c,c*2,c*3,c*4,c*6,u,u*2,u*5,u*10,u*25,u*50,u*100]);const g=[[u,Xo,re,re,re,re,re,re,1],[s*28,"{MMM}",wo,re,re,re,re,re,1],[s,es,wo,re,re,re,re,re,1],[n,"{h}"+ts,on,re,Yl,re,re,re,1],[o,Ml,on,re,Yl,re,re,re,1],[l,_o,on+" "+Ml,re,Yl+" "+Ml,re,So,re,1],[e,_o+".{fff}",on+" "+Ml,re,Yl+" "+Ml,re,So,re,1]];function y(d){return(w,L,P,H,O,G)=>{let M=[],N=O>=u,k=O>=c&&O<u,q=d(P),E=ae(q*e,3),$=Kn(q.getFullYear(),N?0:q.getMonth(),k||N?1:q.getDate()),U=ae($*e,3);if(k||N){let Q=k?O/c:0,I=N?O/u:0,x=E==U?E:ae(Kn($.getFullYear()+I,$.getMonth()+Q,1)*e,3),j=new Date(Ae(x/e)),C=j.getFullYear(),B=j.getMonth();for(let F=0;x<=H;F++){let ee=Kn(C+I*F,B+Q*F,1),R=ee-d(ae(ee*e,3));x=ae((+ee+R)*e,3),x<=H&&M.push(x)}}else{let Q=O>=s?s:O,I=tt(P)-tt(E),x=U+I+pn(E-U,Q);M.push(x);let j=d(x),C=j.getHours()+j.getMinutes()/o+j.getSeconds()/n,B=O/n,F=w.axes[L]._space,ee=G/F;for(;x=ae(x+O,e==1?0:3),!(x>H);)if(B>1){let R=tt(ae(C+B,6))%24,te=d(x).getHours()-R;te>1&&(te=-1),x-=te*n,C=(C+B)%24;let fe=M[M.length-1];ae((x-fe)/O,3)*ee>=.7&&M.push(x)}else M.push(x)}return M}}return[m,g,y]}const[of,sf,rf]=ls(1),[ff,uf,cf]=ls(.001);Kl(2,-53,53,[1]);function yo(e,l){return e.map(o=>o.map((n,s)=>s==0||s==8||n==null?n:l(s==1||o[8]==0?n:o[1]+n)))}function vo(e,l){return(o,n,s,c,u)=>{let h=l.find(P=>u>=P[0])||l[l.length-1],m,g,y,d,w,L;return n.map(P=>{let H=e(P),O=H.getFullYear(),G=H.getMonth(),M=H.getDate(),N=H.getHours(),k=H.getMinutes(),q=H.getSeconds(),E=O!=m&&h[2]||G!=g&&h[3]||M!=y&&h[4]||N!=d&&h[5]||k!=w&&h[6]||q!=L&&h[7]||h[1];return m=O,g=G,y=M,d=N,w=k,L=q,E(H)})}}function af(e,l){let o=hi(l);return(n,s,c,u,h)=>s.map(m=>o(e(m)))}function Kn(e,l,o){return new Date(e,l,o)}function Mo(e,l){return l(e)}const hf="{YYYY}-{MM}-{DD} {h}:{mm}{aa}";function ko(e,l){return(o,n,s,c)=>c==null?si:l(e(n))}function pf(e,l){let o=e.series[l];return o.width?o.stroke(e,l):o.points.width?o.points.stroke(e,l):null}function mf(e,l){return e.series[l].fill(e,l)}const gf={show:!0,live:!0,isolate:!1,mount:Vr,markers:{show:!0,width:2,stroke:pf,fill:mf,dash:"solid"},idx:null,idxs:null,values:[]};function df(e,l){let o=e.cursor.points,n=ut(),s=o.size(e,l);de(n,Gl,s),de(n,Bl,s);let c=s/-2;de(n,"marginLeft",c),de(n,"marginTop",c);let u=o.width(e,l,s);return u&&de(n,"borderWidth",u),n}function wf(e,l){let o=e.series[l].points;return o._fill||o._stroke}function Sf(e,l){let o=e.series[l].points;return o._stroke||o._fill}function _f(e,l){return e.series[l].points.size}const jn=[0,0];function yf(e,l,o){return jn[0]=l,jn[1]=o,jn}function sn(e,l,o,n=!0){return s=>{s.button==0&&(!n||s.target==l)&&o(s)}}function qn(e,l,o,n=!0){return s=>{(!n||s.target==l)&&o(s)}}const vf={show:!0,x:!0,y:!0,lock:!1,move:yf,points:{one:!1,show:df,size:_f,width:0,stroke:Sf,fill:wf},bind:{mousedown:sn,mouseup:sn,click:sn,dblclick:sn,mousemove:qn,mouseleave:qn,mouseenter:qn},drag:{setScale:!0,x:!0,y:!1,dist:0,uni:null,click:(e,l)=>{l.stopPropagation(),l.stopImmediatePropagation()},_x:!1,_y:!1},focus:{dist:(e,l,o,n,s)=>n-s,prox:-1,bias:0},hover:{skip:[void 0],prox:null,bias:0},left:-10,top:-10,idx:null,dataIdx:null,idxs:null,event:null},ns={show:!0,stroke:"rgba(0,0,0,0.07)",width:2},mi=xe({},ns,{filter:Yo}),is=xe({},mi,{size:10}),os=xe({},ns,{show:!1}),gi='12px system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',ss="bold "+gi,rs=1.5,xo={show:!0,scale:"x",stroke:oi,space:50,gap:5,alignTo:1,size:50,labelGap:0,labelSize:30,labelFont:ss,side:2,grid:mi,ticks:is,border:os,font:gi,lineGap:rs,rotate:0},Mf="Value",kf="Time",bo={show:!0,scale:"x",auto:!1,sorted:1,min:ce,max:-ce,idxs:[]};function xf(e,l,o,n,s){return l.map(c=>c==null?"":ci(c))}function bf(e,l,o,n,s,c,u){let h=[],m=Ot.get(s)||0;o=u?o:ae(pn(o,s),m);for(let g=o;g<=n;g=ae(g+s,m))h.push(Object.is(g,-0)?0:g);return h}function ei(e,l,o,n,s,c,u){const h=[],m=e.scales[e.axes[l].scale].log,g=m==10?Pt:Wo,y=tt(g(o));s=xl(m,y),m==10&&(s=Zt[wt(s,Zt)]);let d=o,w=s*m;m==10&&(w=Zt[wt(w,Zt)]);do h.push(d),d=d+s,m==10&&!Ot.has(d)&&(d=ae(d,Ot.get(s))),d>=w&&(s=d,w=s*m,m==10&&(w=Zt[wt(w,Zt)]));while(d<=n);return h}function Tf(e,l,o,n,s,c,u){let m=e.scales[e.axes[l].scale].asinh,g=n>m?ei(e,l,Ie(m,o),n,s):[m],y=n>=0&&o<=0?[0]:[];return(o<-m?ei(e,l,Ie(m,-n),-o,s):[m]).reverse().map(w=>-w).concat(y,g)}const fs=/./,Af=/[12357]/,Df=/[125]/,To=/1/,ti=(e,l,o,n)=>e.map((s,c)=>l==4&&s==0||c%n==0&&o.test(s.toExponential()[s<0?1:0])?s:null);function Ef(e,l,o,n,s){let c=e.axes[o],u=c.scale,h=e.scales[u],m=e.valToPos,g=c._space,y=m(10,u),d=m(9,u)-y>=g?fs:m(7,u)-y>=g?Af:m(5,u)-y>=g?Df:To;if(d==To){let w=De(m(1,u)-y);if(w<g)return ti(l.slice().reverse(),h.distr,d,ct(g/w)).reverse()}return ti(l,h.distr,d,1)}function Pf(e,l,o,n,s){let c=e.axes[o],u=c.scale,h=c._space,m=e.valToPos,g=De(m(1,u)-m(2,u));return g<h?ti(l.slice().reverse(),3,fs,ct(h/g)).reverse():l}function Lf(e,l,o,n){return n==null?si:l==null?"":ci(l)}const Ao={show:!0,scale:"y",stroke:oi,space:30,gap:5,alignTo:1,size:50,labelGap:0,labelSize:30,labelFont:ss,side:3,grid:mi,ticks:is,border:os,font:gi,lineGap:rs,rotate:0};function Cf(e,l){let o=3+(e||1)*2;return ae(o*l,3)}function Vf(e,l){let{scale:o,idxs:n}=e.series[0],s=e._data[0],c=e.valToPos(s[n[0]],o,!0),u=e.valToPos(s[n[1]],o,!0),h=De(u-c),m=e.series[l],g=h/(m.points.space*se);return n[1]-n[0]<=g}const Do={scale:null,auto:!0,sorted:0,min:ce,max:-ce},us=(e,l,o,n,s)=>s,Eo={show:!0,auto:!0,sorted:0,gaps:us,alpha:1,facets:[xe({},Do,{scale:"x"}),xe({},Do,{scale:"y"})]},Po={scale:"y",auto:!0,sorted:0,show:!0,spanGaps:!1,gaps:us,alpha:1,points:{show:Vf,filter:null},values:null,min:ce,max:-ce,idxs:[],path:null,clip:null};function zf(e,l,o,n,s){return o/10}const cs={time:ir,auto:!0,distr:1,log:10,asinh:1,min:null,max:null,dir:1,ori:0},Rf=xe({},cs,{time:!1,ori:1}),Lo={};function as(e,l){let o=Lo[e];return o||(o={key:e,plots:[],sub(n){o.plots.push(n)},unsub(n){o.plots=o.plots.filter(s=>s!=n)},pub(n,s,c,u,h,m,g){for(let y=0;y<o.plots.length;y++)o.plots[y]!=s&&o.plots[y].pub(n,s,c,u,h,m,g)}},e!=null&&(Lo[e]=o)),o}const Al=1,li=2;function tl(e,l,o){const n=e.mode,s=e.series[l],c=n==2?e._data[l]:e._data,u=e.scales,h=e.bbox;let m=c[0],g=n==2?c[1]:c[l],y=n==2?u[s.facets[0].scale]:u[e.series[0].scale],d=n==2?u[s.facets[1].scale]:u[s.scale],w=h.left,L=h.top,P=h.width,H=h.height,O=e.valToPosH,G=e.valToPosV;return y.ori==0?o(s,m,g,y,d,O,G,w,L,P,H,dn,El,Sn,ps,gs):o(s,m,g,y,d,G,O,L,w,H,P,wn,Pl,Si,ms,ds)}function di(e,l){let o=0,n=0,s=ie(e.bands,ai);for(let c=0;c<s.length;c++){let u=s[c];u.series[0]==l?o=u.dir:u.series[1]==l&&(u.dir==1?n|=1:n|=2)}return[o,n==1?-1:n==2?1:n==3?2:0]}function Ff(e,l,o,n,s){let c=e.mode,u=e.series[l],h=c==2?u.facets[1].scale:u.scale,m=e.scales[h];return s==-1?m.min:s==1?m.max:m.distr==3?m.dir==1?m.min:m.max:0}function Lt(e,l,o,n,s,c){return tl(e,l,(u,h,m,g,y,d,w,L,P,H,O)=>{let G=u.pxRound;const M=g.dir*(g.ori==0?1:-1),N=g.ori==0?El:Pl;let k,q;M==1?(k=o,q=n):(k=n,q=o);let E=G(d(h[k],g,H,L)),$=G(w(m[k],y,O,P)),U=G(d(h[q],g,H,L)),Q=G(w(c==1?y.max:y.min,y,O,P)),I=new Path2D(s);return N(I,U,Q),N(I,E,Q),N(I,E,$),I})}function gn(e,l,o,n,s,c){let u=null;if(e.length>0){u=new Path2D;const h=l==0?Sn:Si;let m=o;for(let d=0;d<e.length;d++){let w=e[d];if(w[1]>w[0]){let L=w[0]-m;L>0&&h(u,m,n,L,n+c),m=w[1]}}let g=o+s-m,y=10;g>0&&h(u,m,n-y/2,g,n+c+y)}return u}function Hf(e,l,o){let n=e[e.length-1];n&&n[0]==l?n[1]=o:e.push([l,o])}function wi(e,l,o,n,s,c,u){let h=[],m=e.length;for(let g=s==1?o:n;g>=o&&g<=n;g+=s)if(l[g]===null){let d=g,w=g;if(s==1)for(;++g<=n&&l[g]===null;)w=g;else for(;--g>=o&&l[g]===null;)w=g;let L=c(e[d]),P=w==d?L:c(e[w]),H=d-s;L=u<=0&&H>=0&&H<m?c(e[H]):L;let G=w+s;P=u>=0&&G>=0&&G<m?c(e[G]):P,P>=L&&h.push([L,P])}return h}function Co(e){return e==0?Bo:e==1?Ae:l=>Jt(l,e)}function hs(e){let l=e==0?dn:wn,o=e==0?(s,c,u,h,m,g)=>{s.arcTo(c,u,h,m,g)}:(s,c,u,h,m,g)=>{s.arcTo(u,c,m,h,g)},n=e==0?(s,c,u,h,m)=>{s.rect(c,u,h,m)}:(s,c,u,h,m)=>{s.rect(u,c,m,h)};return(s,c,u,h,m,g=0,y=0)=>{g==0&&y==0?n(s,c,u,h,m):(g=St(g,h/2,m/2),y=St(y,h/2,m/2),l(s,c+g,u),o(s,c+h,u,c+h,u+m,g),o(s,c+h,u+m,c,u+m,y),o(s,c,u+m,c,u,y),o(s,c,u,c+h,u,g),s.closePath())}}const dn=(e,l,o)=>{e.moveTo(l,o)},wn=(e,l,o)=>{e.moveTo(o,l)},El=(e,l,o)=>{e.lineTo(l,o)},Pl=(e,l,o)=>{e.lineTo(o,l)},Sn=hs(0),Si=hs(1),ps=(e,l,o,n,s,c)=>{e.arc(l,o,n,s,c)},ms=(e,l,o,n,s,c)=>{e.arc(o,l,n,s,c)},gs=(e,l,o,n,s,c,u)=>{e.bezierCurveTo(l,o,n,s,c,u)},ds=(e,l,o,n,s,c,u)=>{e.bezierCurveTo(o,l,s,n,u,c)};function ws(e){return(l,o,n,s,c)=>tl(l,o,(u,h,m,g,y,d,w,L,P,H,O)=>{let{pxRound:G,points:M}=u,N,k;g.ori==0?(N=dn,k=ps):(N=wn,k=ms);const q=ae(M.width*se,3);let E=(M.size-M.width)/2*se,$=ae(E*2,3),U=new Path2D,Q=new Path2D,{left:I,top:x,width:j,height:C}=l.bbox;Sn(Q,I-$,x-$,j+$*2,C+$*2);const B=F=>{if(m[F]!=null){let ee=G(d(h[F],g,H,L)),R=G(w(m[F],y,O,P));N(U,ee+E,R),k(U,ee,R,E,0,rn*2)}};if(c)c.forEach(B);else for(let F=n;F<=s;F++)B(F);return{stroke:q>0?U:null,fill:U,clip:Q,flags:Al|li}})}function Ss(e){return(l,o,n,s,c,u)=>{n!=s&&(c!=n&&u!=n&&e(l,o,n),c!=s&&u!=s&&e(l,o,s),e(l,o,u))}}const Nf=Ss(El),Of=Ss(Pl);function _s(e){const l=ie(e==null?void 0:e.alignGaps,0);return(o,n,s,c)=>tl(o,n,(u,h,m,g,y,d,w,L,P,H,O)=>{[s,c]=an(m,s,c);let G=u.pxRound,M=C=>G(d(C,g,H,L)),N=C=>G(w(C,y,O,P)),k,q;g.ori==0?(k=El,q=Nf):(k=Pl,q=Of);const E=g.dir*(g.ori==0?1:-1),$={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:Al},U=$.stroke;let Q=!1;if(c-s>=H*4){let C=V=>o.posToVal(V,g.key,!0),B=null,F=null,ee,R,Ke,we=M(h[E==1?s:c]),te=M(h[s]),fe=M(h[c]),J=C(E==1?te+1:fe-1);for(let V=E==1?s:c;V>=s&&V<=c;V+=E){let be=h[V],Se=(E==1?be<J:be>J)?we:M(be),le=m[V];Se==we?le!=null?(R=le,B==null?(k(U,Se,N(R)),ee=B=F=R):R<B?B=R:R>F&&(F=R)):le===null&&(Q=!0):(B!=null&&q(U,we,N(B),N(F),N(ee),N(R)),le!=null?(R=le,k(U,Se,N(R)),B=F=ee=R):(B=F=null,le===null&&(Q=!0)),we=Se,J=C(we+E))}B!=null&&B!=F&&Ke!=we&&q(U,we,N(B),N(F),N(ee),N(R))}else for(let C=E==1?s:c;C>=s&&C<=c;C+=E){let B=m[C];B===null?Q=!0:B!=null&&k(U,M(h[C]),N(B))}let[x,j]=di(o,n);if(u.fill!=null||x!=0){let C=$.fill=new Path2D(U),B=u.fillTo(o,n,u.min,u.max,x),F=N(B),ee=M(h[s]),R=M(h[c]);E==-1&&([R,ee]=[ee,R]),k(C,R,F),k(C,ee,F)}if(!u.spanGaps){let C=[];Q&&C.push(...wi(h,m,s,c,E,M,l)),$.gaps=C=u.gaps(o,n,s,c,C),$.clip=gn(C,g.ori,L,P,H,O)}return j!=0&&($.band=j==2?[Lt(o,n,s,c,U,-1),Lt(o,n,s,c,U,1)]:Lt(o,n,s,c,U,j)),$})}function Wf(e){const l=ie(e.align,1),o=ie(e.ascDesc,!1),n=ie(e.alignGaps,0),s=ie(e.extend,!1);return(c,u,h,m)=>tl(c,u,(g,y,d,w,L,P,H,O,G,M,N)=>{[h,m]=an(d,h,m);let k=g.pxRound,{left:q,width:E}=c.bbox,$=te=>k(P(te,w,M,O)),U=te=>k(H(te,L,N,G)),Q=w.ori==0?El:Pl;const I={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:Al},x=I.stroke,j=w.dir*(w.ori==0?1:-1);let C=U(d[j==1?h:m]),B=$(y[j==1?h:m]),F=B,ee=B;s&&l==-1&&(ee=q,Q(x,ee,C)),Q(x,B,C);for(let te=j==1?h:m;te>=h&&te<=m;te+=j){let fe=d[te];if(fe==null)continue;let J=$(y[te]),V=U(fe);l==1?Q(x,J,C):Q(x,F,V),Q(x,J,V),C=V,F=J}let R=F;s&&l==1&&(R=q+E,Q(x,R,C));let[Ke,we]=di(c,u);if(g.fill!=null||Ke!=0){let te=I.fill=new Path2D(x),fe=g.fillTo(c,u,g.min,g.max,Ke),J=U(fe);Q(te,R,J),Q(te,ee,J)}if(!g.spanGaps){let te=[];te.push(...wi(y,d,h,m,j,$,n));let fe=g.width*se/2,J=o||l==1?fe:-fe,V=o||l==-1?-fe:fe;te.forEach(be=>{be[0]+=J,be[1]+=V}),I.gaps=te=g.gaps(c,u,h,m,te),I.clip=gn(te,w.ori,O,G,M,N)}return we!=0&&(I.band=we==2?[Lt(c,u,h,m,x,-1),Lt(c,u,h,m,x,1)]:Lt(c,u,h,m,x,we)),I})}function Vo(e,l,o,n,s,c,u=ce){if(e.length>1){let h=null;for(let m=0,g=1/0;m<e.length;m++)if(l[m]!==void 0){if(h!=null){let y=De(e[m]-e[h]);y<g&&(g=y,u=De(o(e[m],n,s,c)-o(e[h],n,s,c)))}h=m}}return u}function Gf(e){e=e||Ul;const l=ie(e.size,[.6,ce,1]),o=e.align||0,n=e.gap||0;let s=e.radius;s=s==null?[0,0]:typeof s=="number"?[s,0]:s;const c=X(s),u=1-l[0],h=ie(l[1],ce),m=ie(l[2],1),g=ie(e.disp,Ul),y=ie(e.each,L=>{}),{fill:d,stroke:w}=g;return(L,P,H,O)=>tl(L,P,(G,M,N,k,q,E,$,U,Q,I,x)=>{let j=G.pxRound,C=o,B=n*se,F=h*se,ee=m*se,R,Ke;k.ori==0?[R,Ke]=c(L,P):[Ke,R]=c(L,P);const we=k.dir*(k.ori==0?1:-1);let te=k.ori==0?Sn:Si,fe=k.ori==0?y:(A,he,Te,ol,Bt,yt,Yt)=>{y(A,he,Te,Bt,ol,Yt,yt)},J=ie(L.bands,ai).find(A=>A.series[0]==P),V=J!=null?J.dir:0,be=G.fillTo(L,P,G.min,G.max,V),Oe=j($(be,q,x,Q)),Se,le,at,$e=I,ye=j(G.width*se),_t=!1,At=null,nt=null,Ct=null,ll=null;d!=null&&(ye==0||w!=null)&&(_t=!0,At=d.values(L,P,H,O),nt=new Map,new Set(At).forEach(A=>{A!=null&&nt.set(A,new Path2D)}),ye>0&&(Ct=w.values(L,P,H,O),ll=new Map,new Set(Ct).forEach(A=>{A!=null&&ll.set(A,new Path2D)})));let{x0:nl,size:Ll}=g;if(nl!=null&&Ll!=null){C=1,M=nl.values(L,P,H,O),nl.unit==2&&(M=M.map(Te=>L.posToVal(U+Te*I,k.key,!0)));let A=Ll.values(L,P,H,O);Ll.unit==2?le=A[0]*I:le=E(A[0],k,I,U)-E(0,k,I,U),$e=Vo(M,N,E,k,I,U,$e),at=$e-le+B}else $e=Vo(M,N,E,k,I,U,$e),at=$e*u+B,le=$e-at;at<1&&(at=0),ye>=le/2&&(ye=0),at<5&&(j=Bo);let jl=at>0,Wt=$e-at-(jl?ye:0);le=j(Xn(Wt,ee,F)),Se=(C==0?le/2:C==we?0:le)-C*we*((C==0?B/2:0)+(jl?ye/2:0));const We={stroke:null,fill:null,clip:null,band:null,gaps:null,flags:0},il=_t?null:new Path2D;let Dt=null;if(J!=null)Dt=L.data[J.series[1]];else{let{y0:A,y1:he}=g;A!=null&&he!=null&&(N=he.values(L,P,H,O),Dt=A.values(L,P,H,O))}let Gt=R*le,K=Ke*le;for(let A=we==1?H:O;A>=H&&A<=O;A+=we){let he=N[A];if(he==null)continue;if(Dt!=null){let je=Dt[A]??0;if(he-je==0)continue;Oe=$(je,q,x,Q)}let Te=k.distr!=2||g!=null?M[A]:A,ol=E(Te,k,I,U),Bt=$(ie(he,be),q,x,Q),yt=j(ol-Se),Yt=j(Ie(Bt,Oe)),Je=j(St(Bt,Oe)),it=Yt-Je;if(he!=null){let je=he<0?K:Gt,ht=he<0?Gt:K;_t?(ye>0&&Ct[A]!=null&&te(ll.get(Ct[A]),yt,Je+tt(ye/2),le,Ie(0,it-ye),je,ht),At[A]!=null&&te(nt.get(At[A]),yt,Je+tt(ye/2),le,Ie(0,it-ye),je,ht)):te(il,yt,Je+tt(ye/2),le,Ie(0,it-ye),je,ht),fe(L,P,A,yt-ye/2,Je,le+ye,it)}}return ye>0?We.stroke=_t?ll:il:_t||(We._fill=G.width==0?G._fill:G._stroke??G._fill,We.width=0),We.fill=_t?nt:il,We})}function Bf(e,l){const o=ie(l==null?void 0:l.alignGaps,0);return(n,s,c,u)=>tl(n,s,(h,m,g,y,d,w,L,P,H,O,G)=>{[c,u]=an(g,c,u);let M=h.pxRound,N=R=>M(w(R,y,O,P)),k=R=>M(L(R,d,G,H)),q,E,$;y.ori==0?(q=dn,$=El,E=gs):(q=wn,$=Pl,E=ds);const U=y.dir*(y.ori==0?1:-1);let Q=N(m[U==1?c:u]),I=Q,x=[],j=[];for(let R=U==1?c:u;R>=c&&R<=u;R+=U)if(g[R]!=null){let we=m[R],te=N(we);x.push(I=te),j.push(k(g[R]))}const C={stroke:e(x,j,q,$,E,M),fill:null,clip:null,band:null,gaps:null,flags:Al},B=C.stroke;let[F,ee]=di(n,s);if(h.fill!=null||F!=0){let R=C.fill=new Path2D(B),Ke=h.fillTo(n,s,h.min,h.max,F),we=k(Ke);$(R,I,we),$(R,Q,we)}if(!h.spanGaps){let R=[];R.push(...wi(m,g,c,u,U,N,o)),C.gaps=R=h.gaps(n,s,c,u,R),C.clip=gn(R,y.ori,P,H,O,G)}return ee!=0&&(C.band=ee==2?[Lt(n,s,c,u,B,-1),Lt(n,s,c,u,B,1)]:Lt(n,s,c,u,B,ee)),C})}function Yf(e){return Bf(If,e)}function If(e,l,o,n,s,c){const u=e.length;if(u<2)return null;const h=new Path2D;if(o(h,e[0],l[0]),u==2)n(h,e[1],l[1]);else{let m=Array(u),g=Array(u-1),y=Array(u-1),d=Array(u-1);for(let w=0;w<u-1;w++)y[w]=l[w+1]-l[w],d[w]=e[w+1]-e[w],g[w]=y[w]/d[w];m[0]=g[0];for(let w=1;w<u-1;w++)g[w]===0||g[w-1]===0||g[w-1]>0!=g[w]>0?m[w]=0:(m[w]=3*(d[w-1]+d[w])/((2*d[w]+d[w-1])/g[w-1]+(d[w]+2*d[w-1])/g[w]),isFinite(m[w])||(m[w]=0));m[u-1]=g[u-2];for(let w=0;w<u-1;w++)s(h,e[w]+d[w]/3,l[w]+m[w]*d[w]/3,e[w+1]-d[w]/3,l[w+1]-m[w+1]*d[w]/3,e[w+1],l[w+1])}return h}const ni=new Set;function zo(){for(let e of ni)e.syncRect(!0)}Dl&&(Xt(kr,kl,zo),Xt(xr,kl,zo,!0),Xt(fn,kl,()=>{Ue.pxRatio=se}));const Uf=_s(),Kf=ws();function Ro(e,l,o,n){return(n?[e[0],e[1]].concat(e.slice(2)):[e[0]].concat(e.slice(1))).map((c,u)=>ii(c,u,l,o))}function jf(e,l){return e.map((o,n)=>n==0?{}:xe({},l,o))}function ii(e,l,o,n){return xe({},l==0?o:n,e)}function ys(e,l,o){return l==null?bl:[l,o]}const qf=ys;function $f(e,l,o){return l==null?bl:un(l,o,ui,!0)}function vs(e,l,o,n){return l==null?bl:hn(l,o,e.scales[n].log,!1)}const Jf=vs;function Ms(e,l,o,n){return l==null?bl:fi(l,o,e.scales[n].log,!1)}const Zf=Ms;function Qf(e,l,o,n,s){let c=Ie(ho(e),ho(l)),u=l-e,h=wt(s/n*u,o);do{let m=o[h],g=n*m/u;if(g>=s&&c+(m<5?Ot.get(m):0)<=17)return[m,g]}while(++h<o.length);return[0,0]}function Fo(e){let l,o;return e=e.replace(/(\d+)px/,(n,s)=>(l=Ae((o=+s)*se))+"px"),[e,l,o]}function Xf(e){e.show&&[e.font,e.labelFont].forEach(l=>{let o=ae(l[2]*se,1);l[0]=l[0].replace(/[0-9.]+px/,o+"px"),l[1]=o})}function Ue(e,l,o){const n={mode:ie(e.mode,1)},s=n.mode;function c(t,i,r,f){let a=i.valToPct(t);return f+r*(i.dir==-1?1-a:a)}function u(t,i,r,f){let a=i.valToPct(t);return f+r*(i.dir==-1?a:1-a)}function h(t,i,r,f){return i.ori==0?c(t,i,r,f):u(t,i,r,f)}n.valToPosH=c,n.valToPosV=u;let m=!1;n.status=0;const g=n.root=ut(or);if(e.id!=null&&(g.id=e.id),et(g,e.class),e.title){let t=ut(fr,g);t.textContent=e.title}const y=dt("canvas"),d=n.ctx=y.getContext("2d"),w=ut(ur,g);Xt("click",w,t=>{t.target===P&&(pe!=dl||_e!=wl)&&He.click(n,t)},!0);const L=n.under=ut(cr,w);w.appendChild(y);const P=n.over=ut(ar,w);e=Tl(e);const H=+ie(e.pxAlign,1),O=Co(H);(e.plugins||[]).forEach(t=>{t.opts&&(e=t.opts(n,e)||e)});const G=e.ms||.001,M=n.series=s==1?Ro(e.series||[],bo,Po,!1):jf(e.series||[null],Eo),N=n.axes=Ro(e.axes||[],xo,Ao,!0),k=n.scales={},q=n.bands=e.bands||[];q.forEach(t=>{t.fill=X(t.fill||null),t.dir=ie(t.dir,-1)});const E=s==2?M[1].facets[0].scale:M[0].scale,$={axes:Ns,series:Vs},U=(e.drawOrder||["axes","series"]).map(t=>$[t]);function Q(t){const i=t.distr==3?r=>Pt(r>0?r:t.clamp(n,r,t.min,t.max,t.key)):t.distr==4?r=>Un(r,t.asinh):t.distr==100?r=>t.fwd(r):r=>r;return r=>{let f=i(r),{_min:a,_max:p}=t,S=p-a;return(f-a)/S}}function I(t){let i=k[t];if(i==null){let r=(e.scales||Ul)[t]||Ul;if(r.from!=null){I(r.from);let f=xe({},k[r.from],r,{key:t});f.valToPct=Q(f),k[t]=f}else{i=k[t]=xe({},t==E?cs:Rf,r),i.key=t;let f=i.time,a=i.range,p=Nt(a);if((t!=E||s==2&&!f)&&(p&&(a[0]==null||a[1]==null)&&(a={min:a[0]==null?uo:{mode:1,hard:a[0],soft:a[0]},max:a[1]==null?uo:{mode:1,hard:a[1],soft:a[1]}},p=!1),!p&&mn(a))){let S=a;a=(_,v,b)=>v==null?bl:un(v,b,S)}i.range=X(a||(f?qf:t==E?i.distr==3?Jf:i.distr==4?Zf:ys:i.distr==3?vs:i.distr==4?Ms:$f)),i.auto=X(p?!1:i.auto),i.clamp=X(i.clamp||zf),i._min=i._max=null,i.valToPct=Q(i)}}}I("x"),I("y"),s==1&&M.forEach(t=>{I(t.scale)}),N.forEach(t=>{I(t.scale)});for(let t in e.scales)I(t);const x=k[E],j=x.distr;let C,B;x.ori==0?(et(g,sr),C=c,B=u):(et(g,rr),C=u,B=c);const F={};for(let t in k){let i=k[t];(i.min!=null||i.max!=null)&&(F[t]={min:i.min,max:i.max},i.min=i.max=null)}const ee=e.tzDate||(t=>new Date(Ae(t/G))),R=e.fmtDate||hi,Ke=G==1?rf(ee):cf(ee),we=vo(ee,yo(G==1?sf:uf,R)),te=ko(ee,Mo(hf,R)),fe=[],J=n.legend=xe({},gf,e.legend),V=n.cursor=xe({},vf,{drag:{y:s==2}},e.cursor),be=J.show,Oe=V.show,Se=J.markers;J.idxs=fe,Se.width=X(Se.width),Se.dash=X(Se.dash),Se.stroke=X(Se.stroke),Se.fill=X(Se.fill);let le,at,$e,ye=[],_t=[],At,nt=!1,Ct={};if(J.live){const t=M[1]?M[1].values:null;nt=t!=null,At=nt?t(n,1,0):{_:0};for(let i in At)Ct[i]=si}if(be)if(le=dt("table",wr,g),$e=dt("tbody",null,le),J.mount(n,le),nt){at=dt("thead",null,le,$e);let t=dt("tr",null,at);dt("th",null,t);for(var ll in At)dt("th",Ji,t).textContent=ll}else et(le,_r),J.live&&et(le,Sr);const nl={show:!0},Ll={show:!1};function jl(t,i){if(i==0&&(nt||!J.live||s==2))return bl;let r=[],f=dt("tr",yr,$e,$e.childNodes[i]);et(f,t.class),t.show||et(f,Qt);let a=dt("th",null,f);if(Se.show){let _=ut(vr,a);if(i>0){let v=Se.width(n,i);v&&(_.style.border=v+"px "+Se.dash(n,i)+" "+Se.stroke(n,i)),_.style.background=Se.fill(n,i)}}let p=ut(Ji,a);t.label instanceof HTMLElement?p.appendChild(t.label):p.textContent=t.label,i>0&&(Se.show||(p.style.color=t.width>0?Se.stroke(n,i):Se.fill(n,i)),We("click",a,_=>{if(V._lock)return;Ut(_);let v=M.indexOf(t);if((_.ctrlKey||_.metaKey)!=J.isolate){let b=M.some((T,D)=>D>0&&D!=v&&T.show);M.forEach((T,D)=>{D>0&&Mt(D,b?D==v?nl:Ll:nl,!0,ke.setSeries)})}else Mt(v,{show:!t.show},!0,ke.setSeries)},!1),rl&&We(eo,a,_=>{V._lock||(Ut(_),Mt(M.indexOf(t),_l,!0,ke.setSeries))},!1));for(var S in At){let _=dt("td",Mr,f);_.textContent="--",r.push(_)}return[f,r]}const Wt=new Map;function We(t,i,r,f=!0){const a=Wt.get(i)||{},p=V.bind[t](n,i,r,f);p&&(Xt(t,i,a[t]=p),Wt.set(i,a))}function il(t,i,r){const f=Wt.get(i)||{};for(let a in f)(t==null||a==t)&&(Qn(a,i,f[a]),delete f[a]);t==null&&Wt.delete(i)}let Dt=0,Gt=0,K=0,A=0,he=0,Te=0,ol=he,Bt=Te,yt=K,Yt=A,Je=0,it=0,je=0,ht=0;n.bbox={};let _n=!1,ql=!1,sl=!1,It=!1,$l=!1,ot=!1;function yn(t,i,r){(r||t!=n.width||i!=n.height)&&_i(t,i),hl(!1),sl=!0,ql=!0,pl()}function _i(t,i){n.width=Dt=K=t,n.height=Gt=A=i,he=Te=0,Ts(),As();let r=n.bbox;Je=r.left=Jt(he*se,.5),it=r.top=Jt(Te*se,.5),je=r.width=Jt(K*se,.5),ht=r.height=Jt(A*se,.5)}const ks=3;function xs(){let t=!1,i=0;for(;!t;){i++;let r=Fs(i),f=Hs(i);t=i==ks||r&&f,t||(_i(n.width,n.height),ql=!0)}}function bs({width:t,height:i}){yn(t,i)}n.setSize=bs;function Ts(){let t=!1,i=!1,r=!1,f=!1;N.forEach((a,p)=>{if(a.show&&a._show){let{side:S,_size:_}=a,v=S%2,b=a.label!=null?a.labelSize:0,T=_+b;T>0&&(v?(K-=T,S==3?(he+=T,f=!0):r=!0):(A-=T,S==0?(Te+=T,t=!0):i=!0))}}),Kt[0]=t,Kt[1]=r,Kt[2]=i,Kt[3]=f,K-=Vt[1]+Vt[3],he+=Vt[3],A-=Vt[2]+Vt[0],Te+=Vt[0]}function As(){let t=he+K,i=Te+A,r=he,f=Te;function a(p,S){switch(p){case 1:return t+=S,t-S;case 2:return i+=S,i-S;case 3:return r-=S,r+S;case 0:return f-=S,f+S}}N.forEach((p,S)=>{if(p.show&&p._show){let _=p.side;p._pos=a(_,p._size),p.label!=null&&(p._lpos=a(_,p.labelSize))}})}if(V.dataIdx==null){let t=V.hover,i=t.skip=new Set(t.skip??[]);i.add(void 0);let r=t.prox=X(t.prox),f=t.bias??(t.bias=0);V.dataIdx=(a,p,S,_)=>{if(p==0)return S;let v=S,b=r(a,p,S,_)??ce,T=b>=0&&b<ce,D=x.ori==0?K:A,Y=V.left,oe=l[0],ne=l[p];if(i.has(ne[S])){v=null;let Z=null,W=null,z;if(f==0||f==-1)for(z=S;Z==null&&z-- >0;)i.has(ne[z])||(Z=z);if(f==0||f==1)for(z=S;W==null&&z++<ne.length;)i.has(ne[z])||(W=z);if(Z!=null||W!=null)if(T){let ge=Z==null?-1/0:C(oe[Z],x,D,0),ve=W==null?1/0:C(oe[W],x,D,0),Re=Y-ge,ue=ve-Y;Re<=ue?Re<=b&&(v=Z):ue<=b&&(v=W)}else v=W==null?Z:Z==null?W:S-Z<=W-S?Z:W}else T&&De(Y-C(oe[S],x,D,0))>b&&(v=null);return v}}const Ut=t=>{V.event=t};V.idxs=fe,V._lock=!1;let Ne=V.points;Ne.show=X(Ne.show),Ne.size=X(Ne.size),Ne.stroke=X(Ne.stroke),Ne.width=X(Ne.width),Ne.fill=X(Ne.fill);const vt=n.focus=xe({},e.focus||{alpha:.3},V.focus),rl=vt.prox>=0,fl=rl&&Ne.one;let st=[],ul=[],cl=[];function yi(t,i){let r=Ne.show(n,i);if(r instanceof HTMLElement)return et(r,dr),et(r,t.class),Tt(r,-10,-10,K,A),P.insertBefore(r,st[i]),r}function vi(t,i){if(s==1||i>0){let r=s==1&&k[t.scale].time,f=t.value;t.value=r?go(f)?ko(ee,Mo(f,R)):f||te:f||Lf,t.label=t.label||(r?kf:Mf)}if(fl||i>0){t.width=t.width==null?1:t.width,t.paths=t.paths||Uf||zr,t.fillTo=X(t.fillTo||Ff),t.pxAlign=+ie(t.pxAlign,H),t.pxRound=Co(t.pxAlign),t.stroke=X(t.stroke||null),t.fill=X(t.fill||null),t._stroke=t._fill=t._paths=t._focus=null;let r=Cf(Ie(1,t.width),1),f=t.points=xe({},{size:r,width:Ie(1,r*.2),stroke:t.stroke,space:r*2,paths:Kf,_stroke:null,_fill:null},t.points);f.show=X(f.show),f.filter=X(f.filter),f.fill=X(f.fill),f.stroke=X(f.stroke),f.paths=X(f.paths),f.pxAlign=t.pxAlign}if(be){let r=jl(t,i);ye.splice(i,0,r[0]),_t.splice(i,0,r[1]),J.values.push(null)}if(Oe){fe.splice(i,0,null);let r=null;fl?i==0&&(r=yi(t,i)):i>0&&(r=yi(t,i)),st.splice(i,0,r),ul.splice(i,0,0),cl.splice(i,0,0)}ze("addSeries",i)}function Ds(t,i){i=i??M.length,t=s==1?ii(t,i,bo,Po):ii(t,i,{},Eo),M.splice(i,0,t),vi(M[i],i)}n.addSeries=Ds;function Es(t){if(M.splice(t,1),be){J.values.splice(t,1),_t.splice(t,1);let i=ye.splice(t,1)[0];il(null,i.firstChild),i.remove()}Oe&&(fe.splice(t,1),st.splice(t,1)[0].remove(),ul.splice(t,1),cl.splice(t,1)),ze("delSeries",t)}n.delSeries=Es;const Kt=[!1,!1,!1,!1];function Ps(t,i){if(t._show=t.show,t.show){let r=t.side%2,f=k[t.scale];f==null&&(t.scale=r?M[1].scale:E,f=k[t.scale]);let a=f.time;t.size=X(t.size),t.space=X(t.space),t.rotate=X(t.rotate),Nt(t.incrs)&&t.incrs.forEach(S=>{!Ot.has(S)&&Ot.set(S,Uo(S))}),t.incrs=X(t.incrs||(f.distr==2?lf:a?G==1?of:ff:Zt)),t.splits=X(t.splits||(a&&f.distr==1?Ke:f.distr==3?ei:f.distr==4?Tf:bf)),t.stroke=X(t.stroke),t.grid.stroke=X(t.grid.stroke),t.ticks.stroke=X(t.ticks.stroke),t.border.stroke=X(t.border.stroke);let p=t.values;t.values=Nt(p)&&!Nt(p[0])?X(p):a?Nt(p)?vo(ee,yo(p,R)):go(p)?af(ee,p):p||we:p||xf,t.filter=X(t.filter||(f.distr>=3&&f.log==10?Ef:f.distr==3&&f.log==2?Pf:Yo)),t.font=Fo(t.font),t.labelFont=Fo(t.labelFont),t._size=t.size(n,null,i,0),t._space=t._rotate=t._incrs=t._found=t._splits=t._values=null,t._size>0&&(Kt[i]=!0,t._el=ut(hr,w))}}function Cl(t,i,r,f){let[a,p,S,_]=r,v=i%2,b=0;return v==0&&(_||p)&&(b=i==0&&!a||i==2&&!S?Ae(xo.size/3):0),v==1&&(a||S)&&(b=i==1&&!p||i==3&&!_?Ae(Ao.size/2):0),b}const Mi=n.padding=(e.padding||[Cl,Cl,Cl,Cl]).map(t=>X(ie(t,Cl))),Vt=n._padding=Mi.map((t,i)=>t(n,i,Kt,0));let Fe,Pe=null,Le=null;const Jl=s==1?M[0].idxs:null;let pt=null,Vl=!1;function ki(t,i){if(l=t??[],n.data=n._data=l,s==2){Fe=0;for(let r=1;r<M.length;r++)Fe+=l[r][0].length}else{l.length==0&&(n.data=n._data=l=[[]]),pt=l[0],Fe=pt.length;let r=l;if(j==2){r=l.slice();let f=r[0]=Array(Fe);for(let a=0;a<Fe;a++)f[a]=a}n._data=l=r}if(hl(!0),ze("setData"),j==2&&(sl=!0),i!==!1){let r=x;r.auto(n,Vl)?vn():Rt(E,r.min,r.max),It=It||V.left>=0,ot=!0,pl()}}n.setData=ki;function vn(){Vl=!0;let t,i;s==1&&(Fe>0?(Pe=Jl[0]=0,Le=Jl[1]=Fe-1,t=l[0][Pe],i=l[0][Le],j==2?(t=Pe,i=Le):t==i&&(j==3?[t,i]=hn(t,t,x.log,!1):j==4?[t,i]=fi(t,t,x.log,!1):x.time?i=t+Ae(86400/G):[t,i]=un(t,i,ui,!0))):(Pe=Jl[0]=t=null,Le=Jl[1]=i=null)),Rt(E,t,i)}let Zl,al,Mn,kn,xn,bn,Tn,An,Dn,qe;function xi(t,i,r,f,a,p){t??(t=Qi),r??(r=ai),f??(f="butt"),a??(a=Qi),p??(p="round"),t!=Zl&&(d.strokeStyle=Zl=t),a!=al&&(d.fillStyle=al=a),i!=Mn&&(d.lineWidth=Mn=i),p!=xn&&(d.lineJoin=xn=p),f!=bn&&(d.lineCap=bn=f),r!=kn&&d.setLineDash(kn=r)}function bi(t,i,r,f){i!=al&&(d.fillStyle=al=i),t!=Tn&&(d.font=Tn=t),r!=An&&(d.textAlign=An=r),f!=Dn&&(d.textBaseline=Dn=f)}function En(t,i,r,f,a=0){if(f.length>0&&t.auto(n,Vl)&&(i==null||i.min==null)){let p=ie(Pe,0),S=ie(Le,f.length-1),_=r.min==null?Dr(f,p,S,a,t.distr==3):[r.min,r.max];t.min=St(t.min,r.min=_[0]),t.max=Ie(t.max,r.max=_[1])}}const Ti={min:null,max:null};function Ls(){for(let f in k){let a=k[f];F[f]==null&&(a.min==null||F[E]!=null&&a.auto(n,Vl))&&(F[f]=Ti)}for(let f in k){let a=k[f];F[f]==null&&a.from!=null&&F[a.from]!=null&&(F[f]=Ti)}F[E]!=null&&hl(!0);let t={};for(let f in F){let a=F[f];if(a!=null){let p=t[f]=Tl(k[f],Hr);if(a.min!=null)xe(p,a);else if(f!=E||s==2)if(Fe==0&&p.from==null){let S=p.range(n,null,null,f);p.min=S[0],p.max=S[1]}else p.min=ce,p.max=-ce}}if(Fe>0){M.forEach((f,a)=>{if(s==1){let p=f.scale,S=F[p];if(S==null)return;let _=t[p];if(a==0){let v=_.range(n,_.min,_.max,p);_.min=v[0],_.max=v[1],Pe=wt(_.min,l[0]),Le=wt(_.max,l[0]),Le-Pe>1&&(l[0][Pe]<_.min&&Pe++,l[0][Le]>_.max&&Le--),f.min=pt[Pe],f.max=pt[Le]}else f.show&&f.auto&&En(_,S,f,l[a],f.sorted);f.idxs[0]=Pe,f.idxs[1]=Le}else if(a>0&&f.show&&f.auto){let[p,S]=f.facets,_=p.scale,v=S.scale,[b,T]=l[a],D=t[_],Y=t[v];D!=null&&En(D,F[_],p,b,p.sorted),Y!=null&&En(Y,F[v],S,T,S.sorted),f.min=S.min,f.max=S.max}});for(let f in t){let a=t[f],p=F[f];if(a.from==null&&(p==null||p.min==null)){let S=a.range(n,a.min==ce?null:a.min,a.max==-ce?null:a.max,f);a.min=S[0],a.max=S[1]}}}for(let f in t){let a=t[f];if(a.from!=null){let p=t[a.from];if(p.min==null)a.min=a.max=null;else{let S=a.range(n,p.min,p.max,f);a.min=S[0],a.max=S[1]}}}let i={},r=!1;for(let f in t){let a=t[f],p=k[f];if(p.min!=a.min||p.max!=a.max){p.min=a.min,p.max=a.max;let S=p.distr;p._min=S==3?Pt(p.min):S==4?Un(p.min,p.asinh):S==100?p.fwd(p.min):p.min,p._max=S==3?Pt(p.max):S==4?Un(p.max,p.asinh):S==100?p.fwd(p.max):p.max,i[f]=r=!0}}if(r){M.forEach((f,a)=>{s==2?a>0&&i.y&&(f._paths=null):i[f.scale]&&(f._paths=null)});for(let f in i)sl=!0,ze("setScale",f);Oe&&V.left>=0&&(It=ot=!0)}for(let f in F)F[f]=null}function Cs(t){let i=Xn(Pe-1,0,Fe-1),r=Xn(Le+1,0,Fe-1);for(;t[i]==null&&i>0;)i--;for(;t[r]==null&&r<Fe-1;)r++;return[i,r]}function Vs(){if(Fe>0){let t=M.some(i=>i._focus)&&qe!=vt.alpha;t&&(d.globalAlpha=qe=vt.alpha),M.forEach((i,r)=>{if(r>0&&i.show&&(Ai(r,!1),Ai(r,!0),i._paths==null)){let f=qe;qe!=i.alpha&&(d.globalAlpha=qe=i.alpha);let a=s==2?[0,l[r][0].length-1]:Cs(l[r]);i._paths=i.paths(n,r,a[0],a[1]),qe!=f&&(d.globalAlpha=qe=f)}}),M.forEach((i,r)=>{if(r>0&&i.show){let f=qe;qe!=i.alpha&&(d.globalAlpha=qe=i.alpha),i._paths!=null&&Di(r,!1);{let a=i._paths!=null?i._paths.gaps:null,p=i.points.show(n,r,Pe,Le,a),S=i.points.filter(n,r,p,a);(p||S)&&(i.points._paths=i.points.paths(n,r,Pe,Le,S),Di(r,!0))}qe!=f&&(d.globalAlpha=qe=f),ze("drawSeries",r)}}),t&&(d.globalAlpha=qe=1)}}function Ai(t,i){let r=i?M[t].points:M[t];r._stroke=r.stroke(n,t),r._fill=r.fill(n,t)}function Di(t,i){let r=i?M[t].points:M[t],{stroke:f,fill:a,clip:p,flags:S,_stroke:_=r._stroke,_fill:v=r._fill,_width:b=r.width}=r._paths;b=ae(b*se,3);let T=null,D=b%2/2;i&&v==null&&(v=b>0?"#fff":_);let Y=r.pxAlign==1&&D>0;if(Y&&d.translate(D,D),!i){let oe=Je-b/2,ne=it-b/2,Z=je+b,W=ht+b;T=new Path2D,T.rect(oe,ne,Z,W)}i?Pn(_,b,r.dash,r.cap,v,f,a,S,p):zs(t,_,b,r.dash,r.cap,v,f,a,S,T,p),Y&&d.translate(-D,-D)}function zs(t,i,r,f,a,p,S,_,v,b,T){let D=!1;v!=0&&q.forEach((Y,oe)=>{if(Y.series[0]==t){let ne=M[Y.series[1]],Z=l[Y.series[1]],W=(ne._paths||Ul).band;Nt(W)&&(W=Y.dir==1?W[0]:W[1]);let z,ge=null;ne.show&&W&&Pr(Z,Pe,Le)?(ge=Y.fill(n,oe)||p,z=ne._paths.clip):W=null,Pn(i,r,f,a,ge,S,_,v,b,T,z,W),D=!0}}),D||Pn(i,r,f,a,p,S,_,v,b,T)}const Ei=Al|li;function Pn(t,i,r,f,a,p,S,_,v,b,T,D){xi(t,i,r,f,a),(v||b||D)&&(d.save(),v&&d.clip(v),b&&d.clip(b)),D?(_&Ei)==Ei?(d.clip(D),T&&d.clip(T),Xl(a,S),Ql(t,p,i)):_&li?(Xl(a,S),d.clip(D),Ql(t,p,i)):_&Al&&(d.save(),d.clip(D),T&&d.clip(T),Xl(a,S),d.restore(),Ql(t,p,i)):(Xl(a,S),Ql(t,p,i)),(v||b||D)&&d.restore()}function Ql(t,i,r){r>0&&(i instanceof Map?i.forEach((f,a)=>{d.strokeStyle=Zl=a,d.stroke(f)}):i!=null&&t&&d.stroke(i))}function Xl(t,i){i instanceof Map?i.forEach((r,f)=>{d.fillStyle=al=f,d.fill(r)}):i!=null&&t&&d.fill(i)}function Rs(t,i,r,f){let a=N[t],p;if(f<=0)p=[0,0];else{let S=a._space=a.space(n,t,i,r,f),_=a._incrs=a.incrs(n,t,i,r,f,S);p=Qf(i,r,_,f,S)}return a._found=p}function Ln(t,i,r,f,a,p,S,_,v,b){let T=S%2/2;H==1&&d.translate(T,T),xi(_,S,v,b,_),d.beginPath();let D,Y,oe,ne,Z=a+(f==0||f==3?-p:p);r==0?(Y=a,ne=Z):(D=a,oe=Z);for(let W=0;W<t.length;W++)i[W]!=null&&(r==0?D=oe=t[W]:Y=ne=t[W],d.moveTo(D,Y),d.lineTo(oe,ne));d.stroke(),H==1&&d.translate(-T,-T)}function Fs(t){let i=!0;return N.forEach((r,f)=>{if(!r.show)return;let a=k[r.scale];if(a.min==null){r._show&&(i=!1,r._show=!1,hl(!1));return}else r._show||(i=!1,r._show=!0,hl(!1));let p=r.side,S=p%2,{min:_,max:v}=a,[b,T]=Rs(f,_,v,S==0?K:A);if(T==0)return;let D=a.distr==2,Y=r._splits=r.splits(n,f,_,v,b,T,D),oe=a.distr==2?Y.map(z=>pt[z]):Y,ne=a.distr==2?pt[Y[1]]-pt[Y[0]]:b,Z=r._values=r.values(n,r.filter(n,oe,f,T,ne),f,T,ne);r._rotate=p==2?r.rotate(n,Z,f,T):0;let W=r._size;r._size=ct(r.size(n,Z,f,t)),W!=null&&r._size!=W&&(i=!1)}),i}function Hs(t){let i=!0;return Mi.forEach((r,f)=>{let a=r(n,f,Kt,t);a!=Vt[f]&&(i=!1),Vt[f]=a}),i}function Ns(){for(let t=0;t<N.length;t++){let i=N[t];if(!i.show||!i._show)continue;let r=i.side,f=r%2,a,p,S=i.stroke(n,t),_=r==0||r==3?-1:1,[v,b]=i._found;if(i.label!=null){let Be=i.labelGap*_,Xe=Ae((i._lpos+Be)*se);bi(i.labelFont[0],S,"center",r==2?Ol:Zi),d.save(),f==1?(a=p=0,d.translate(Xe,Ae(it+ht/2)),d.rotate((r==3?-rn:rn)/2)):(a=Ae(Je+je/2),p=Xe);let $t=Go(i.label)?i.label(n,t,v,b):i.label;d.fillText($t,a,p),d.restore()}if(b==0)continue;let T=k[i.scale],D=f==0?je:ht,Y=f==0?Je:it,oe=i._splits,ne=T.distr==2?oe.map(Be=>pt[Be]):oe,Z=T.distr==2?pt[oe[1]]-pt[oe[0]]:v,W=i.ticks,z=i.border,ge=W.show?W.size:0,ve=Ae(ge*se),Re=Ae((i.alignTo==2?i._size-ge-i.gap:i.gap)*se),ue=i._rotate*-rn/180,Me=O(i._pos*se),Ze=(ve+Re)*_,Ge=Me+Ze;p=f==0?Ge:0,a=f==1?Ge:0;let rt=i.font[0],mt=i.align==1?vl:i.align==2?Bn:ue>0?vl:ue<0?Bn:f==0?"center":r==3?Bn:vl,xt=ue||f==1?"middle":r==2?Ol:Zi;bi(rt,S,mt,xt);let Qe=i.font[1]*i.lineGap,ft=oe.map(Be=>O(h(Be,T,D,Y))),gt=i._values;for(let Be=0;Be<gt.length;Be++){let Xe=gt[Be];if(Xe!=null){f==0?a=ft[Be]:p=ft[Be],Xe=""+Xe;let $t=Xe.indexOf(`
`)==-1?[Xe]:Xe.split(/\n/gm);for(let Ye=0;Ye<$t.length;Ye++){let qi=$t[Ye];ue?(d.save(),d.translate(a,p+Ye*Qe),d.rotate(ue),d.fillText(qi,0,0),d.restore()):d.fillText(qi,a,p+Ye*Qe)}}}W.show&&Ln(ft,W.filter(n,ne,t,b,Z),f,r,Me,ve,ae(W.width*se,3),W.stroke(n,t),W.dash,W.cap);let bt=i.grid;bt.show&&Ln(ft,bt.filter(n,ne,t,b,Z),f,f==0?2:1,f==0?it:Je,f==0?ht:je,ae(bt.width*se,3),bt.stroke(n,t),bt.dash,bt.cap),z.show&&Ln([Me],[1],f==0?1:0,f==0?1:2,f==1?it:Je,f==1?ht:je,ae(z.width*se,3),z.stroke(n,t),z.dash,z.cap)}ze("drawAxes")}function hl(t){M.forEach((i,r)=>{r>0&&(i._paths=null,t&&(s==1?(i.min=null,i.max=null):i.facets.forEach(f=>{f.min=null,f.max=null})))})}let en=!1,Cn=!1,zl=[];function Os(){Cn=!1;for(let t=0;t<zl.length;t++)ze(...zl[t]);zl.length=0}function pl(){en||(Ir(Pi),en=!0)}function Ws(t,i=!1){en=!0,Cn=i,t(n),Pi(),i&&zl.length>0&&queueMicrotask(Os)}n.batch=Ws;function Pi(){if(_n&&(Ls(),_n=!1),sl&&(xs(),sl=!1),ql){if(de(L,vl,he),de(L,Ol,Te),de(L,Gl,K),de(L,Bl,A),de(P,vl,he),de(P,Ol,Te),de(P,Gl,K),de(P,Bl,A),de(w,Gl,Dt),de(w,Bl,Gt),y.width=Ae(Dt*se),y.height=Ae(Gt*se),N.forEach(({_el:t,_show:i,_size:r,_pos:f,side:a})=>{if(t!=null)if(i){let p=a===3||a===0?r:0,S=a%2==1;de(t,S?"left":"top",f-p),de(t,S?"width":"height",r),de(t,S?"top":"left",S?Te:he),de(t,S?"height":"width",S?A:K),Zn(t,Qt)}else et(t,Qt)}),Zl=al=Mn=xn=bn=Tn=An=Dn=kn=null,qe=1,Hl(!0),he!=ol||Te!=Bt||K!=yt||A!=Yt){hl(!1);let t=K/yt,i=A/Yt;if(Oe&&!It&&V.left>=0){V.left*=t,V.top*=i,ml&&Tt(ml,Ae(V.left),0,K,A),gl&&Tt(gl,0,Ae(V.top),K,A);for(let r=0;r<st.length;r++){let f=st[r];f!=null&&(ul[r]*=t,cl[r]*=i,Tt(f,ct(ul[r]),ct(cl[r]),K,A))}}if(me.show&&!$l&&me.left>=0&&me.width>0){me.left*=t,me.width*=t,me.top*=i,me.height*=i;for(let r in Nn)de(Sl,r,me[r])}ol=he,Bt=Te,yt=K,Yt=A}ze("setSize"),ql=!1}Dt>0&&Gt>0&&(d.clearRect(0,0,y.width,y.height),ze("drawClear"),U.forEach(t=>t()),ze("draw")),me.show&&$l&&(tn(me),$l=!1),Oe&&It&&(qt(null,!0,!1),It=!1),J.show&&J.live&&ot&&(Fn(),ot=!1),m||(m=!0,n.status=1,ze("ready")),Vl=!1,en=!1}n.redraw=(t,i)=>{sl=i||!1,t!==!1?Rt(E,x.min,x.max):pl()};function Vn(t,i){let r=k[t];if(r.from==null){if(Fe==0){let f=r.range(n,i.min,i.max,t);i.min=f[0],i.max=f[1]}if(i.min>i.max){let f=i.min;i.min=i.max,i.max=f}if(Fe>1&&i.min!=null&&i.max!=null&&i.max-i.min<1e-16)return;t==E&&r.distr==2&&Fe>0&&(i.min=wt(i.min,l[0]),i.max=wt(i.max,l[0]),i.min==i.max&&i.max++),F[t]=i,_n=!0,pl()}}n.setScale=Vn;let zn,Rn,ml,gl,Li,Ci,dl,wl,Vi,zi,pe,_e,zt=!1;const He=V.drag;let Ce=He.x,Ve=He.y;Oe&&(V.x&&(zn=ut(mr,P)),V.y&&(Rn=ut(gr,P)),x.ori==0?(ml=zn,gl=Rn):(ml=Rn,gl=zn),pe=V.left,_e=V.top);const me=n.select=xe({show:!0,over:!0,left:0,width:0,top:0,height:0},e.select),Sl=me.show?ut(pr,me.over?P:L):null;function tn(t,i){if(me.show){for(let r in t)me[r]=t[r],r in Nn&&de(Sl,r,t[r]);i!==!1&&ze("setSelect")}}n.setSelect=tn;function Gs(t){if(M[t].show)be&&Zn(ye[t],Qt);else if(be&&et(ye[t],Qt),Oe){let r=fl?st[0]:st[t];r!=null&&Tt(r,-10,-10,K,A)}}function Rt(t,i,r){Vn(t,{min:i,max:r})}function Mt(t,i,r,f){i.focus!=null&&Ks(t),i.show!=null&&M.forEach((a,p)=>{p>0&&(t==p||t==null)&&(a.show=i.show,Gs(p),s==2?(Rt(a.facets[0].scale,null,null),Rt(a.facets[1].scale,null,null)):Rt(a.scale,null,null),pl())}),r!==!1&&ze("setSeries",t,i),f&&Nl("setSeries",n,t,i)}n.setSeries=Mt;function Bs(t,i){xe(q[t],i)}function Ys(t,i){t.fill=X(t.fill||null),t.dir=ie(t.dir,-1),i=i??q.length,q.splice(i,0,t)}function Is(t){t==null?q.length=0:q.splice(t,1)}n.addBand=Ys,n.setBand=Bs,n.delBand=Is;function Us(t,i){M[t].alpha=i,Oe&&st[t]!=null&&(st[t].style.opacity=i),be&&ye[t]&&(ye[t].style.opacity=i)}let Et,Ft,jt;const _l={focus:!0};function Ks(t){if(t!=jt){let i=t==null,r=vt.alpha!=1;M.forEach((f,a)=>{if(s==1||a>0){let p=i||a==0||a==t;f._focus=i?null:p,r&&Us(a,p?1:vt.alpha)}}),jt=t,r&&pl()}}be&&rl&&We(to,le,t=>{V._lock||(Ut(t),jt!=null&&Mt(null,_l,!0,ke.setSeries))});function kt(t,i,r){let f=k[i];r&&(t=t/se-(f.ori==1?Te:he));let a=K;f.ori==1&&(a=A,t=a-t),f.dir==-1&&(t=a-t);let p=f._min,S=f._max,_=t/a,v=p+(S-p)*_,b=f.distr;return b==3?xl(10,v):b==4?Cr(v,f.asinh):b==100?f.bwd(v):v}function js(t,i){let r=kt(t,E,i);return wt(r,l[0],Pe,Le)}n.valToIdx=t=>wt(t,l[0]),n.posToIdx=js,n.posToVal=kt,n.valToPos=(t,i,r)=>k[i].ori==0?c(t,k[i],r?je:K,r?Je:0):u(t,k[i],r?ht:A,r?it:0),n.setCursor=(t,i,r)=>{pe=t.left,_e=t.top,qt(null,i,r)};function Ri(t,i){de(Sl,vl,me.left=t),de(Sl,Gl,me.width=i)}function Fi(t,i){de(Sl,Ol,me.top=t),de(Sl,Bl,me.height=i)}let Rl=x.ori==0?Ri:Fi,Fl=x.ori==1?Ri:Fi;function qs(){if(be&&J.live)for(let t=s==2?1:0;t<M.length;t++){if(t==0&&nt)continue;let i=J.values[t],r=0;for(let f in i)_t[t][r++].firstChild.nodeValue=i[f]}}function Fn(t,i){if(t!=null&&(t.idxs?t.idxs.forEach((r,f)=>{fe[f]=r}):Fr(t.idx)||fe.fill(t.idx),J.idx=fe[0]),be&&J.live){for(let r=0;r<M.length;r++)(r>0||s==1&&!nt)&&$s(r,fe[r]);qs()}ot=!1,i!==!1&&ze("setLegend")}n.setLegend=Fn;function $s(t,i){let r=M[t],f=t==0&&j==2?pt:l[t],a;nt?a=r.values(n,t,i)??Ct:(a=r.value(n,i==null?null:f[i],t,i),a=a==null?Ct:{_:a}),J.values[t]=a}function qt(t,i,r){Vi=pe,zi=_e,[pe,_e]=V.move(n,pe,_e),V.left=pe,V.top=_e,Oe&&(ml&&Tt(ml,Ae(pe),0,K,A),gl&&Tt(gl,0,Ae(_e),K,A));let f,a=Pe>Le;Et=ce,Ft=null;let p=x.ori==0?K:A,S=x.ori==1?K:A;if(pe<0||Fe==0||a){f=V.idx=null;for(let _=0;_<M.length;_++){let v=st[_];v!=null&&Tt(v,-10,-10,K,A)}rl&&Mt(null,_l,!0,t==null&&ke.setSeries),J.live&&(fe.fill(f),ot=!0)}else{let _,v,b;s==1&&(_=x.ori==0?pe:_e,v=kt(_,E),f=V.idx=wt(v,l[0],Pe,Le),b=C(l[0][f],x,p,0));let T=-10,D=-10,Y=0,oe=0,ne=!0,Z="",W="";for(let z=s==2?1:0;z<M.length;z++){let ge=M[z],ve=fe[z],Re=ve==null?null:s==1?l[z][ve]:l[z][1][ve],ue=V.dataIdx(n,z,f,v),Me=ue==null?null:s==1?l[z][ue]:l[z][1][ue];if(ot=ot||Me!=Re||ue!=ve,fe[z]=ue,z>0&&ge.show){let Ze=ue==null?-10:ue==f?b:C(s==1?l[0][ue]:l[z][0][ue],x,p,0),Ge=Me==null?-10:B(Me,s==1?k[ge.scale]:k[ge.facets[1].scale],S,0);if(rl&&Me!=null){let rt=x.ori==1?pe:_e,mt=De(vt.dist(n,z,ue,Ge,rt));if(mt<Et){let xt=vt.bias;if(xt!=0){let Qe=kt(rt,ge.scale),ft=Me>=0?1:-1,gt=Qe>=0?1:-1;gt==ft&&(gt==1?xt==1?Me>=Qe:Me<=Qe:xt==1?Me<=Qe:Me>=Qe)&&(Et=mt,Ft=z)}else Et=mt,Ft=z}}if(ot||fl){let rt,mt;x.ori==0?(rt=Ze,mt=Ge):(rt=Ge,mt=Ze);let xt,Qe,ft,gt,bt,Be,Xe=!0,$t=Ne.bbox;if($t!=null){Xe=!1;let Ye=$t(n,z);ft=Ye.left,gt=Ye.top,xt=Ye.width,Qe=Ye.height}else ft=rt,gt=mt,xt=Qe=Ne.size(n,z);if(Be=Ne.fill(n,z),bt=Ne.stroke(n,z),fl)z==Ft&&Et<=vt.prox&&(T=ft,D=gt,Y=xt,oe=Qe,ne=Xe,Z=Be,W=bt);else{let Ye=st[z];Ye!=null&&(ul[z]=ft,cl[z]=gt,fo(Ye,xt,Qe,Xe),so(Ye,Be,bt),Tt(Ye,ct(ft),ct(gt),K,A))}}}}if(fl){let z=vt.prox,ge=jt==null?Et<=z:Et>z||Ft!=jt;if(ot||ge){let ve=st[0];ve!=null&&(ul[0]=T,cl[0]=D,fo(ve,Y,oe,ne),so(ve,Z,W),Tt(ve,ct(T),ct(D),K,A))}}}if(me.show&&zt)if(t!=null){let[_,v]=ke.scales,[b,T]=ke.match,[D,Y]=t.cursor.sync.scales,oe=t.cursor.drag;if(Ce=oe._x,Ve=oe._y,Ce||Ve){let{left:ne,top:Z,width:W,height:z}=t.select,ge=t.scales[D].ori,ve=t.posToVal,Re,ue,Me,Ze,Ge,rt=_!=null&&b(_,D),mt=v!=null&&T(v,Y);rt&&Ce?(ge==0?(Re=ne,ue=W):(Re=Z,ue=z),Me=k[_],Ze=C(ve(Re,D),Me,p,0),Ge=C(ve(Re+ue,D),Me,p,0),Rl(St(Ze,Ge),De(Ge-Ze))):Rl(0,p),mt&&Ve?(ge==1?(Re=ne,ue=W):(Re=Z,ue=z),Me=k[v],Ze=B(ve(Re,Y),Me,S,0),Ge=B(ve(Re+ue,Y),Me,S,0),Fl(St(Ze,Ge),De(Ge-Ze))):Fl(0,S)}else On()}else{let _=De(Vi-Li),v=De(zi-Ci);if(x.ori==1){let Y=_;_=v,v=Y}Ce=He.x&&_>=He.dist,Ve=He.y&&v>=He.dist;let b=He.uni;b!=null?Ce&&Ve&&(Ce=_>=b,Ve=v>=b,!Ce&&!Ve&&(v>_?Ve=!0:Ce=!0)):He.x&&He.y&&(Ce||Ve)&&(Ce=Ve=!0);let T,D;Ce&&(x.ori==0?(T=dl,D=pe):(T=wl,D=_e),Rl(St(T,D),De(D-T)),Ve||Fl(0,S)),Ve&&(x.ori==1?(T=dl,D=pe):(T=wl,D=_e),Fl(St(T,D),De(D-T)),Ce||Rl(0,p)),!Ce&&!Ve&&(Rl(0,0),Fl(0,0))}if(He._x=Ce,He._y=Ve,t==null){if(r){if(ji!=null){let[_,v]=ke.scales;ke.values[0]=_!=null?kt(x.ori==0?pe:_e,_):null,ke.values[1]=v!=null?kt(x.ori==1?pe:_e,v):null}Nl(Yn,n,pe,_e,K,A,f)}if(rl){let _=r&&ke.setSeries,v=vt.prox;jt==null?Et<=v&&Mt(Ft,_l,!0,_):Et>v?Mt(null,_l,!0,_):Ft!=jt&&Mt(Ft,_l,!0,_)}}ot&&(J.idx=f,Fn()),i!==!1&&ze("setCursor")}let Ht=null;Object.defineProperty(n,"rect",{get(){return Ht==null&&Hl(!1),Ht}});function Hl(t=!1){t?Ht=null:(Ht=P.getBoundingClientRect(),ze("syncRect",Ht))}function Hi(t,i,r,f,a,p,S){V._lock||zt&&t!=null&&t.movementX==0&&t.movementY==0||(Hn(t,i,r,f,a,p,S,!1,t!=null),t!=null?qt(null,!0,!0):qt(i,!0,!1))}function Hn(t,i,r,f,a,p,S,_,v){if(Ht==null&&Hl(!1),Ut(t),t!=null)r=t.clientX-Ht.left,f=t.clientY-Ht.top;else{if(r<0||f<0){pe=-10,_e=-10;return}let[b,T]=ke.scales,D=i.cursor.sync,[Y,oe]=D.values,[ne,Z]=D.scales,[W,z]=ke.match,ge=i.axes[0].side%2==1,ve=x.ori==0?K:A,Re=x.ori==1?K:A,ue=ge?p:a,Me=ge?a:p,Ze=ge?f:r,Ge=ge?r:f;if(ne!=null?r=W(b,ne)?h(Y,k[b],ve,0):-10:r=ve*(Ze/ue),Z!=null?f=z(T,Z)?h(oe,k[T],Re,0):-10:f=Re*(Ge/Me),x.ori==1){let rt=r;r=f,f=rt}}v&&(i==null||i.cursor.event.type==Yn)&&((r<=1||r>=K-1)&&(r=Jt(r,K)),(f<=1||f>=A-1)&&(f=Jt(f,A))),_?(Li=r,Ci=f,[dl,wl]=V.move(n,r,f)):(pe=r,_e=f)}const Nn={width:0,height:0,left:0,top:0};function On(){tn(Nn,!1)}let Ni,Oi,Wi,Gi;function Bi(t,i,r,f,a,p,S){zt=!0,Ce=Ve=He._x=He._y=!1,Hn(t,i,r,f,a,p,S,!0,!1),t!=null&&(We(In,$n,Yi,!1),Nl(Xi,n,dl,wl,K,A,null));let{left:_,top:v,width:b,height:T}=me;Ni=_,Oi=v,Wi=b,Gi=T}function Yi(t,i,r,f,a,p,S){zt=He._x=He._y=!1,Hn(t,i,r,f,a,p,S,!1,!0);let{left:_,top:v,width:b,height:T}=me,D=b>0||T>0,Y=Ni!=_||Oi!=v||Wi!=b||Gi!=T;if(D&&Y&&tn(me),He.setScale&&D&&Y){let oe=_,ne=b,Z=v,W=T;if(x.ori==1&&(oe=v,ne=T,Z=_,W=b),Ce&&Rt(E,kt(oe,E),kt(oe+ne,E)),Ve)for(let z in k){let ge=k[z];z!=E&&ge.from==null&&ge.min!=ce&&Rt(z,kt(Z+W,z),kt(Z,z))}On()}else V.lock&&(V._lock=!V._lock,qt(i,!0,t!=null));t!=null&&(il(In,$n),Nl(In,n,pe,_e,K,A,null))}function Js(t,i,r,f,a,p,S){if(V._lock)return;Ut(t);let _=zt;if(zt){let v=!0,b=!0,T=10,D,Y;x.ori==0?(D=Ce,Y=Ve):(D=Ve,Y=Ce),D&&Y&&(v=pe<=T||pe>=K-T,b=_e<=T||_e>=A-T),D&&v&&(pe=pe<dl?0:K),Y&&b&&(_e=_e<wl?0:A),qt(null,!0,!0),zt=!1}pe=-10,_e=-10,fe.fill(null),qt(null,!0,!0),_&&(zt=_)}function Ii(t,i,r,f,a,p,S){V._lock||(Ut(t),vn(),On(),t!=null&&Nl(lo,n,pe,_e,K,A,null))}function Ui(){N.forEach(Xf),yn(n.width,n.height,!0)}Xt(fn,kl,Ui);const yl={};yl.mousedown=Bi,yl.mousemove=Hi,yl.mouseup=Yi,yl.dblclick=Ii,yl.setSeries=(t,i,r,f)=>{let a=ke.match[2];r=a(n,i,r),r!=-1&&Mt(r,f,!0,!1)},Oe&&(We(Xi,P,Bi),We(Yn,P,Hi),We(eo,P,t=>{Ut(t),Hl(!1)}),We(to,P,Js),We(lo,P,Ii),ni.add(n),n.syncRect=Hl);const ln=n.hooks=e.hooks||{};function ze(t,i,r){Cn?zl.push([t,i,r]):t in ln&&ln[t].forEach(f=>{f.call(null,n,i,r)})}(e.plugins||[]).forEach(t=>{for(let i in t.hooks)ln[i]=(ln[i]||[]).concat(t.hooks[i])});const Ki=(t,i,r)=>r,ke=xe({key:null,setSeries:!1,filters:{pub:po,sub:po},scales:[E,M[1]?M[1].scale:null],match:[mo,mo,Ki],values:[null,null]},V.sync);ke.match.length==2&&ke.match.push(Ki),V.sync=ke;const ji=ke.key,Wn=as(ji);function Nl(t,i,r,f,a,p,S){ke.filters.pub(t,i,r,f,a,p,S)&&Wn.pub(t,i,r,f,a,p,S)}Wn.sub(n);function Zs(t,i,r,f,a,p,S){ke.filters.sub(t,i,r,f,a,p,S)&&yl[t](null,i,r,f,a,p,S)}n.pub=Zs;function Qs(){Wn.unsub(n),ni.delete(n),Wt.clear(),Qn(fn,kl,Ui),g.remove(),le==null||le.remove(),ze("destroy")}n.destroy=Qs;function Gn(){ze("init",e,l),ki(l||e.data,!1),F[E]?Vn(E,F[E]):vn(),$l=me.show&&(me.width>0||me.height>0),It=ot=!0,yn(e.width,e.height)}return M.forEach(vi),N.forEach(Ps),o?o instanceof HTMLElement?(o.appendChild(g),Gn()):o(n,Gn):Gn(),n}Ue.assign=xe;Ue.fmtNum=ci;Ue.rangeNum=un;Ue.rangeLog=hn;Ue.rangeAsinh=fi;Ue.orient=tl;Ue.pxRatio=se;Ue.join=Yr;Ue.fmtDate=hi,Ue.tzDate=ef;Ue.sync=as;{Ue.addGap=Hf,Ue.clipGaps=gn;let e=Ue.paths={points:ws};e.linear=_s,e.stepped=Wf,e.bars=Gf,e.spline=Yf}export{eu as c,tu as g,Ue as u};
