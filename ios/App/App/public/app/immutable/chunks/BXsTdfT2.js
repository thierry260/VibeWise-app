const De="u-",Qs="uplot",Xs=De+"hz",er=De+"vt",tr=De+"title",lr=De+"wrap",nr=De+"under",ir=De+"over",or=De+"axis",Qt=De+"off",sr=De+"select",rr=De+"cursor-x",fr=De+"cursor-y",ur=De+"cursor-pt",cr=De+"legend",ar=De+"live",pr=De+"inline",hr=De+"series",mr=De+"marker",$i=De+"label",gr=De+"value",Gl="width",Il="height",Ol="top",Ji="bottom",vl="left",In="right",oi="#000",Zi=oi+"0",Yn="mousemove",Qi="mousedown",Bn="mouseup",Xi="mouseenter",eo="mouseleave",to="dblclick",dr="resize",wr="scroll",lo="change",fn="dppxchange",si="--",El=typeof window<"u",$n=El?document:null,xl=El?window:null,Sr=El?navigator:null;let se,nn;function Jn(){let e=devicePixelRatio;se!=e&&(se=e,nn&&Qn(lo,nn,Jn),nn=matchMedia(`(min-resolution: ${se-.001}dppx) and (max-resolution: ${se+.001}dppx)`),Xt(lo,nn,Jn),xl.dispatchEvent(new CustomEvent(fn)))}function et(e,n){if(n!=null){let o=e.classList;!o.contains(n)&&o.add(n)}}function Zn(e,n){let o=e.classList;o.contains(n)&&o.remove(n)}function de(e,n,o){e.style[n]=o+"px"}function dt(e,n,o,i){let s=$n.createElement(e);return n!=null&&et(s,n),o!=null&&o.insertBefore(s,i),s}function ut(e,n){return dt("div",e,n)}const no=new WeakMap;function Tt(e,n,o,i,s){let a="translate("+n+"px,"+o+"px)",u=no.get(e);a!=u&&(e.style.transform=a,no.set(e,a),n<0||o<0||n>i||o>s?et(e,Qt):Zn(e,Qt))}const io=new WeakMap;function oo(e,n,o){let i=n+o,s=io.get(e);i!=s&&(io.set(e,i),e.style.background=n,e.style.borderColor=o)}const so=new WeakMap;function ro(e,n,o,i){let s=n+""+o,a=so.get(e);s!=a&&(so.set(e,s),e.style.height=o+"px",e.style.width=n+"px",e.style.marginLeft=i?-n/2+"px":0,e.style.marginTop=i?-o/2+"px":0)}const ri={passive:!0},_r={...ri,capture:!0};function Xt(e,n,o,i){n.addEventListener(e,o,i?_r:ri)}function Qn(e,n,o,i){n.removeEventListener(e,o,ri)}El&&Jn();function wt(e,n,o,i){let s;o=o||0,i=i||n.length-1;let a=i<=2147483647;for(;i-o>1;)s=a?o+i>>1:tt((o+i)/2),n[s]<e?o=s:i=s;return e-n[o]<=n[i]-e?o:i}function Fo(e){return(o,i,s)=>{let a=-1,u=-1;for(let h=i;h<=s;h++)if(e(o[h])){a=h;break}for(let h=s;h>=i;h--)if(e(o[h])){u=h;break}return[a,u]}}const Ho=e=>e!=null,No=e=>e!=null&&e>0,an=Fo(Ho),yr=Fo(No);function vr(e,n,o,i=0,s=!1){let a=s?yr:an,u=s?No:Ho;[n,o]=a(e,n,o);let h=e[n],m=e[n];if(n>-1)if(i==1)h=e[n],m=e[o];else if(i==-1)h=e[o],m=e[n];else for(let g=n;g<=o;g++){let y=e[g];u(y)&&(y<h?h=y:y>m&&(m=y))}return[h??ce,m??-ce]}function pn(e,n,o,i){let s=co(e),a=co(n);e==n&&(s==-1?(e*=o,n/=o):(e/=o,n*=o));let u=o==10?Lt:Oo,h=s==1?tt:ct,m=a==1?ct:tt,g=h(u(Ee(e))),y=m(u(Ee(n))),d=bl(o,g),w=bl(o,y);return o==10&&(g<0&&(d=ae(d,-g)),y<0&&(w=ae(w,-y))),i||o==2?(e=d*s,n=w*a):(e=Yo(e,d),n=hn(n,w)),[e,n]}function fi(e,n,o,i){let s=pn(e,n,o,i);return e==0&&(s[0]=0),n==0&&(s[1]=0),s}const ui=.1,fo={mode:3,pad:ui},Bl={pad:0,soft:null,mode:0},kr={min:Bl,max:Bl};function un(e,n,o,i){return mn(o)?uo(e,n,o):(Bl.pad=o,Bl.soft=i?0:null,Bl.mode=i?3:0,uo(e,n,kr))}function ie(e,n){return e??n}function xr(e,n,o){for(n=ie(n,0),o=ie(o,e.length-1);n<=o;){if(e[n]!=null)return!0;n++}return!1}function uo(e,n,o){let i=o.min,s=o.max,a=ie(i.pad,0),u=ie(s.pad,0),h=ie(i.hard,-ce),m=ie(s.hard,ce),g=ie(i.soft,ce),y=ie(s.soft,-ce),d=ie(i.mode,0),w=ie(s.mode,0),P=n-e,L=Lt(P),H=Be(Ee(e),Ee(n)),O=Lt(H),G=Ee(O-L);(P<1e-24||G>10)&&(P=0,(e==0||n==0)&&(P=1e-24,d==2&&g!=ce&&(a=0),w==2&&y!=-ce&&(u=0)));let k=P||H||1e3,N=Lt(k),x=bl(10,tt(N)),q=k*(P==0?e==0?.1:1:a),D=ae(Yo(e-q,x/10),24),$=e>=g&&(d==1||d==3&&D<=g||d==2&&D>=g)?g:ce,U=Be(h,D<$&&e>=$?$:St($,D)),Q=k*(P==0?n==0?.1:1:u),B=ae(hn(n+Q,x/10),24),b=n<=y&&(w==1||w==3&&B>=y||w==2&&B<=y)?y:-ce,j=St(m,B>b&&n<=b?b:Be(b,B));return U==j&&U==0&&(j=100),[U,j]}const br=new Intl.NumberFormat(El?Sr.language:"en-US"),ci=e=>br.format(e),lt=Math,rn=lt.PI,Ee=lt.abs,tt=lt.floor,Ae=lt.round,ct=lt.ceil,St=lt.min,Be=lt.max,bl=lt.pow,co=lt.sign,Lt=lt.log10,Oo=lt.log2,Mr=(e,n=1)=>lt.sinh(e)*n,Un=(e,n=1)=>lt.asinh(e/n),ce=1/0;function ao(e){return(Lt((e^e>>31)-(e>>31))|0)+1}function Xn(e,n,o){return St(Be(e,n),o)}function Wo(e){return typeof e=="function"}function X(e){return Wo(e)?e:()=>e}const Tr=()=>{},Go=e=>e,Io=(e,n)=>n,Ar=e=>null,po=e=>!0,ho=(e,n)=>e==n,Er=/\.\d*?(?=9{6,}|0{6,})/gm,el=e=>{if(Uo(e)||Ot.has(e))return e;const n=`${e}`,o=n.match(Er);if(o==null)return e;let i=o[0].length-1;if(n.indexOf("e-")!=-1){let[s,a]=n.split("e");return+`${el(s)}e${a}`}return ae(e,i)};function Jt(e,n){return el(ae(el(e/n))*n)}function hn(e,n){return el(ct(el(e/n))*n)}function Yo(e,n){return el(tt(el(e/n))*n)}function ae(e,n=0){if(Uo(e))return e;let o=10**n,i=e*o*(1+Number.EPSILON);return Ae(i)/o}const Ot=new Map;function Bo(e){return((""+e).split(".")[1]||"").length}function Kl(e,n,o,i){let s=[],a=i.map(Bo);for(let u=n;u<o;u++){let h=Ee(u),m=ae(bl(e,u),h);for(let g=0;g<i.length;g++){let y=e==10?+`${i[g]}e${u}`:i[g]*m,d=(u>=0?0:h)+(u>=a[g]?0:a[g]),w=e==10?y:ae(y,d);s.push(w),Ot.set(w,d)}}return s}const Ul={},ai=[],Ml=[null,null],Nt=Array.isArray,Uo=Number.isInteger,Dr=e=>e===void 0;function mo(e){return typeof e=="string"}function mn(e){let n=!1;if(e!=null){let o=e.constructor;n=o==null||o==Object}return n}function Lr(e){return e!=null&&typeof e=="object"}const Pr=Object.getPrototypeOf(Uint8Array),Ko="__proto__";function Tl(e,n=mn){let o;if(Nt(e)){let i=e.find(s=>s!=null);if(Nt(i)||n(i)){o=Array(e.length);for(let s=0;s<e.length;s++)o[s]=Tl(e[s],n)}else o=e.slice()}else if(e instanceof Pr)o=e.slice();else if(n(e)){o={};for(let i in e)i!=Ko&&(o[i]=Tl(e[i],n))}else o=e;return o}function be(e){let n=arguments;for(let o=1;o<n.length;o++){let i=n[o];for(let s in i)s!=Ko&&(mn(e[s])?be(e[s],Tl(i[s])):e[s]=Tl(i[s]))}return e}const Cr=0,Vr=1,Rr=2;function zr(e,n,o){for(let i=0,s,a=-1;i<n.length;i++){let u=n[i];if(u>a){for(s=u-1;s>=0&&e[s]==null;)e[s--]=null;for(s=u+1;s<o&&e[s]==null;)e[a=s++]=null}}}function Fr(e,n){if(Or(e)){let u=e[0].slice();for(let h=1;h<e.length;h++)u.push(...e[h].slice(1));return Wr(u[0])||(u=Nr(u)),u}let o=new Set;for(let u=0;u<e.length;u++){let m=e[u][0],g=m.length;for(let y=0;y<g;y++)o.add(m[y])}let i=[Array.from(o).sort((u,h)=>u-h)],s=i[0].length,a=new Map;for(let u=0;u<s;u++)a.set(i[0][u],u);for(let u=0;u<e.length;u++){let h=e[u],m=h[0];for(let g=1;g<h.length;g++){let y=h[g],d=Array(s).fill(void 0),w=n?n[u][g]:Vr,P=[];for(let L=0;L<y.length;L++){let H=y[L],O=a.get(m[L]);H===null?w!=Cr&&(d[O]=H,w==Rr&&P.push(O)):d[O]=H}zr(d,P,s),i.push(d)}}return i}const Hr=typeof queueMicrotask>"u"?e=>Promise.resolve().then(e):queueMicrotask;function Nr(e){let n=e[0],o=n.length,i=Array(o);for(let a=0;a<i.length;a++)i[a]=a;i.sort((a,u)=>n[a]-n[u]);let s=[];for(let a=0;a<e.length;a++){let u=e[a],h=Array(o);for(let m=0;m<o;m++)h[m]=u[i[m]];s.push(h)}return s}function Or(e){let n=e[0][0],o=n.length;for(let i=1;i<e.length;i++){let s=e[i][0];if(s.length!=o)return!1;if(s!=n){for(let a=0;a<o;a++)if(s[a]!=n[a])return!1}}return!0}function Wr(e,n=100){const o=e.length;if(o<=1)return!0;let i=0,s=o-1;for(;i<=s&&e[i]==null;)i++;for(;s>=i&&e[s]==null;)s--;if(s<=i)return!0;const a=Be(1,tt((s-i+1)/n));for(let u=e[i],h=i+a;h<=s;h+=a){const m=e[h];if(m!=null){if(m<=u)return!1;u=m}}return!0}const jo=["January","February","March","April","May","June","July","August","September","October","November","December"],qo=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function $o(e){return e.slice(0,3)}const Gr=qo.map($o),Ir=jo.map($o),Yr={MMMM:jo,MMM:Ir,WWWW:qo,WWW:Gr};function Wl(e){return(e<10?"0":"")+e}function Br(e){return(e<10?"00":e<100?"0":"")+e}const Ur={YYYY:e=>e.getFullYear(),YY:e=>(e.getFullYear()+"").slice(2),MMMM:(e,n)=>n.MMMM[e.getMonth()],MMM:(e,n)=>n.MMM[e.getMonth()],MM:e=>Wl(e.getMonth()+1),M:e=>e.getMonth()+1,DD:e=>Wl(e.getDate()),D:e=>e.getDate(),WWWW:(e,n)=>n.WWWW[e.getDay()],WWW:(e,n)=>n.WWW[e.getDay()],HH:e=>Wl(e.getHours()),H:e=>e.getHours(),h:e=>{let n=e.getHours();return n==0?12:n>12?n-12:n},AA:e=>e.getHours()>=12?"PM":"AM",aa:e=>e.getHours()>=12?"pm":"am",a:e=>e.getHours()>=12?"p":"a",mm:e=>Wl(e.getMinutes()),m:e=>e.getMinutes(),ss:e=>Wl(e.getSeconds()),s:e=>e.getSeconds(),fff:e=>Br(e.getMilliseconds())};function pi(e,n){n=n||Yr;let o=[],i=/\{([a-z]+)\}|[^{]+/gi,s;for(;s=i.exec(e);)o.push(s[0][0]=="{"?Ur[s[1]]:s[0]);return a=>{let u="";for(let h=0;h<o.length;h++)u+=typeof o[h]=="string"?o[h]:o[h](a,n);return u}}const Kr=new Intl.DateTimeFormat().resolvedOptions().timeZone;function jr(e,n){let o;return n=="UTC"||n=="Etc/UTC"?o=new Date(+e+e.getTimezoneOffset()*6e4):n==Kr?o=e:(o=new Date(e.toLocaleString("en-US",{timeZone:n})),o.setMilliseconds(e.getMilliseconds())),o}const Jo=e=>e%1==0,cn=[1,2,2.5,5],qr=Kl(10,-32,0,cn),Zo=Kl(10,0,32,cn),$r=Zo.filter(Jo),Zt=qr.concat(Zo),hi=`
`,Qo="{YYYY}",go=hi+Qo,Xo="{M}/{D}",Yl=hi+Xo,on=Yl+"/{YY}",es="{aa}",Jr="{h}:{mm}",kl=Jr+es,wo=hi+kl,So=":{ss}",re=null;function ts(e){let n=e*1e3,o=n*60,i=o*60,s=i*24,a=s*30,u=s*365,m=(e==1?Kl(10,0,3,cn).filter(Jo):Kl(10,-3,0,cn)).concat([n,n*5,n*10,n*15,n*30,o,o*5,o*10,o*15,o*30,i,i*2,i*3,i*4,i*6,i*8,i*12,s,s*2,s*3,s*4,s*5,s*6,s*7,s*8,s*9,s*10,s*15,a,a*2,a*3,a*4,a*6,u,u*2,u*5,u*10,u*25,u*50,u*100]);const g=[[u,Qo,re,re,re,re,re,re,1],[s*28,"{MMM}",go,re,re,re,re,re,1],[s,Xo,go,re,re,re,re,re,1],[i,"{h}"+es,on,re,Yl,re,re,re,1],[o,kl,on,re,Yl,re,re,re,1],[n,So,on+" "+kl,re,Yl+" "+kl,re,wo,re,1],[e,So+".{fff}",on+" "+kl,re,Yl+" "+kl,re,wo,re,1]];function y(d){return(w,P,L,H,O,G)=>{let k=[],N=O>=u,x=O>=a&&O<u,q=d(L),D=ae(q*e,3),$=Kn(q.getFullYear(),N?0:q.getMonth(),x||N?1:q.getDate()),U=ae($*e,3);if(x||N){let Q=x?O/a:0,B=N?O/u:0,b=D==U?D:ae(Kn($.getFullYear()+B,$.getMonth()+Q,1)*e,3),j=new Date(Ae(b/e)),C=j.getFullYear(),I=j.getMonth();for(let F=0;b<=H;F++){let ee=Kn(C+B*F,I+Q*F,1),z=ee-d(ae(ee*e,3));b=ae((+ee+z)*e,3),b<=H&&k.push(b)}}else{let Q=O>=s?s:O,B=tt(L)-tt(D),b=U+B+hn(D-U,Q);k.push(b);let j=d(b),C=j.getHours()+j.getMinutes()/o+j.getSeconds()/i,I=O/i,F=w.axes[P]._space,ee=G/F;for(;b=ae(b+O,e==1?0:3),!(b>H);)if(I>1){let z=tt(ae(C+I,6))%24,te=d(b).getHours()-z;te>1&&(te=-1),b-=te*i,C=(C+I)%24;let fe=k[k.length-1];ae((b-fe)/O,3)*ee>=.7&&k.push(b)}else k.push(b)}return k}}return[m,g,y]}const[Zr,Qr,Xr]=ts(1),[ef,tf,lf]=ts(.001);Kl(2,-53,53,[1]);function _o(e,n){return e.map(o=>o.map((i,s)=>s==0||s==8||i==null?i:n(s==1||o[8]==0?i:o[1]+i)))}function yo(e,n){return(o,i,s,a,u)=>{let h=n.find(L=>u>=L[0])||n[n.length-1],m,g,y,d,w,P;return i.map(L=>{let H=e(L),O=H.getFullYear(),G=H.getMonth(),k=H.getDate(),N=H.getHours(),x=H.getMinutes(),q=H.getSeconds(),D=O!=m&&h[2]||G!=g&&h[3]||k!=y&&h[4]||N!=d&&h[5]||x!=w&&h[6]||q!=P&&h[7]||h[1];return m=O,g=G,y=k,d=N,w=x,P=q,D(H)})}}function nf(e,n){let o=pi(n);return(i,s,a,u,h)=>s.map(m=>o(e(m)))}function Kn(e,n,o){return new Date(e,n,o)}function vo(e,n){return n(e)}const of="{YYYY}-{MM}-{DD} {h}:{mm}{aa}";function ko(e,n){return(o,i,s,a)=>a==null?si:n(e(i))}function sf(e,n){let o=e.series[n];return o.width?o.stroke(e,n):o.points.width?o.points.stroke(e,n):null}function rf(e,n){return e.series[n].fill(e,n)}const ff={show:!0,live:!0,isolate:!1,mount:Tr,markers:{show:!0,width:2,stroke:sf,fill:rf,dash:"solid"},idx:null,idxs:null,values:[]};function uf(e,n){let o=e.cursor.points,i=ut(),s=o.size(e,n);de(i,Gl,s),de(i,Il,s);let a=s/-2;de(i,"marginLeft",a),de(i,"marginTop",a);let u=o.width(e,n,s);return u&&de(i,"borderWidth",u),i}function cf(e,n){let o=e.series[n].points;return o._fill||o._stroke}function af(e,n){let o=e.series[n].points;return o._stroke||o._fill}function pf(e,n){return e.series[n].points.size}const jn=[0,0];function hf(e,n,o){return jn[0]=n,jn[1]=o,jn}function sn(e,n,o,i=!0){return s=>{s.button==0&&(!i||s.target==n)&&o(s)}}function qn(e,n,o,i=!0){return s=>{(!i||s.target==n)&&o(s)}}const mf={show:!0,x:!0,y:!0,lock:!1,move:hf,points:{one:!1,show:uf,size:pf,width:0,stroke:af,fill:cf},bind:{mousedown:sn,mouseup:sn,click:sn,dblclick:sn,mousemove:qn,mouseleave:qn,mouseenter:qn},drag:{setScale:!0,x:!0,y:!1,dist:0,uni:null,click:(e,n)=>{n.stopPropagation(),n.stopImmediatePropagation()},_x:!1,_y:!1},focus:{dist:(e,n,o,i,s)=>i-s,prox:-1,bias:0},hover:{skip:[void 0],prox:null,bias:0},left:-10,top:-10,idx:null,dataIdx:null,idxs:null,event:null},ls={show:!0,stroke:"rgba(0,0,0,0.07)",width:2},mi=be({},ls,{filter:Io}),ns=be({},mi,{size:10}),is=be({},ls,{show:!1}),gi='12px system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',os="bold "+gi,ss=1.5,xo={show:!0,scale:"x",stroke:oi,space:50,gap:5,alignTo:1,size:50,labelGap:0,labelSize:30,labelFont:os,side:2,grid:mi,ticks:ns,border:is,font:gi,lineGap:ss,rotate:0},gf="Value",df="Time",bo={show:!0,scale:"x",auto:!1,sorted:1,min:ce,max:-ce,idxs:[]};function wf(e,n,o,i,s){return n.map(a=>a==null?"":ci(a))}function Sf(e,n,o,i,s,a,u){let h=[],m=Ot.get(s)||0;o=u?o:ae(hn(o,s),m);for(let g=o;g<=i;g=ae(g+s,m))h.push(Object.is(g,-0)?0:g);return h}function ei(e,n,o,i,s,a,u){const h=[],m=e.scales[e.axes[n].scale].log,g=m==10?Lt:Oo,y=tt(g(o));s=bl(m,y),m==10&&(s=Zt[wt(s,Zt)]);let d=o,w=s*m;m==10&&(w=Zt[wt(w,Zt)]);do h.push(d),d=d+s,m==10&&!Ot.has(d)&&(d=ae(d,Ot.get(s))),d>=w&&(s=d,w=s*m,m==10&&(w=Zt[wt(w,Zt)]));while(d<=i);return h}function _f(e,n,o,i,s,a,u){let m=e.scales[e.axes[n].scale].asinh,g=i>m?ei(e,n,Be(m,o),i,s):[m],y=i>=0&&o<=0?[0]:[];return(o<-m?ei(e,n,Be(m,-i),-o,s):[m]).reverse().map(w=>-w).concat(y,g)}const rs=/./,yf=/[12357]/,vf=/[125]/,Mo=/1/,ti=(e,n,o,i)=>e.map((s,a)=>n==4&&s==0||a%i==0&&o.test(s.toExponential()[s<0?1:0])?s:null);function kf(e,n,o,i,s){let a=e.axes[o],u=a.scale,h=e.scales[u],m=e.valToPos,g=a._space,y=m(10,u),d=m(9,u)-y>=g?rs:m(7,u)-y>=g?yf:m(5,u)-y>=g?vf:Mo;if(d==Mo){let w=Ee(m(1,u)-y);if(w<g)return ti(n.slice().reverse(),h.distr,d,ct(g/w)).reverse()}return ti(n,h.distr,d,1)}function xf(e,n,o,i,s){let a=e.axes[o],u=a.scale,h=a._space,m=e.valToPos,g=Ee(m(1,u)-m(2,u));return g<h?ti(n.slice().reverse(),3,rs,ct(h/g)).reverse():n}function bf(e,n,o,i){return i==null?si:n==null?"":ci(n)}const To={show:!0,scale:"y",stroke:oi,space:30,gap:5,alignTo:1,size:50,labelGap:0,labelSize:30,labelFont:os,side:3,grid:mi,ticks:ns,border:is,font:gi,lineGap:ss,rotate:0};function Mf(e,n){let o=3+(e||1)*2;return ae(o*n,3)}function Tf(e,n){let{scale:o,idxs:i}=e.series[0],s=e._data[0],a=e.valToPos(s[i[0]],o,!0),u=e.valToPos(s[i[1]],o,!0),h=Ee(u-a),m=e.series[n],g=h/(m.points.space*se);return i[1]-i[0]<=g}const Ao={scale:null,auto:!0,sorted:0,min:ce,max:-ce},fs=(e,n,o,i,s)=>s,Eo={show:!0,auto:!0,sorted:0,gaps:fs,alpha:1,facets:[be({},Ao,{scale:"x"}),be({},Ao,{scale:"y"})]},Do={scale:"y",auto:!0,sorted:0,show:!0,spanGaps:!1,gaps:fs,alpha:1,points:{show:Tf,filter:null},values:null,min:ce,max:-ce,idxs:[],path:null,clip:null};function Af(e,n,o,i,s){return o/10}const us={time:!0,auto:!0,distr:1,log:10,asinh:1,min:null,max:null,dir:1,ori:0},Ef=be({},us,{time:!1,ori:1}),Lo={};function cs(e,n){let o=Lo[e];return o||(o={key:e,plots:[],sub(i){o.plots.push(i)},unsub(i){o.plots=o.plots.filter(s=>s!=i)},pub(i,s,a,u,h,m,g){for(let y=0;y<o.plots.length;y++)o.plots[y]!=s&&o.plots[y].pub(i,s,a,u,h,m,g)}},e!=null&&(Lo[e]=o)),o}const Al=1,li=2;function tl(e,n,o){const i=e.mode,s=e.series[n],a=i==2?e._data[n]:e._data,u=e.scales,h=e.bbox;let m=a[0],g=i==2?a[1]:a[n],y=i==2?u[s.facets[0].scale]:u[e.series[0].scale],d=i==2?u[s.facets[1].scale]:u[s.scale],w=h.left,P=h.top,L=h.width,H=h.height,O=e.valToPosH,G=e.valToPosV;return y.ori==0?o(s,m,g,y,d,O,G,w,P,L,H,dn,Dl,Sn,ps,ms):o(s,m,g,y,d,G,O,P,w,H,L,wn,Ll,Si,hs,gs)}function di(e,n){let o=0,i=0,s=ie(e.bands,ai);for(let a=0;a<s.length;a++){let u=s[a];u.series[0]==n?o=u.dir:u.series[1]==n&&(u.dir==1?i|=1:i|=2)}return[o,i==1?-1:i==2?1:i==3?2:0]}function Df(e,n,o,i,s){let a=e.mode,u=e.series[n],h=a==2?u.facets[1].scale:u.scale,m=e.scales[h];return s==-1?m.min:s==1?m.max:m.distr==3?m.dir==1?m.min:m.max:0}function Pt(e,n,o,i,s,a){return tl(e,n,(u,h,m,g,y,d,w,P,L,H,O)=>{let G=u.pxRound;const k=g.dir*(g.ori==0?1:-1),N=g.ori==0?Dl:Ll;let x,q;k==1?(x=o,q=i):(x=i,q=o);let D=G(d(h[x],g,H,P)),$=G(w(m[x],y,O,L)),U=G(d(h[q],g,H,P)),Q=G(w(a==1?y.max:y.min,y,O,L)),B=new Path2D(s);return N(B,U,Q),N(B,D,Q),N(B,D,$),B})}function gn(e,n,o,i,s,a){let u=null;if(e.length>0){u=new Path2D;const h=n==0?Sn:Si;let m=o;for(let d=0;d<e.length;d++){let w=e[d];if(w[1]>w[0]){let P=w[0]-m;P>0&&h(u,m,i,P,i+a),m=w[1]}}let g=o+s-m,y=10;g>0&&h(u,m,i-y/2,g,i+a+y)}return u}function Lf(e,n,o){let i=e[e.length-1];i&&i[0]==n?i[1]=o:e.push([n,o])}function wi(e,n,o,i,s,a,u){let h=[],m=e.length;for(let g=s==1?o:i;g>=o&&g<=i;g+=s)if(n[g]===null){let d=g,w=g;if(s==1)for(;++g<=i&&n[g]===null;)w=g;else for(;--g>=o&&n[g]===null;)w=g;let P=a(e[d]),L=w==d?P:a(e[w]),H=d-s;P=u<=0&&H>=0&&H<m?a(e[H]):P;let G=w+s;L=u>=0&&G>=0&&G<m?a(e[G]):L,L>=P&&h.push([P,L])}return h}function Po(e){return e==0?Go:e==1?Ae:n=>Jt(n,e)}function as(e){let n=e==0?dn:wn,o=e==0?(s,a,u,h,m,g)=>{s.arcTo(a,u,h,m,g)}:(s,a,u,h,m,g)=>{s.arcTo(u,a,m,h,g)},i=e==0?(s,a,u,h,m)=>{s.rect(a,u,h,m)}:(s,a,u,h,m)=>{s.rect(u,a,m,h)};return(s,a,u,h,m,g=0,y=0)=>{g==0&&y==0?i(s,a,u,h,m):(g=St(g,h/2,m/2),y=St(y,h/2,m/2),n(s,a+g,u),o(s,a+h,u,a+h,u+m,g),o(s,a+h,u+m,a,u+m,y),o(s,a,u+m,a,u,y),o(s,a,u,a+h,u,g),s.closePath())}}const dn=(e,n,o)=>{e.moveTo(n,o)},wn=(e,n,o)=>{e.moveTo(o,n)},Dl=(e,n,o)=>{e.lineTo(n,o)},Ll=(e,n,o)=>{e.lineTo(o,n)},Sn=as(0),Si=as(1),ps=(e,n,o,i,s,a)=>{e.arc(n,o,i,s,a)},hs=(e,n,o,i,s,a)=>{e.arc(o,n,i,s,a)},ms=(e,n,o,i,s,a,u)=>{e.bezierCurveTo(n,o,i,s,a,u)},gs=(e,n,o,i,s,a,u)=>{e.bezierCurveTo(o,n,s,i,u,a)};function ds(e){return(n,o,i,s,a)=>tl(n,o,(u,h,m,g,y,d,w,P,L,H,O)=>{let{pxRound:G,points:k}=u,N,x;g.ori==0?(N=dn,x=ps):(N=wn,x=hs);const q=ae(k.width*se,3);let D=(k.size-k.width)/2*se,$=ae(D*2,3),U=new Path2D,Q=new Path2D,{left:B,top:b,width:j,height:C}=n.bbox;Sn(Q,B-$,b-$,j+$*2,C+$*2);const I=F=>{if(m[F]!=null){let ee=G(d(h[F],g,H,P)),z=G(w(m[F],y,O,L));N(U,ee+D,z),x(U,ee,z,D,0,rn*2)}};if(a)a.forEach(I);else for(let F=i;F<=s;F++)I(F);return{stroke:q>0?U:null,fill:U,clip:Q,flags:Al|li}})}function ws(e){return(n,o,i,s,a,u)=>{i!=s&&(a!=i&&u!=i&&e(n,o,i),a!=s&&u!=s&&e(n,o,s),e(n,o,u))}}const Pf=ws(Dl),Cf=ws(Ll);function Ss(e){const n=ie(e==null?void 0:e.alignGaps,0);return(o,i,s,a)=>tl(o,i,(u,h,m,g,y,d,w,P,L,H,O)=>{[s,a]=an(m,s,a);let G=u.pxRound,k=C=>G(d(C,g,H,P)),N=C=>G(w(C,y,O,L)),x,q;g.ori==0?(x=Dl,q=Pf):(x=Ll,q=Cf);const D=g.dir*(g.ori==0?1:-1),$={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:Al},U=$.stroke;let Q=!1;if(a-s>=H*4){let C=V=>o.posToVal(V,g.key,!0),I=null,F=null,ee,z,Ke,we=k(h[D==1?s:a]),te=k(h[s]),fe=k(h[a]),J=C(D==1?te+1:fe-1);for(let V=D==1?s:a;V>=s&&V<=a;V+=D){let Me=h[V],Se=(D==1?Me<J:Me>J)?we:k(Me),le=m[V];Se==we?le!=null?(z=le,I==null?(x(U,Se,N(z)),ee=I=F=z):z<I?I=z:z>F&&(F=z)):le===null&&(Q=!0):(I!=null&&q(U,we,N(I),N(F),N(ee),N(z)),le!=null?(z=le,x(U,Se,N(z)),I=F=ee=z):(I=F=null,le===null&&(Q=!0)),we=Se,J=C(we+D))}I!=null&&I!=F&&Ke!=we&&q(U,we,N(I),N(F),N(ee),N(z))}else for(let C=D==1?s:a;C>=s&&C<=a;C+=D){let I=m[C];I===null?Q=!0:I!=null&&x(U,k(h[C]),N(I))}let[b,j]=di(o,i);if(u.fill!=null||b!=0){let C=$.fill=new Path2D(U),I=u.fillTo(o,i,u.min,u.max,b),F=N(I),ee=k(h[s]),z=k(h[a]);D==-1&&([z,ee]=[ee,z]),x(C,z,F),x(C,ee,F)}if(!u.spanGaps){let C=[];Q&&C.push(...wi(h,m,s,a,D,k,n)),$.gaps=C=u.gaps(o,i,s,a,C),$.clip=gn(C,g.ori,P,L,H,O)}return j!=0&&($.band=j==2?[Pt(o,i,s,a,U,-1),Pt(o,i,s,a,U,1)]:Pt(o,i,s,a,U,j)),$})}function Vf(e){const n=ie(e.align,1),o=ie(e.ascDesc,!1),i=ie(e.alignGaps,0),s=ie(e.extend,!1);return(a,u,h,m)=>tl(a,u,(g,y,d,w,P,L,H,O,G,k,N)=>{[h,m]=an(d,h,m);let x=g.pxRound,{left:q,width:D}=a.bbox,$=te=>x(L(te,w,k,O)),U=te=>x(H(te,P,N,G)),Q=w.ori==0?Dl:Ll;const B={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:Al},b=B.stroke,j=w.dir*(w.ori==0?1:-1);let C=U(d[j==1?h:m]),I=$(y[j==1?h:m]),F=I,ee=I;s&&n==-1&&(ee=q,Q(b,ee,C)),Q(b,I,C);for(let te=j==1?h:m;te>=h&&te<=m;te+=j){let fe=d[te];if(fe==null)continue;let J=$(y[te]),V=U(fe);n==1?Q(b,J,C):Q(b,F,V),Q(b,J,V),C=V,F=J}let z=F;s&&n==1&&(z=q+D,Q(b,z,C));let[Ke,we]=di(a,u);if(g.fill!=null||Ke!=0){let te=B.fill=new Path2D(b),fe=g.fillTo(a,u,g.min,g.max,Ke),J=U(fe);Q(te,z,J),Q(te,ee,J)}if(!g.spanGaps){let te=[];te.push(...wi(y,d,h,m,j,$,i));let fe=g.width*se/2,J=o||n==1?fe:-fe,V=o||n==-1?-fe:fe;te.forEach(Me=>{Me[0]+=J,Me[1]+=V}),B.gaps=te=g.gaps(a,u,h,m,te),B.clip=gn(te,w.ori,O,G,k,N)}return we!=0&&(B.band=we==2?[Pt(a,u,h,m,b,-1),Pt(a,u,h,m,b,1)]:Pt(a,u,h,m,b,we)),B})}function Co(e,n,o,i,s,a,u=ce){if(e.length>1){let h=null;for(let m=0,g=1/0;m<e.length;m++)if(n[m]!==void 0){if(h!=null){let y=Ee(e[m]-e[h]);y<g&&(g=y,u=Ee(o(e[m],i,s,a)-o(e[h],i,s,a)))}h=m}}return u}function Rf(e){e=e||Ul;const n=ie(e.size,[.6,ce,1]),o=e.align||0,i=e.gap||0;let s=e.radius;s=s==null?[0,0]:typeof s=="number"?[s,0]:s;const a=X(s),u=1-n[0],h=ie(n[1],ce),m=ie(n[2],1),g=ie(e.disp,Ul),y=ie(e.each,P=>{}),{fill:d,stroke:w}=g;return(P,L,H,O)=>tl(P,L,(G,k,N,x,q,D,$,U,Q,B,b)=>{let j=G.pxRound,C=o,I=i*se,F=h*se,ee=m*se,z,Ke;x.ori==0?[z,Ke]=a(P,L):[Ke,z]=a(P,L);const we=x.dir*(x.ori==0?1:-1);let te=x.ori==0?Sn:Si,fe=x.ori==0?y:(A,pe,Te,ol,It,yt,Yt)=>{y(A,pe,Te,It,ol,Yt,yt)},J=ie(P.bands,ai).find(A=>A.series[0]==L),V=J!=null?J.dir:0,Me=G.fillTo(P,L,G.min,G.max,V),Oe=j($(Me,q,b,Q)),Se,le,at,$e=B,ye=j(G.width*se),_t=!1,At=null,nt=null,Ct=null,ll=null;d!=null&&(ye==0||w!=null)&&(_t=!0,At=d.values(P,L,H,O),nt=new Map,new Set(At).forEach(A=>{A!=null&&nt.set(A,new Path2D)}),ye>0&&(Ct=w.values(P,L,H,O),ll=new Map,new Set(Ct).forEach(A=>{A!=null&&ll.set(A,new Path2D)})));let{x0:nl,size:Pl}=g;if(nl!=null&&Pl!=null){C=1,k=nl.values(P,L,H,O),nl.unit==2&&(k=k.map(Te=>P.posToVal(U+Te*B,x.key,!0)));let A=Pl.values(P,L,H,O);Pl.unit==2?le=A[0]*B:le=D(A[0],x,B,U)-D(0,x,B,U),$e=Co(k,N,D,x,B,U,$e),at=$e-le+I}else $e=Co(k,N,D,x,B,U,$e),at=$e*u+I,le=$e-at;at<1&&(at=0),ye>=le/2&&(ye=0),at<5&&(j=Go);let jl=at>0,Wt=$e-at-(jl?ye:0);le=j(Xn(Wt,ee,F)),Se=(C==0?le/2:C==we?0:le)-C*we*((C==0?I/2:0)+(jl?ye/2:0));const We={stroke:null,fill:null,clip:null,band:null,gaps:null,flags:0},il=_t?null:new Path2D;let Et=null;if(J!=null)Et=P.data[J.series[1]];else{let{y0:A,y1:pe}=g;A!=null&&pe!=null&&(N=pe.values(P,L,H,O),Et=A.values(P,L,H,O))}let Gt=z*le,K=Ke*le;for(let A=we==1?H:O;A>=H&&A<=O;A+=we){let pe=N[A];if(pe==null)continue;if(Et!=null){let je=Et[A]??0;if(pe-je==0)continue;Oe=$(je,q,b,Q)}let Te=x.distr!=2||g!=null?k[A]:A,ol=D(Te,x,B,U),It=$(ie(pe,Me),q,b,Q),yt=j(ol-Se),Yt=j(Be(It,Oe)),Je=j(St(It,Oe)),it=Yt-Je;if(pe!=null){let je=pe<0?K:Gt,pt=pe<0?Gt:K;_t?(ye>0&&Ct[A]!=null&&te(ll.get(Ct[A]),yt,Je+tt(ye/2),le,Be(0,it-ye),je,pt),At[A]!=null&&te(nt.get(At[A]),yt,Je+tt(ye/2),le,Be(0,it-ye),je,pt)):te(il,yt,Je+tt(ye/2),le,Be(0,it-ye),je,pt),fe(P,L,A,yt-ye/2,Je,le+ye,it)}}return ye>0?We.stroke=_t?ll:il:_t||(We._fill=G.width==0?G._fill:G._stroke??G._fill,We.width=0),We.fill=_t?nt:il,We})}function zf(e,n){const o=ie(n==null?void 0:n.alignGaps,0);return(i,s,a,u)=>tl(i,s,(h,m,g,y,d,w,P,L,H,O,G)=>{[a,u]=an(g,a,u);let k=h.pxRound,N=z=>k(w(z,y,O,L)),x=z=>k(P(z,d,G,H)),q,D,$;y.ori==0?(q=dn,$=Dl,D=ms):(q=wn,$=Ll,D=gs);const U=y.dir*(y.ori==0?1:-1);let Q=N(m[U==1?a:u]),B=Q,b=[],j=[];for(let z=U==1?a:u;z>=a&&z<=u;z+=U)if(g[z]!=null){let we=m[z],te=N(we);b.push(B=te),j.push(x(g[z]))}const C={stroke:e(b,j,q,$,D,k),fill:null,clip:null,band:null,gaps:null,flags:Al},I=C.stroke;let[F,ee]=di(i,s);if(h.fill!=null||F!=0){let z=C.fill=new Path2D(I),Ke=h.fillTo(i,s,h.min,h.max,F),we=x(Ke);$(z,B,we),$(z,Q,we)}if(!h.spanGaps){let z=[];z.push(...wi(m,g,a,u,U,N,o)),C.gaps=z=h.gaps(i,s,a,u,z),C.clip=gn(z,y.ori,L,H,O,G)}return ee!=0&&(C.band=ee==2?[Pt(i,s,a,u,I,-1),Pt(i,s,a,u,I,1)]:Pt(i,s,a,u,I,ee)),C})}function Ff(e){return zf(Hf,e)}function Hf(e,n,o,i,s,a){const u=e.length;if(u<2)return null;const h=new Path2D;if(o(h,e[0],n[0]),u==2)i(h,e[1],n[1]);else{let m=Array(u),g=Array(u-1),y=Array(u-1),d=Array(u-1);for(let w=0;w<u-1;w++)y[w]=n[w+1]-n[w],d[w]=e[w+1]-e[w],g[w]=y[w]/d[w];m[0]=g[0];for(let w=1;w<u-1;w++)g[w]===0||g[w-1]===0||g[w-1]>0!=g[w]>0?m[w]=0:(m[w]=3*(d[w-1]+d[w])/((2*d[w]+d[w-1])/g[w-1]+(d[w]+2*d[w-1])/g[w]),isFinite(m[w])||(m[w]=0));m[u-1]=g[u-2];for(let w=0;w<u-1;w++)s(h,e[w]+d[w]/3,n[w]+m[w]*d[w]/3,e[w+1]-d[w]/3,n[w+1]-m[w+1]*d[w]/3,e[w+1],n[w+1])}return h}const ni=new Set;function Vo(){for(let e of ni)e.syncRect(!0)}El&&(Xt(dr,xl,Vo),Xt(wr,xl,Vo,!0),Xt(fn,xl,()=>{Ue.pxRatio=se}));const Nf=Ss(),Of=ds();function Ro(e,n,o,i){return(i?[e[0],e[1]].concat(e.slice(2)):[e[0]].concat(e.slice(1))).map((a,u)=>ii(a,u,n,o))}function Wf(e,n){return e.map((o,i)=>i==0?{}:be({},n,o))}function ii(e,n,o,i){return be({},n==0?o:i,e)}function _s(e,n,o){return n==null?Ml:[n,o]}const Gf=_s;function If(e,n,o){return n==null?Ml:un(n,o,ui,!0)}function ys(e,n,o,i){return n==null?Ml:pn(n,o,e.scales[i].log,!1)}const Yf=ys;function vs(e,n,o,i){return n==null?Ml:fi(n,o,e.scales[i].log,!1)}const Bf=vs;function Uf(e,n,o,i,s){let a=Be(ao(e),ao(n)),u=n-e,h=wt(s/i*u,o);do{let m=o[h],g=i*m/u;if(g>=s&&a+(m<5?Ot.get(m):0)<=17)return[m,g]}while(++h<o.length);return[0,0]}function zo(e){let n,o;return e=e.replace(/(\d+)px/,(i,s)=>(n=Ae((o=+s)*se))+"px"),[e,n,o]}function Kf(e){e.show&&[e.font,e.labelFont].forEach(n=>{let o=ae(n[2]*se,1);n[0]=n[0].replace(/[0-9.]+px/,o+"px"),n[1]=o})}function Ue(e,n,o){const i={mode:ie(e.mode,1)},s=i.mode;function a(t,l,r,f){let c=l.valToPct(t);return f+r*(l.dir==-1?1-c:c)}function u(t,l,r,f){let c=l.valToPct(t);return f+r*(l.dir==-1?c:1-c)}function h(t,l,r,f){return l.ori==0?a(t,l,r,f):u(t,l,r,f)}i.valToPosH=a,i.valToPosV=u;let m=!1;i.status=0;const g=i.root=ut(Qs);if(e.id!=null&&(g.id=e.id),et(g,e.class),e.title){let t=ut(tr,g);t.textContent=e.title}const y=dt("canvas"),d=i.ctx=y.getContext("2d"),w=ut(lr,g);Xt("click",w,t=>{t.target===L&&(he!=dl||_e!=wl)&&He.click(i,t)},!0);const P=i.under=ut(nr,w);w.appendChild(y);const L=i.over=ut(ir,w);e=Tl(e);const H=+ie(e.pxAlign,1),O=Po(H);(e.plugins||[]).forEach(t=>{t.opts&&(e=t.opts(i,e)||e)});const G=e.ms||.001,k=i.series=s==1?Ro(e.series||[],bo,Do,!1):Wf(e.series||[null],Eo),N=i.axes=Ro(e.axes||[],xo,To,!0),x=i.scales={},q=i.bands=e.bands||[];q.forEach(t=>{t.fill=X(t.fill||null),t.dir=ie(t.dir,-1)});const D=s==2?k[1].facets[0].scale:k[0].scale,$={axes:Hs,series:Cs},U=(e.drawOrder||["axes","series"]).map(t=>$[t]);function Q(t){const l=t.distr==3?r=>Lt(r>0?r:t.clamp(i,r,t.min,t.max,t.key)):t.distr==4?r=>Un(r,t.asinh):t.distr==100?r=>t.fwd(r):r=>r;return r=>{let f=l(r),{_min:c,_max:p}=t,S=p-c;return(f-c)/S}}function B(t){let l=x[t];if(l==null){let r=(e.scales||Ul)[t]||Ul;if(r.from!=null){B(r.from);let f=be({},x[r.from],r,{key:t});f.valToPct=Q(f),x[t]=f}else{l=x[t]=be({},t==D?us:Ef,r),l.key=t;let f=l.time,c=l.range,p=Nt(c);if((t!=D||s==2&&!f)&&(p&&(c[0]==null||c[1]==null)&&(c={min:c[0]==null?fo:{mode:1,hard:c[0],soft:c[0]},max:c[1]==null?fo:{mode:1,hard:c[1],soft:c[1]}},p=!1),!p&&mn(c))){let S=c;c=(_,v,M)=>v==null?Ml:un(v,M,S)}l.range=X(c||(f?Gf:t==D?l.distr==3?Yf:l.distr==4?Bf:_s:l.distr==3?ys:l.distr==4?vs:If)),l.auto=X(p?!1:l.auto),l.clamp=X(l.clamp||Af),l._min=l._max=null,l.valToPct=Q(l)}}}B("x"),B("y"),s==1&&k.forEach(t=>{B(t.scale)}),N.forEach(t=>{B(t.scale)});for(let t in e.scales)B(t);const b=x[D],j=b.distr;let C,I;b.ori==0?(et(g,Xs),C=a,I=u):(et(g,er),C=u,I=a);const F={};for(let t in x){let l=x[t];(l.min!=null||l.max!=null)&&(F[t]={min:l.min,max:l.max},l.min=l.max=null)}const ee=e.tzDate||(t=>new Date(Ae(t/G))),z=e.fmtDate||pi,Ke=G==1?Xr(ee):lf(ee),we=yo(ee,_o(G==1?Qr:tf,z)),te=ko(ee,vo(of,z)),fe=[],J=i.legend=be({},ff,e.legend),V=i.cursor=be({},mf,{drag:{y:s==2}},e.cursor),Me=J.show,Oe=V.show,Se=J.markers;J.idxs=fe,Se.width=X(Se.width),Se.dash=X(Se.dash),Se.stroke=X(Se.stroke),Se.fill=X(Se.fill);let le,at,$e,ye=[],_t=[],At,nt=!1,Ct={};if(J.live){const t=k[1]?k[1].values:null;nt=t!=null,At=nt?t(i,1,0):{_:0};for(let l in At)Ct[l]=si}if(Me)if(le=dt("table",cr,g),$e=dt("tbody",null,le),J.mount(i,le),nt){at=dt("thead",null,le,$e);let t=dt("tr",null,at);dt("th",null,t);for(var ll in At)dt("th",$i,t).textContent=ll}else et(le,pr),J.live&&et(le,ar);const nl={show:!0},Pl={show:!1};function jl(t,l){if(l==0&&(nt||!J.live||s==2))return Ml;let r=[],f=dt("tr",hr,$e,$e.childNodes[l]);et(f,t.class),t.show||et(f,Qt);let c=dt("th",null,f);if(Se.show){let _=ut(mr,c);if(l>0){let v=Se.width(i,l);v&&(_.style.border=v+"px "+Se.dash(i,l)+" "+Se.stroke(i,l)),_.style.background=Se.fill(i,l)}}let p=ut($i,c);t.label instanceof HTMLElement?p.appendChild(t.label):p.textContent=t.label,l>0&&(Se.show||(p.style.color=t.width>0?Se.stroke(i,l):Se.fill(i,l)),We("click",c,_=>{if(V._lock)return;Ut(_);let v=k.indexOf(t);if((_.ctrlKey||_.metaKey)!=J.isolate){let M=k.some((T,E)=>E>0&&E!=v&&T.show);k.forEach((T,E)=>{E>0&&kt(E,M?E==v?nl:Pl:nl,!0,xe.setSeries)})}else kt(v,{show:!t.show},!0,xe.setSeries)},!1),rl&&We(Xi,c,_=>{V._lock||(Ut(_),kt(k.indexOf(t),_l,!0,xe.setSeries))},!1));for(var S in At){let _=dt("td",gr,f);_.textContent="--",r.push(_)}return[f,r]}const Wt=new Map;function We(t,l,r,f=!0){const c=Wt.get(l)||{},p=V.bind[t](i,l,r,f);p&&(Xt(t,l,c[t]=p),Wt.set(l,c))}function il(t,l,r){const f=Wt.get(l)||{};for(let c in f)(t==null||c==t)&&(Qn(c,l,f[c]),delete f[c]);t==null&&Wt.delete(l)}let Et=0,Gt=0,K=0,A=0,pe=0,Te=0,ol=pe,It=Te,yt=K,Yt=A,Je=0,it=0,je=0,pt=0;i.bbox={};let _n=!1,ql=!1,sl=!1,Bt=!1,$l=!1,ot=!1;function yn(t,l,r){(r||t!=i.width||l!=i.height)&&_i(t,l),pl(!1),sl=!0,ql=!0,hl()}function _i(t,l){i.width=Et=K=t,i.height=Gt=A=l,pe=Te=0,Ms(),Ts();let r=i.bbox;Je=r.left=Jt(pe*se,.5),it=r.top=Jt(Te*se,.5),je=r.width=Jt(K*se,.5),pt=r.height=Jt(A*se,.5)}const ks=3;function xs(){let t=!1,l=0;for(;!t;){l++;let r=zs(l),f=Fs(l);t=l==ks||r&&f,t||(_i(i.width,i.height),ql=!0)}}function bs({width:t,height:l}){yn(t,l)}i.setSize=bs;function Ms(){let t=!1,l=!1,r=!1,f=!1;N.forEach((c,p)=>{if(c.show&&c._show){let{side:S,_size:_}=c,v=S%2,M=c.label!=null?c.labelSize:0,T=_+M;T>0&&(v?(K-=T,S==3?(pe+=T,f=!0):r=!0):(A-=T,S==0?(Te+=T,t=!0):l=!0))}}),Kt[0]=t,Kt[1]=r,Kt[2]=l,Kt[3]=f,K-=Vt[1]+Vt[3],pe+=Vt[3],A-=Vt[2]+Vt[0],Te+=Vt[0]}function Ts(){let t=pe+K,l=Te+A,r=pe,f=Te;function c(p,S){switch(p){case 1:return t+=S,t-S;case 2:return l+=S,l-S;case 3:return r-=S,r+S;case 0:return f-=S,f+S}}N.forEach((p,S)=>{if(p.show&&p._show){let _=p.side;p._pos=c(_,p._size),p.label!=null&&(p._lpos=c(_,p.labelSize))}})}if(V.dataIdx==null){let t=V.hover,l=t.skip=new Set(t.skip??[]);l.add(void 0);let r=t.prox=X(t.prox),f=t.bias??(t.bias=0);V.dataIdx=(c,p,S,_)=>{if(p==0)return S;let v=S,M=r(c,p,S,_)??ce,T=M>=0&&M<ce,E=b.ori==0?K:A,Y=V.left,oe=n[0],ne=n[p];if(l.has(ne[S])){v=null;let Z=null,W=null,R;if(f==0||f==-1)for(R=S;Z==null&&R-- >0;)l.has(ne[R])||(Z=R);if(f==0||f==1)for(R=S;W==null&&R++<ne.length;)l.has(ne[R])||(W=R);if(Z!=null||W!=null)if(T){let ge=Z==null?-1/0:C(oe[Z],b,E,0),ve=W==null?1/0:C(oe[W],b,E,0),ze=Y-ge,ue=ve-Y;ze<=ue?ze<=M&&(v=Z):ue<=M&&(v=W)}else v=W==null?Z:Z==null?W:S-Z<=W-S?Z:W}else T&&Ee(Y-C(oe[S],b,E,0))>M&&(v=null);return v}}const Ut=t=>{V.event=t};V.idxs=fe,V._lock=!1;let Ne=V.points;Ne.show=X(Ne.show),Ne.size=X(Ne.size),Ne.stroke=X(Ne.stroke),Ne.width=X(Ne.width),Ne.fill=X(Ne.fill);const vt=i.focus=be({},e.focus||{alpha:.3},V.focus),rl=vt.prox>=0,fl=rl&&Ne.one;let st=[],ul=[],cl=[];function yi(t,l){let r=Ne.show(i,l);if(r instanceof HTMLElement)return et(r,ur),et(r,t.class),Tt(r,-10,-10,K,A),L.insertBefore(r,st[l]),r}function vi(t,l){if(s==1||l>0){let r=s==1&&x[t.scale].time,f=t.value;t.value=r?mo(f)?ko(ee,vo(f,z)):f||te:f||bf,t.label=t.label||(r?df:gf)}if(fl||l>0){t.width=t.width==null?1:t.width,t.paths=t.paths||Nf||Ar,t.fillTo=X(t.fillTo||Df),t.pxAlign=+ie(t.pxAlign,H),t.pxRound=Po(t.pxAlign),t.stroke=X(t.stroke||null),t.fill=X(t.fill||null),t._stroke=t._fill=t._paths=t._focus=null;let r=Mf(Be(1,t.width),1),f=t.points=be({},{size:r,width:Be(1,r*.2),stroke:t.stroke,space:r*2,paths:Of,_stroke:null,_fill:null},t.points);f.show=X(f.show),f.filter=X(f.filter),f.fill=X(f.fill),f.stroke=X(f.stroke),f.paths=X(f.paths),f.pxAlign=t.pxAlign}if(Me){let r=jl(t,l);ye.splice(l,0,r[0]),_t.splice(l,0,r[1]),J.values.push(null)}if(Oe){fe.splice(l,0,null);let r=null;fl?l==0&&(r=yi(t,l)):l>0&&(r=yi(t,l)),st.splice(l,0,r),ul.splice(l,0,0),cl.splice(l,0,0)}Re("addSeries",l)}function As(t,l){l=l??k.length,t=s==1?ii(t,l,bo,Do):ii(t,l,{},Eo),k.splice(l,0,t),vi(k[l],l)}i.addSeries=As;function Es(t){if(k.splice(t,1),Me){J.values.splice(t,1),_t.splice(t,1);let l=ye.splice(t,1)[0];il(null,l.firstChild),l.remove()}Oe&&(fe.splice(t,1),st.splice(t,1)[0].remove(),ul.splice(t,1),cl.splice(t,1)),Re("delSeries",t)}i.delSeries=Es;const Kt=[!1,!1,!1,!1];function Ds(t,l){if(t._show=t.show,t.show){let r=t.side%2,f=x[t.scale];f==null&&(t.scale=r?k[1].scale:D,f=x[t.scale]);let c=f.time;t.size=X(t.size),t.space=X(t.space),t.rotate=X(t.rotate),Nt(t.incrs)&&t.incrs.forEach(S=>{!Ot.has(S)&&Ot.set(S,Bo(S))}),t.incrs=X(t.incrs||(f.distr==2?$r:c?G==1?Zr:ef:Zt)),t.splits=X(t.splits||(c&&f.distr==1?Ke:f.distr==3?ei:f.distr==4?_f:Sf)),t.stroke=X(t.stroke),t.grid.stroke=X(t.grid.stroke),t.ticks.stroke=X(t.ticks.stroke),t.border.stroke=X(t.border.stroke);let p=t.values;t.values=Nt(p)&&!Nt(p[0])?X(p):c?Nt(p)?yo(ee,_o(p,z)):mo(p)?nf(ee,p):p||we:p||wf,t.filter=X(t.filter||(f.distr>=3&&f.log==10?kf:f.distr==3&&f.log==2?xf:Io)),t.font=zo(t.font),t.labelFont=zo(t.labelFont),t._size=t.size(i,null,l,0),t._space=t._rotate=t._incrs=t._found=t._splits=t._values=null,t._size>0&&(Kt[l]=!0,t._el=ut(or,w))}}function Cl(t,l,r,f){let[c,p,S,_]=r,v=l%2,M=0;return v==0&&(_||p)&&(M=l==0&&!c||l==2&&!S?Ae(xo.size/3):0),v==1&&(c||S)&&(M=l==1&&!p||l==3&&!_?Ae(To.size/2):0),M}const ki=i.padding=(e.padding||[Cl,Cl,Cl,Cl]).map(t=>X(ie(t,Cl))),Vt=i._padding=ki.map((t,l)=>t(i,l,Kt,0));let Fe,Le=null,Pe=null;const Jl=s==1?k[0].idxs:null;let ht=null,Vl=!1;function xi(t,l){if(n=t??[],i.data=i._data=n,s==2){Fe=0;for(let r=1;r<k.length;r++)Fe+=n[r][0].length}else{n.length==0&&(i.data=i._data=n=[[]]),ht=n[0],Fe=ht.length;let r=n;if(j==2){r=n.slice();let f=r[0]=Array(Fe);for(let c=0;c<Fe;c++)f[c]=c}i._data=n=r}if(pl(!0),Re("setData"),j==2&&(sl=!0),l!==!1){let r=b;r.auto(i,Vl)?vn():zt(D,r.min,r.max),Bt=Bt||V.left>=0,ot=!0,hl()}}i.setData=xi;function vn(){Vl=!0;let t,l;s==1&&(Fe>0?(Le=Jl[0]=0,Pe=Jl[1]=Fe-1,t=n[0][Le],l=n[0][Pe],j==2?(t=Le,l=Pe):t==l&&(j==3?[t,l]=pn(t,t,b.log,!1):j==4?[t,l]=fi(t,t,b.log,!1):b.time?l=t+Ae(86400/G):[t,l]=un(t,l,ui,!0))):(Le=Jl[0]=t=null,Pe=Jl[1]=l=null)),zt(D,t,l)}let Zl,al,kn,xn,bn,Mn,Tn,An,En,qe;function bi(t,l,r,f,c,p){t??(t=Zi),r??(r=ai),f??(f="butt"),c??(c=Zi),p??(p="round"),t!=Zl&&(d.strokeStyle=Zl=t),c!=al&&(d.fillStyle=al=c),l!=kn&&(d.lineWidth=kn=l),p!=bn&&(d.lineJoin=bn=p),f!=Mn&&(d.lineCap=Mn=f),r!=xn&&d.setLineDash(xn=r)}function Mi(t,l,r,f){l!=al&&(d.fillStyle=al=l),t!=Tn&&(d.font=Tn=t),r!=An&&(d.textAlign=An=r),f!=En&&(d.textBaseline=En=f)}function Dn(t,l,r,f,c=0){if(f.length>0&&t.auto(i,Vl)&&(l==null||l.min==null)){let p=ie(Le,0),S=ie(Pe,f.length-1),_=r.min==null?vr(f,p,S,c,t.distr==3):[r.min,r.max];t.min=St(t.min,r.min=_[0]),t.max=Be(t.max,r.max=_[1])}}const Ti={min:null,max:null};function Ls(){for(let f in x){let c=x[f];F[f]==null&&(c.min==null||F[D]!=null&&c.auto(i,Vl))&&(F[f]=Ti)}for(let f in x){let c=x[f];F[f]==null&&c.from!=null&&F[c.from]!=null&&(F[f]=Ti)}F[D]!=null&&pl(!0);let t={};for(let f in F){let c=F[f];if(c!=null){let p=t[f]=Tl(x[f],Lr);if(c.min!=null)be(p,c);else if(f!=D||s==2)if(Fe==0&&p.from==null){let S=p.range(i,null,null,f);p.min=S[0],p.max=S[1]}else p.min=ce,p.max=-ce}}if(Fe>0){k.forEach((f,c)=>{if(s==1){let p=f.scale,S=F[p];if(S==null)return;let _=t[p];if(c==0){let v=_.range(i,_.min,_.max,p);_.min=v[0],_.max=v[1],Le=wt(_.min,n[0]),Pe=wt(_.max,n[0]),Pe-Le>1&&(n[0][Le]<_.min&&Le++,n[0][Pe]>_.max&&Pe--),f.min=ht[Le],f.max=ht[Pe]}else f.show&&f.auto&&Dn(_,S,f,n[c],f.sorted);f.idxs[0]=Le,f.idxs[1]=Pe}else if(c>0&&f.show&&f.auto){let[p,S]=f.facets,_=p.scale,v=S.scale,[M,T]=n[c],E=t[_],Y=t[v];E!=null&&Dn(E,F[_],p,M,p.sorted),Y!=null&&Dn(Y,F[v],S,T,S.sorted),f.min=S.min,f.max=S.max}});for(let f in t){let c=t[f],p=F[f];if(c.from==null&&(p==null||p.min==null)){let S=c.range(i,c.min==ce?null:c.min,c.max==-ce?null:c.max,f);c.min=S[0],c.max=S[1]}}}for(let f in t){let c=t[f];if(c.from!=null){let p=t[c.from];if(p.min==null)c.min=c.max=null;else{let S=c.range(i,p.min,p.max,f);c.min=S[0],c.max=S[1]}}}let l={},r=!1;for(let f in t){let c=t[f],p=x[f];if(p.min!=c.min||p.max!=c.max){p.min=c.min,p.max=c.max;let S=p.distr;p._min=S==3?Lt(p.min):S==4?Un(p.min,p.asinh):S==100?p.fwd(p.min):p.min,p._max=S==3?Lt(p.max):S==4?Un(p.max,p.asinh):S==100?p.fwd(p.max):p.max,l[f]=r=!0}}if(r){k.forEach((f,c)=>{s==2?c>0&&l.y&&(f._paths=null):l[f.scale]&&(f._paths=null)});for(let f in l)sl=!0,Re("setScale",f);Oe&&V.left>=0&&(Bt=ot=!0)}for(let f in F)F[f]=null}function Ps(t){let l=Xn(Le-1,0,Fe-1),r=Xn(Pe+1,0,Fe-1);for(;t[l]==null&&l>0;)l--;for(;t[r]==null&&r<Fe-1;)r++;return[l,r]}function Cs(){if(Fe>0){let t=k.some(l=>l._focus)&&qe!=vt.alpha;t&&(d.globalAlpha=qe=vt.alpha),k.forEach((l,r)=>{if(r>0&&l.show&&(Ai(r,!1),Ai(r,!0),l._paths==null)){let f=qe;qe!=l.alpha&&(d.globalAlpha=qe=l.alpha);let c=s==2?[0,n[r][0].length-1]:Ps(n[r]);l._paths=l.paths(i,r,c[0],c[1]),qe!=f&&(d.globalAlpha=qe=f)}}),k.forEach((l,r)=>{if(r>0&&l.show){let f=qe;qe!=l.alpha&&(d.globalAlpha=qe=l.alpha),l._paths!=null&&Ei(r,!1);{let c=l._paths!=null?l._paths.gaps:null,p=l.points.show(i,r,Le,Pe,c),S=l.points.filter(i,r,p,c);(p||S)&&(l.points._paths=l.points.paths(i,r,Le,Pe,S),Ei(r,!0))}qe!=f&&(d.globalAlpha=qe=f),Re("drawSeries",r)}}),t&&(d.globalAlpha=qe=1)}}function Ai(t,l){let r=l?k[t].points:k[t];r._stroke=r.stroke(i,t),r._fill=r.fill(i,t)}function Ei(t,l){let r=l?k[t].points:k[t],{stroke:f,fill:c,clip:p,flags:S,_stroke:_=r._stroke,_fill:v=r._fill,_width:M=r.width}=r._paths;M=ae(M*se,3);let T=null,E=M%2/2;l&&v==null&&(v=M>0?"#fff":_);let Y=r.pxAlign==1&&E>0;if(Y&&d.translate(E,E),!l){let oe=Je-M/2,ne=it-M/2,Z=je+M,W=pt+M;T=new Path2D,T.rect(oe,ne,Z,W)}l?Ln(_,M,r.dash,r.cap,v,f,c,S,p):Vs(t,_,M,r.dash,r.cap,v,f,c,S,T,p),Y&&d.translate(-E,-E)}function Vs(t,l,r,f,c,p,S,_,v,M,T){let E=!1;v!=0&&q.forEach((Y,oe)=>{if(Y.series[0]==t){let ne=k[Y.series[1]],Z=n[Y.series[1]],W=(ne._paths||Ul).band;Nt(W)&&(W=Y.dir==1?W[0]:W[1]);let R,ge=null;ne.show&&W&&xr(Z,Le,Pe)?(ge=Y.fill(i,oe)||p,R=ne._paths.clip):W=null,Ln(l,r,f,c,ge,S,_,v,M,T,R,W),E=!0}}),E||Ln(l,r,f,c,p,S,_,v,M,T)}const Di=Al|li;function Ln(t,l,r,f,c,p,S,_,v,M,T,E){bi(t,l,r,f,c),(v||M||E)&&(d.save(),v&&d.clip(v),M&&d.clip(M)),E?(_&Di)==Di?(d.clip(E),T&&d.clip(T),Xl(c,S),Ql(t,p,l)):_&li?(Xl(c,S),d.clip(E),Ql(t,p,l)):_&Al&&(d.save(),d.clip(E),T&&d.clip(T),Xl(c,S),d.restore(),Ql(t,p,l)):(Xl(c,S),Ql(t,p,l)),(v||M||E)&&d.restore()}function Ql(t,l,r){r>0&&(l instanceof Map?l.forEach((f,c)=>{d.strokeStyle=Zl=c,d.stroke(f)}):l!=null&&t&&d.stroke(l))}function Xl(t,l){l instanceof Map?l.forEach((r,f)=>{d.fillStyle=al=f,d.fill(r)}):l!=null&&t&&d.fill(l)}function Rs(t,l,r,f){let c=N[t],p;if(f<=0)p=[0,0];else{let S=c._space=c.space(i,t,l,r,f),_=c._incrs=c.incrs(i,t,l,r,f,S);p=Uf(l,r,_,f,S)}return c._found=p}function Pn(t,l,r,f,c,p,S,_,v,M){let T=S%2/2;H==1&&d.translate(T,T),bi(_,S,v,M,_),d.beginPath();let E,Y,oe,ne,Z=c+(f==0||f==3?-p:p);r==0?(Y=c,ne=Z):(E=c,oe=Z);for(let W=0;W<t.length;W++)l[W]!=null&&(r==0?E=oe=t[W]:Y=ne=t[W],d.moveTo(E,Y),d.lineTo(oe,ne));d.stroke(),H==1&&d.translate(-T,-T)}function zs(t){let l=!0;return N.forEach((r,f)=>{if(!r.show)return;let c=x[r.scale];if(c.min==null){r._show&&(l=!1,r._show=!1,pl(!1));return}else r._show||(l=!1,r._show=!0,pl(!1));let p=r.side,S=p%2,{min:_,max:v}=c,[M,T]=Rs(f,_,v,S==0?K:A);if(T==0)return;let E=c.distr==2,Y=r._splits=r.splits(i,f,_,v,M,T,E),oe=c.distr==2?Y.map(R=>ht[R]):Y,ne=c.distr==2?ht[Y[1]]-ht[Y[0]]:M,Z=r._values=r.values(i,r.filter(i,oe,f,T,ne),f,T,ne);r._rotate=p==2?r.rotate(i,Z,f,T):0;let W=r._size;r._size=ct(r.size(i,Z,f,t)),W!=null&&r._size!=W&&(l=!1)}),l}function Fs(t){let l=!0;return ki.forEach((r,f)=>{let c=r(i,f,Kt,t);c!=Vt[f]&&(l=!1),Vt[f]=c}),l}function Hs(){for(let t=0;t<N.length;t++){let l=N[t];if(!l.show||!l._show)continue;let r=l.side,f=r%2,c,p,S=l.stroke(i,t),_=r==0||r==3?-1:1,[v,M]=l._found;if(l.label!=null){let Ie=l.labelGap*_,Xe=Ae((l._lpos+Ie)*se);Mi(l.labelFont[0],S,"center",r==2?Ol:Ji),d.save(),f==1?(c=p=0,d.translate(Xe,Ae(it+pt/2)),d.rotate((r==3?-rn:rn)/2)):(c=Ae(Je+je/2),p=Xe);let $t=Wo(l.label)?l.label(i,t,v,M):l.label;d.fillText($t,c,p),d.restore()}if(M==0)continue;let T=x[l.scale],E=f==0?je:pt,Y=f==0?Je:it,oe=l._splits,ne=T.distr==2?oe.map(Ie=>ht[Ie]):oe,Z=T.distr==2?ht[oe[1]]-ht[oe[0]]:v,W=l.ticks,R=l.border,ge=W.show?W.size:0,ve=Ae(ge*se),ze=Ae((l.alignTo==2?l._size-ge-l.gap:l.gap)*se),ue=l._rotate*-rn/180,ke=O(l._pos*se),Ze=(ve+ze)*_,Ge=ke+Ze;p=f==0?Ge:0,c=f==1?Ge:0;let rt=l.font[0],mt=l.align==1?vl:l.align==2?In:ue>0?vl:ue<0?In:f==0?"center":r==3?In:vl,bt=ue||f==1?"middle":r==2?Ol:Ji;Mi(rt,S,mt,bt);let Qe=l.font[1]*l.lineGap,ft=oe.map(Ie=>O(h(Ie,T,E,Y))),gt=l._values;for(let Ie=0;Ie<gt.length;Ie++){let Xe=gt[Ie];if(Xe!=null){f==0?c=ft[Ie]:p=ft[Ie],Xe=""+Xe;let $t=Xe.indexOf(`
`)==-1?[Xe]:Xe.split(/\n/gm);for(let Ye=0;Ye<$t.length;Ye++){let qi=$t[Ye];ue?(d.save(),d.translate(c,p+Ye*Qe),d.rotate(ue),d.fillText(qi,0,0),d.restore()):d.fillText(qi,c,p+Ye*Qe)}}}W.show&&Pn(ft,W.filter(i,ne,t,M,Z),f,r,ke,ve,ae(W.width*se,3),W.stroke(i,t),W.dash,W.cap);let Mt=l.grid;Mt.show&&Pn(ft,Mt.filter(i,ne,t,M,Z),f,f==0?2:1,f==0?it:Je,f==0?pt:je,ae(Mt.width*se,3),Mt.stroke(i,t),Mt.dash,Mt.cap),R.show&&Pn([ke],[1],f==0?1:0,f==0?1:2,f==1?it:Je,f==1?pt:je,ae(R.width*se,3),R.stroke(i,t),R.dash,R.cap)}Re("drawAxes")}function pl(t){k.forEach((l,r)=>{r>0&&(l._paths=null,t&&(s==1?(l.min=null,l.max=null):l.facets.forEach(f=>{f.min=null,f.max=null})))})}let en=!1,Cn=!1,Rl=[];function Ns(){Cn=!1;for(let t=0;t<Rl.length;t++)Re(...Rl[t]);Rl.length=0}function hl(){en||(Hr(Li),en=!0)}function Os(t,l=!1){en=!0,Cn=l,t(i),Li(),l&&Rl.length>0&&queueMicrotask(Ns)}i.batch=Os;function Li(){if(_n&&(Ls(),_n=!1),sl&&(xs(),sl=!1),ql){if(de(P,vl,pe),de(P,Ol,Te),de(P,Gl,K),de(P,Il,A),de(L,vl,pe),de(L,Ol,Te),de(L,Gl,K),de(L,Il,A),de(w,Gl,Et),de(w,Il,Gt),y.width=Ae(Et*se),y.height=Ae(Gt*se),N.forEach(({_el:t,_show:l,_size:r,_pos:f,side:c})=>{if(t!=null)if(l){let p=c===3||c===0?r:0,S=c%2==1;de(t,S?"left":"top",f-p),de(t,S?"width":"height",r),de(t,S?"top":"left",S?Te:pe),de(t,S?"height":"width",S?A:K),Zn(t,Qt)}else et(t,Qt)}),Zl=al=kn=bn=Mn=Tn=An=En=xn=null,qe=1,Hl(!0),pe!=ol||Te!=It||K!=yt||A!=Yt){pl(!1);let t=K/yt,l=A/Yt;if(Oe&&!Bt&&V.left>=0){V.left*=t,V.top*=l,ml&&Tt(ml,Ae(V.left),0,K,A),gl&&Tt(gl,0,Ae(V.top),K,A);for(let r=0;r<st.length;r++){let f=st[r];f!=null&&(ul[r]*=t,cl[r]*=l,Tt(f,ct(ul[r]),ct(cl[r]),K,A))}}if(me.show&&!$l&&me.left>=0&&me.width>0){me.left*=t,me.width*=t,me.top*=l,me.height*=l;for(let r in Nn)de(Sl,r,me[r])}ol=pe,It=Te,yt=K,Yt=A}Re("setSize"),ql=!1}Et>0&&Gt>0&&(d.clearRect(0,0,y.width,y.height),Re("drawClear"),U.forEach(t=>t()),Re("draw")),me.show&&$l&&(tn(me),$l=!1),Oe&&Bt&&(qt(null,!0,!1),Bt=!1),J.show&&J.live&&ot&&(Fn(),ot=!1),m||(m=!0,i.status=1,Re("ready")),Vl=!1,en=!1}i.redraw=(t,l)=>{sl=l||!1,t!==!1?zt(D,b.min,b.max):hl()};function Vn(t,l){let r=x[t];if(r.from==null){if(Fe==0){let f=r.range(i,l.min,l.max,t);l.min=f[0],l.max=f[1]}if(l.min>l.max){let f=l.min;l.min=l.max,l.max=f}if(Fe>1&&l.min!=null&&l.max!=null&&l.max-l.min<1e-16)return;t==D&&r.distr==2&&Fe>0&&(l.min=wt(l.min,n[0]),l.max=wt(l.max,n[0]),l.min==l.max&&l.max++),F[t]=l,_n=!0,hl()}}i.setScale=Vn;let Rn,zn,ml,gl,Pi,Ci,dl,wl,Vi,Ri,he,_e,Rt=!1;const He=V.drag;let Ce=He.x,Ve=He.y;Oe&&(V.x&&(Rn=ut(rr,L)),V.y&&(zn=ut(fr,L)),b.ori==0?(ml=Rn,gl=zn):(ml=zn,gl=Rn),he=V.left,_e=V.top);const me=i.select=be({show:!0,over:!0,left:0,width:0,top:0,height:0},e.select),Sl=me.show?ut(sr,me.over?L:P):null;function tn(t,l){if(me.show){for(let r in t)me[r]=t[r],r in Nn&&de(Sl,r,t[r]);l!==!1&&Re("setSelect")}}i.setSelect=tn;function Ws(t){if(k[t].show)Me&&Zn(ye[t],Qt);else if(Me&&et(ye[t],Qt),Oe){let r=fl?st[0]:st[t];r!=null&&Tt(r,-10,-10,K,A)}}function zt(t,l,r){Vn(t,{min:l,max:r})}function kt(t,l,r,f){l.focus!=null&&Us(t),l.show!=null&&k.forEach((c,p)=>{p>0&&(t==p||t==null)&&(c.show=l.show,Ws(p),s==2?(zt(c.facets[0].scale,null,null),zt(c.facets[1].scale,null,null)):zt(c.scale,null,null),hl())}),r!==!1&&Re("setSeries",t,l),f&&Nl("setSeries",i,t,l)}i.setSeries=kt;function Gs(t,l){be(q[t],l)}function Is(t,l){t.fill=X(t.fill||null),t.dir=ie(t.dir,-1),l=l??q.length,q.splice(l,0,t)}function Ys(t){t==null?q.length=0:q.splice(t,1)}i.addBand=Is,i.setBand=Gs,i.delBand=Ys;function Bs(t,l){k[t].alpha=l,Oe&&st[t]!=null&&(st[t].style.opacity=l),Me&&ye[t]&&(ye[t].style.opacity=l)}let Dt,Ft,jt;const _l={focus:!0};function Us(t){if(t!=jt){let l=t==null,r=vt.alpha!=1;k.forEach((f,c)=>{if(s==1||c>0){let p=l||c==0||c==t;f._focus=l?null:p,r&&Bs(c,p?1:vt.alpha)}}),jt=t,r&&hl()}}Me&&rl&&We(eo,le,t=>{V._lock||(Ut(t),jt!=null&&kt(null,_l,!0,xe.setSeries))});function xt(t,l,r){let f=x[l];r&&(t=t/se-(f.ori==1?Te:pe));let c=K;f.ori==1&&(c=A,t=c-t),f.dir==-1&&(t=c-t);let p=f._min,S=f._max,_=t/c,v=p+(S-p)*_,M=f.distr;return M==3?bl(10,v):M==4?Mr(v,f.asinh):M==100?f.bwd(v):v}function Ks(t,l){let r=xt(t,D,l);return wt(r,n[0],Le,Pe)}i.valToIdx=t=>wt(t,n[0]),i.posToIdx=Ks,i.posToVal=xt,i.valToPos=(t,l,r)=>x[l].ori==0?a(t,x[l],r?je:K,r?Je:0):u(t,x[l],r?pt:A,r?it:0),i.setCursor=(t,l,r)=>{he=t.left,_e=t.top,qt(null,l,r)};function zi(t,l){de(Sl,vl,me.left=t),de(Sl,Gl,me.width=l)}function Fi(t,l){de(Sl,Ol,me.top=t),de(Sl,Il,me.height=l)}let zl=b.ori==0?zi:Fi,Fl=b.ori==1?zi:Fi;function js(){if(Me&&J.live)for(let t=s==2?1:0;t<k.length;t++){if(t==0&&nt)continue;let l=J.values[t],r=0;for(let f in l)_t[t][r++].firstChild.nodeValue=l[f]}}function Fn(t,l){if(t!=null&&(t.idxs?t.idxs.forEach((r,f)=>{fe[f]=r}):Dr(t.idx)||fe.fill(t.idx),J.idx=fe[0]),Me&&J.live){for(let r=0;r<k.length;r++)(r>0||s==1&&!nt)&&qs(r,fe[r]);js()}ot=!1,l!==!1&&Re("setLegend")}i.setLegend=Fn;function qs(t,l){let r=k[t],f=t==0&&j==2?ht:n[t],c;nt?c=r.values(i,t,l)??Ct:(c=r.value(i,l==null?null:f[l],t,l),c=c==null?Ct:{_:c}),J.values[t]=c}function qt(t,l,r){Vi=he,Ri=_e,[he,_e]=V.move(i,he,_e),V.left=he,V.top=_e,Oe&&(ml&&Tt(ml,Ae(he),0,K,A),gl&&Tt(gl,0,Ae(_e),K,A));let f,c=Le>Pe;Dt=ce,Ft=null;let p=b.ori==0?K:A,S=b.ori==1?K:A;if(he<0||Fe==0||c){f=V.idx=null;for(let _=0;_<k.length;_++){let v=st[_];v!=null&&Tt(v,-10,-10,K,A)}rl&&kt(null,_l,!0,t==null&&xe.setSeries),J.live&&(fe.fill(f),ot=!0)}else{let _,v,M;s==1&&(_=b.ori==0?he:_e,v=xt(_,D),f=V.idx=wt(v,n[0],Le,Pe),M=C(n[0][f],b,p,0));let T=-10,E=-10,Y=0,oe=0,ne=!0,Z="",W="";for(let R=s==2?1:0;R<k.length;R++){let ge=k[R],ve=fe[R],ze=ve==null?null:s==1?n[R][ve]:n[R][1][ve],ue=V.dataIdx(i,R,f,v),ke=ue==null?null:s==1?n[R][ue]:n[R][1][ue];if(ot=ot||ke!=ze||ue!=ve,fe[R]=ue,R>0&&ge.show){let Ze=ue==null?-10:ue==f?M:C(s==1?n[0][ue]:n[R][0][ue],b,p,0),Ge=ke==null?-10:I(ke,s==1?x[ge.scale]:x[ge.facets[1].scale],S,0);if(rl&&ke!=null){let rt=b.ori==1?he:_e,mt=Ee(vt.dist(i,R,ue,Ge,rt));if(mt<Dt){let bt=vt.bias;if(bt!=0){let Qe=xt(rt,ge.scale),ft=ke>=0?1:-1,gt=Qe>=0?1:-1;gt==ft&&(gt==1?bt==1?ke>=Qe:ke<=Qe:bt==1?ke<=Qe:ke>=Qe)&&(Dt=mt,Ft=R)}else Dt=mt,Ft=R}}if(ot||fl){let rt,mt;b.ori==0?(rt=Ze,mt=Ge):(rt=Ge,mt=Ze);let bt,Qe,ft,gt,Mt,Ie,Xe=!0,$t=Ne.bbox;if($t!=null){Xe=!1;let Ye=$t(i,R);ft=Ye.left,gt=Ye.top,bt=Ye.width,Qe=Ye.height}else ft=rt,gt=mt,bt=Qe=Ne.size(i,R);if(Ie=Ne.fill(i,R),Mt=Ne.stroke(i,R),fl)R==Ft&&Dt<=vt.prox&&(T=ft,E=gt,Y=bt,oe=Qe,ne=Xe,Z=Ie,W=Mt);else{let Ye=st[R];Ye!=null&&(ul[R]=ft,cl[R]=gt,ro(Ye,bt,Qe,Xe),oo(Ye,Ie,Mt),Tt(Ye,ct(ft),ct(gt),K,A))}}}}if(fl){let R=vt.prox,ge=jt==null?Dt<=R:Dt>R||Ft!=jt;if(ot||ge){let ve=st[0];ve!=null&&(ul[0]=T,cl[0]=E,ro(ve,Y,oe,ne),oo(ve,Z,W),Tt(ve,ct(T),ct(E),K,A))}}}if(me.show&&Rt)if(t!=null){let[_,v]=xe.scales,[M,T]=xe.match,[E,Y]=t.cursor.sync.scales,oe=t.cursor.drag;if(Ce=oe._x,Ve=oe._y,Ce||Ve){let{left:ne,top:Z,width:W,height:R}=t.select,ge=t.scales[E].ori,ve=t.posToVal,ze,ue,ke,Ze,Ge,rt=_!=null&&M(_,E),mt=v!=null&&T(v,Y);rt&&Ce?(ge==0?(ze=ne,ue=W):(ze=Z,ue=R),ke=x[_],Ze=C(ve(ze,E),ke,p,0),Ge=C(ve(ze+ue,E),ke,p,0),zl(St(Ze,Ge),Ee(Ge-Ze))):zl(0,p),mt&&Ve?(ge==1?(ze=ne,ue=W):(ze=Z,ue=R),ke=x[v],Ze=I(ve(ze,Y),ke,S,0),Ge=I(ve(ze+ue,Y),ke,S,0),Fl(St(Ze,Ge),Ee(Ge-Ze))):Fl(0,S)}else On()}else{let _=Ee(Vi-Pi),v=Ee(Ri-Ci);if(b.ori==1){let Y=_;_=v,v=Y}Ce=He.x&&_>=He.dist,Ve=He.y&&v>=He.dist;let M=He.uni;M!=null?Ce&&Ve&&(Ce=_>=M,Ve=v>=M,!Ce&&!Ve&&(v>_?Ve=!0:Ce=!0)):He.x&&He.y&&(Ce||Ve)&&(Ce=Ve=!0);let T,E;Ce&&(b.ori==0?(T=dl,E=he):(T=wl,E=_e),zl(St(T,E),Ee(E-T)),Ve||Fl(0,S)),Ve&&(b.ori==1?(T=dl,E=he):(T=wl,E=_e),Fl(St(T,E),Ee(E-T)),Ce||zl(0,p)),!Ce&&!Ve&&(zl(0,0),Fl(0,0))}if(He._x=Ce,He._y=Ve,t==null){if(r){if(ji!=null){let[_,v]=xe.scales;xe.values[0]=_!=null?xt(b.ori==0?he:_e,_):null,xe.values[1]=v!=null?xt(b.ori==1?he:_e,v):null}Nl(Yn,i,he,_e,K,A,f)}if(rl){let _=r&&xe.setSeries,v=vt.prox;jt==null?Dt<=v&&kt(Ft,_l,!0,_):Dt>v?kt(null,_l,!0,_):Ft!=jt&&kt(Ft,_l,!0,_)}}ot&&(J.idx=f,Fn()),l!==!1&&Re("setCursor")}let Ht=null;Object.defineProperty(i,"rect",{get(){return Ht==null&&Hl(!1),Ht}});function Hl(t=!1){t?Ht=null:(Ht=L.getBoundingClientRect(),Re("syncRect",Ht))}function Hi(t,l,r,f,c,p,S){V._lock||Rt&&t!=null&&t.movementX==0&&t.movementY==0||(Hn(t,l,r,f,c,p,S,!1,t!=null),t!=null?qt(null,!0,!0):qt(l,!0,!1))}function Hn(t,l,r,f,c,p,S,_,v){if(Ht==null&&Hl(!1),Ut(t),t!=null)r=t.clientX-Ht.left,f=t.clientY-Ht.top;else{if(r<0||f<0){he=-10,_e=-10;return}let[M,T]=xe.scales,E=l.cursor.sync,[Y,oe]=E.values,[ne,Z]=E.scales,[W,R]=xe.match,ge=l.axes[0].side%2==1,ve=b.ori==0?K:A,ze=b.ori==1?K:A,ue=ge?p:c,ke=ge?c:p,Ze=ge?f:r,Ge=ge?r:f;if(ne!=null?r=W(M,ne)?h(Y,x[M],ve,0):-10:r=ve*(Ze/ue),Z!=null?f=R(T,Z)?h(oe,x[T],ze,0):-10:f=ze*(Ge/ke),b.ori==1){let rt=r;r=f,f=rt}}v&&(l==null||l.cursor.event.type==Yn)&&((r<=1||r>=K-1)&&(r=Jt(r,K)),(f<=1||f>=A-1)&&(f=Jt(f,A))),_?(Pi=r,Ci=f,[dl,wl]=V.move(i,r,f)):(he=r,_e=f)}const Nn={width:0,height:0,left:0,top:0};function On(){tn(Nn,!1)}let Ni,Oi,Wi,Gi;function Ii(t,l,r,f,c,p,S){Rt=!0,Ce=Ve=He._x=He._y=!1,Hn(t,l,r,f,c,p,S,!0,!1),t!=null&&(We(Bn,$n,Yi,!1),Nl(Qi,i,dl,wl,K,A,null));let{left:_,top:v,width:M,height:T}=me;Ni=_,Oi=v,Wi=M,Gi=T}function Yi(t,l,r,f,c,p,S){Rt=He._x=He._y=!1,Hn(t,l,r,f,c,p,S,!1,!0);let{left:_,top:v,width:M,height:T}=me,E=M>0||T>0,Y=Ni!=_||Oi!=v||Wi!=M||Gi!=T;if(E&&Y&&tn(me),He.setScale&&E&&Y){let oe=_,ne=M,Z=v,W=T;if(b.ori==1&&(oe=v,ne=T,Z=_,W=M),Ce&&zt(D,xt(oe,D),xt(oe+ne,D)),Ve)for(let R in x){let ge=x[R];R!=D&&ge.from==null&&ge.min!=ce&&zt(R,xt(Z+W,R),xt(Z,R))}On()}else V.lock&&(V._lock=!V._lock,qt(l,!0,t!=null));t!=null&&(il(Bn,$n),Nl(Bn,i,he,_e,K,A,null))}function $s(t,l,r,f,c,p,S){if(V._lock)return;Ut(t);let _=Rt;if(Rt){let v=!0,M=!0,T=10,E,Y;b.ori==0?(E=Ce,Y=Ve):(E=Ve,Y=Ce),E&&Y&&(v=he<=T||he>=K-T,M=_e<=T||_e>=A-T),E&&v&&(he=he<dl?0:K),Y&&M&&(_e=_e<wl?0:A),qt(null,!0,!0),Rt=!1}he=-10,_e=-10,fe.fill(null),qt(null,!0,!0),_&&(Rt=_)}function Bi(t,l,r,f,c,p,S){V._lock||(Ut(t),vn(),On(),t!=null&&Nl(to,i,he,_e,K,A,null))}function Ui(){N.forEach(Kf),yn(i.width,i.height,!0)}Xt(fn,xl,Ui);const yl={};yl.mousedown=Ii,yl.mousemove=Hi,yl.mouseup=Yi,yl.dblclick=Bi,yl.setSeries=(t,l,r,f)=>{let c=xe.match[2];r=c(i,l,r),r!=-1&&kt(r,f,!0,!1)},Oe&&(We(Qi,L,Ii),We(Yn,L,Hi),We(Xi,L,t=>{Ut(t),Hl(!1)}),We(eo,L,$s),We(to,L,Bi),ni.add(i),i.syncRect=Hl);const ln=i.hooks=e.hooks||{};function Re(t,l,r){Cn?Rl.push([t,l,r]):t in ln&&ln[t].forEach(f=>{f.call(null,i,l,r)})}(e.plugins||[]).forEach(t=>{for(let l in t.hooks)ln[l]=(ln[l]||[]).concat(t.hooks[l])});const Ki=(t,l,r)=>r,xe=be({key:null,setSeries:!1,filters:{pub:po,sub:po},scales:[D,k[1]?k[1].scale:null],match:[ho,ho,Ki],values:[null,null]},V.sync);xe.match.length==2&&xe.match.push(Ki),V.sync=xe;const ji=xe.key,Wn=cs(ji);function Nl(t,l,r,f,c,p,S){xe.filters.pub(t,l,r,f,c,p,S)&&Wn.pub(t,l,r,f,c,p,S)}Wn.sub(i);function Js(t,l,r,f,c,p,S){xe.filters.sub(t,l,r,f,c,p,S)&&yl[t](null,l,r,f,c,p,S)}i.pub=Js;function Zs(){Wn.unsub(i),ni.delete(i),Wt.clear(),Qn(fn,xl,Ui),g.remove(),le==null||le.remove(),Re("destroy")}i.destroy=Zs;function Gn(){Re("init",e,n),xi(n||e.data,!1),F[D]?Vn(D,F[D]):vn(),$l=me.show&&(me.width>0||me.height>0),Bt=ot=!0,yn(e.width,e.height)}return k.forEach(vi),N.forEach(Ds),o?o instanceof HTMLElement?(o.appendChild(g),Gn()):o(i,Gn):Gn(),i}Ue.assign=be;Ue.fmtNum=ci;Ue.rangeNum=un;Ue.rangeLog=pn;Ue.rangeAsinh=fi;Ue.orient=tl;Ue.pxRatio=se;Ue.join=Fr;Ue.fmtDate=pi,Ue.tzDate=jr;Ue.sync=cs;{Ue.addGap=Lf,Ue.clipGaps=gn;let e=Ue.paths={points:ds};e.linear=Ss,e.stepped=Vf,e.bars=Rf,e.spline=Ff}export{Ue as u};
