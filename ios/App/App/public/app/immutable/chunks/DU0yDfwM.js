import{c as Le,a as y,t as L,n as Ge,b as Ke}from"./UqHQliqT.js";import"./BobBf3LW.js";import{q as Ve,ac as Y,r as Je,i as m,b as _,m as F,x as f,v as g,w as v,t as K}from"./BY0siJxM.js";import{e as se,s as Q}from"./dBCsEaYE.js";import{i as U}from"./87PK3omT.js";import{a as Ye}from"./D9eSQbZM.js";import{i as Qe}from"./DjL_iSOh.js";import{s as Xe,a as Ee}from"./Dr4YdYOh.js";import{o as Ze}from"./CaWVKLqx.js";import{a as Ne,y as et}from"./Ch0D86az.js";import{t as Te}from"./BhffkHaN.js";import{g as Se}from"./L9DX_Q9Y.js";import{_ as tt}from"./Dp1pzeXC.js";/*! Capacitor: https://capacitorjs.com/ - MIT License */var X;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(X||(X={}));class he extends Error{constructor(e,r,s){super(e),this.message=e,this.code=r,this.data=s}}const rt=t=>{var e,r;return t!=null&&t.androidBridge?"android":!((r=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||r===void 0)&&r.bridge?"ios":"web"},it=t=>{const e=t.CapacitorCustomPlatform||null,r=t.Capacitor||{},s=r.Plugins=r.Plugins||{},o=()=>e!==null?e.name:rt(t),i=()=>o()!=="web",a=c=>{const u=E.get(c);return!!(u!=null&&u.platforms.has(o())||d(c))},d=c=>{var u;return(u=r.PluginHeaders)===null||u===void 0?void 0:u.find(j=>j.name===c)},p=c=>t.console.error(c),E=new Map,N=(c,u={})=>{const j=E.get(c);if(j)return console.warn(`Capacitor plugin "${c}" already registered. Cannot register plugins twice.`),j.proxy;const T=o(),z=d(c);let D;const ue=async()=>(!D&&T in u?D=typeof u[T]=="function"?D=await u[T]():D=u[T]:e!==null&&!D&&"web"in u&&(D=typeof u.web=="function"?D=await u.web():D=u.web),D),ne=(n,l)=>{var w,P;if(z){const h=z==null?void 0:z.methods.find(b=>l===b.name);if(h)return h.rtype==="promise"?b=>r.nativePromise(c,l.toString(),b):(b,B)=>r.nativeCallback(c,l.toString(),b,B);if(n)return(w=n[l])===null||w===void 0?void 0:w.bind(n)}else{if(n)return(P=n[l])===null||P===void 0?void 0:P.bind(n);throw new he(`"${c}" plugin is not implemented on ${T}`,X.Unimplemented)}},Z=n=>{let l;const w=(...P)=>{const h=ue().then(b=>{const B=ne(b,n);if(B){const H=B(...P);return l=H==null?void 0:H.remove,H}else throw new he(`"${c}.${n}()" is not implemented on ${T}`,X.Unimplemented)});return n==="addListener"&&(h.remove=async()=>l()),h};return w.toString=()=>`${n.toString()}() { [capacitor code] }`,Object.defineProperty(w,"name",{value:n,writable:!1,configurable:!1}),w},ee=Z("addListener"),ae=Z("removeListener"),fe=(n,l)=>{const w=ee({eventName:n},l),P=async()=>{const b=await w;ae({eventName:n,callbackId:b},l)},h=new Promise(b=>w.then(()=>b({remove:P})));return h.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await P()},h},te=new Proxy({},{get(n,l){switch(l){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return z?fe:ee;case"removeListener":return ae;default:return Z(l)}}});return s[c]=te,E.set(c,{name:c,proxy:te,platforms:new Set([...Object.keys(u),...z?[T]:[]])}),te};return r.convertFileSrc||(r.convertFileSrc=c=>c),r.getPlatform=o,r.handleError=p,r.isNativePlatform=i,r.isPluginAvailable=a,r.registerPlugin=N,r.Exception=he,r.DEBUG=!!r.DEBUG,r.isLoggingEnabled=!!r.isLoggingEnabled,r},ot=t=>t.Capacitor=it(t),be=ot(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),xe=be.registerPlugin;class Ue{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,r){let s=!1;this.listeners[e]||(this.listeners[e]=[],s=!0),this.listeners[e].push(r);const i=this.windowListeners[e];i&&!i.registered&&this.addWindowListener(i),s&&this.sendRetainedArgumentsForEvent(e);const a=async()=>this.removeListener(e,r);return Promise.resolve({remove:a})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,r,s){const o=this.listeners[e];if(!o){if(s){let i=this.retainedEventArguments[e];i||(i=[]),i.push(r),this.retainedEventArguments[e]=i}return}o.forEach(i=>i(r))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,r){this.windowListeners[r]={registered:!1,windowEventName:e,pluginEventName:r,handler:s=>{this.notifyListeners(r,s)}}}unimplemented(e="not implemented"){return new be.Exception(e,X.Unimplemented)}unavailable(e="not available"){return new be.Exception(e,X.Unavailable)}async removeListener(e,r){const s=this.listeners[e];if(!s)return;const o=s.indexOf(r);this.listeners[e].splice(o,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const r=this.retainedEventArguments[e];r&&(delete this.retainedEventArguments[e],r.forEach(s=>{this.notifyListeners(e,s)}))}}const Oe=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),je=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class st extends Ue{async getCookies(){const e=document.cookie,r={};return e.split(";").forEach(s=>{if(s.length<=0)return;let[o,i]=s.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");o=je(o).trim(),i=je(i).trim(),r[o]=i}),r}async setCookie(e){try{const r=Oe(e.key),s=Oe(e.value),o=`; expires=${(e.expires||"").replace("expires=","")}`,i=(e.path||"/").replace("path=",""),a=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${r}=${s||""}${o}; path=${i}; ${a};`}catch(r){return Promise.reject(r)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(r){return Promise.reject(r)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const r of e)document.cookie=r.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}xe("CapacitorCookies",{web:()=>new st});const nt=async t=>new Promise((e,r)=>{const s=new FileReader;s.onload=()=>{const o=s.result;e(o.indexOf(",")>=0?o.split(",")[1]:o)},s.onerror=o=>r(o),s.readAsDataURL(t)}),at=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(o=>o.toLocaleLowerCase()).reduce((o,i,a)=>(o[i]=t[e[a]],o),{})},ct=(t,e=!0)=>t?Object.entries(t).reduce((s,o)=>{const[i,a]=o;let d,p;return Array.isArray(a)?(p="",a.forEach(E=>{d=e?encodeURIComponent(E):E,p+=`${i}=${d}&`}),p.slice(0,-1)):(d=e?encodeURIComponent(a):a,p=`${i}=${d}`),`${s}&${p}`},"").substr(1):null,lt=(t,e={})=>{const r=Object.assign({method:t.method||"GET",headers:t.headers},e),o=at(t.headers)["content-type"]||"";if(typeof t.data=="string")r.body=t.data;else if(o.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[a,d]of Object.entries(t.data||{}))i.set(a,d);r.body=i.toString()}else if(o.includes("multipart/form-data")||t.data instanceof FormData){const i=new FormData;if(t.data instanceof FormData)t.data.forEach((d,p)=>{i.append(p,d)});else for(const d of Object.keys(t.data))i.append(d,t.data[d]);r.body=i;const a=new Headers(r.headers);a.delete("content-type"),r.headers=a}else(o.includes("application/json")||typeof t.data=="object")&&(r.body=JSON.stringify(t.data));return r};class dt extends Ue{async request(e){const r=lt(e,e.webFetchExtra),s=ct(e.params,e.shouldEncodeUrlParams),o=s?`${e.url}?${s}`:e.url,i=await fetch(o,r),a=i.headers.get("content-type")||"";let{responseType:d="text"}=i.ok?e:{};a.includes("application/json")&&(d="json");let p,E;switch(d){case"arraybuffer":case"blob":E=await i.blob(),p=await nt(E);break;case"json":p=await i.json();break;case"document":case"text":default:p=await i.text()}const N={};return i.headers.forEach((c,u)=>{N[u]=c}),{data:p,headers:N,status:i.status,url:i.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}xe("CapacitorHttp",{web:()=>new dt});var Ae;(function(t){t[t.Sunday=1]="Sunday",t[t.Monday=2]="Monday",t[t.Tuesday=3]="Tuesday",t[t.Wednesday=4]="Wednesday",t[t.Thursday=5]="Thursday",t[t.Friday=6]="Friday",t[t.Saturday=7]="Saturday"})(Ae||(Ae={}));const W=xe("LocalNotifications",{web:()=>tt(()=>import("./RVfoSkYI.js"),[],import.meta.url).then(t=>new t.LocalNotificationsWeb)}),V=()=>typeof window<"u"&&!$(),$=()=>{try{return typeof window<"u"&&window.Capacitor!==void 0&&(window.Capacitor.isNative===!0||window.Capacitor.Plugins!==void 0&&window.Capacitor.platform!=="web")}catch(t){return console.error("Error in isPlatformNative:",t),!1}},_e=()=>Math.abs(new Date().getTime()%2e9),De=async()=>{try{if(V())return"Notification"in window?Notification.permission:"unsupported";if($()){const{display:t}=await W.checkPermissions();return t}return"unsupported"}catch(t){return console.error("Error checking notification permission:",t),"unsupported"}},Me=async()=>{try{if(V())return"Notification"in window?await Notification.requestPermission():"unsupported";if($()){const{display:t}=await W.requestPermissions();return t}return"unsupported"}catch(t){return console.error("Error requesting notification permission:",t),"denied"}},Pe=()=>{try{if(V())return"Notification"in window;if($()&&typeof window<"u"&&window.Capacitor!==void 0&&window.Capacitor.Plugins!==void 0)return"LocalNotifications"in window.Capacitor.Plugins}catch(t){console.error("Error checking for notification support:",t)}return!1},qe=async({title:t="Divine Timing",body:e="Take a breath and notice how you feel right now."})=>{try{if(console.log("Sending test notification..."),console.log("Platform detection - is web:",V()),console.log("Platform detection - is native:",$()),typeof window<"u"&&window.Capacitor?(console.log("Capacitor object exists"),console.log("Capacitor.isNative:",window.Capacitor.isNative),console.log("Capacitor.platform:",window.Capacitor.platform),console.log("Capacitor.Plugins exists:",!!window.Capacitor.Plugins),window.Capacitor.Plugins&&(console.log("Available plugins:",Object.keys(window.Capacitor.Plugins)),console.log("LocalNotifications exists:","LocalNotifications"in window.Capacitor.Plugins))):console.log("Capacitor object not found in window"),console.log("Notifications supported:",Pe()),V())if("Notification"in window)if(Notification.permission==="granted"){const r=new Notification(t,{body:e,icon:"/favicon.png",tag:"divine-timing-test"});return r.onclick=()=>{window.focus(),r.close()},console.log("Web notification sent successfully"),{success:!0}}else return console.error("Notification permission not granted"),{success:!1,error:"Permission not granted"};else return console.error("Web Notifications API not supported"),{success:!1,error:"Notifications not supported"};else if($()){const r=_e();return(await W.checkPermissions()).display!=="granted"&&(await W.requestPermissions()).display!=="granted"?(console.error("Native notification permission not granted"),{success:!1,error:"Permission not granted"}):(await W.schedule({notifications:[{id:r,title:t,body:e,largeBody:e,summaryText:"Divine Timing",smallIcon:"ic_stat_icon",iconColor:"#4D44B3",sound:"divine_timing.wav",schedule:{at:new Date(Date.now()+1e3)}}]}),console.log("Native notification sent successfully"),{success:!0})}return console.error("Unknown platform or environment"),{success:!1,error:"Unknown platform"}}catch(r){return console.error("Error sending test notification:",r),{success:!1,error:r}}},ut=async({title:t,body:e,scheduledTime:r,id:s})=>{try{const o=s||_e();if($())return await W.schedule({notifications:[{id:o,title:t,body:e,largeBody:e,summaryText:"Divine Timing",smallIcon:"ic_stat_icon",iconColor:"#4D44B3",schedule:{at:r}}]}),{success:!0};if(V()){if("Notification"in window&&Notification.permission==="granted"){const i=r.getTime()-Date.now();return i>0&&setTimeout(()=>{const a=new Notification(t,{body:e,icon:"/favicon.png",tag:`divine-timing-${o}`});a.onclick=()=>{window.focus(),a.close()}},i),{success:!0}}return{success:!1,error:"Web notifications not supported or permission not granted"}}return{success:!1,error:"Unknown platform"}}catch(o){return console.error("Error scheduling notification:",o),{success:!1,error:o}}},ft=async()=>{if($())try{W.addListener("localNotificationReceived",t=>{console.log("Notification received:",t)}),W.addListener("localNotificationActionPerformed",t=>{console.log("Notification action performed:",t)}),console.log("Native notifications initialized")}catch(t){console.error("Error initializing native notifications:",t)}},ye={generateNotificationId:_e,checkNotificationPermission:De,requestNotificationPermission:Me,areNotificationsSupported:Pe,sendTestNotification:qe,scheduleNotification:ut,initializeNotifications:ft,isPlatformWeb:V,isPlatformNative:$};var gt=L('<div class="loading-state svelte-jugf2z"><div class="loading-spinner svelte-jugf2z"></div> <div class="loading-text svelte-jugf2z">Loading settings...</div></div>'),vt=L('<div class="unauth-state svelte-jugf2z">You are not logged in. <a href="/login">Go to login</a>.</div>'),mt=L('<span class="text-xl">☀️</span>'),pt=L('<span class="text-xl">🌙</span>'),wt=Ge('<svg class="-ml-1 mr-2 h-4 w-4 animate-spin text-white" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> ',1),ht=L('<div class="mt-4 rounded-lg bg-green-50 p-4 dark:bg-green-900/20"><div class="flex items-center"><div class="mr-3 h-4 w-4 text-green-400"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg></div> <div><p class="text-sm font-medium text-green-800 dark:text-green-200">Notification sent!</p> <p class="mt-1 text-xs text-green-700 dark:text-green-300"> </p></div></div></div>'),yt=L('<div class="mt-4 rounded-lg bg-red-50 p-4 dark:bg-red-900/20"><div class="flex items-center"><div class="mr-3 h-4 w-4 text-red-400"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg></div> <div><p class="text-sm font-medium text-red-800 dark:text-red-200">Error sending notification</p> <p class="mt-1 text-xs text-red-700 dark:text-red-300"> </p></div></div></div>'),bt=L('<div class="mb-4 flex items-center space-x-2"><div class="h-3 w-3 rounded-full bg-green-500"></div> <span class="text-sm text-gray-700 dark:text-gray-300">Notifications enabled</span></div> <p class="mb-4 text-sm text-gray-600 dark:text-gray-400">You will receive Divine Timing reminders throughout your day to help you stay present and mindful.</p> <button class="bg-gradient-to-r from-primary-600 to-secondary-500 hover:from-primary-700 hover:to-secondary-600 focus:ring-primary-500 mb-2 inline-flex items-center rounded-lg px-4 py-2 font-medium text-white shadow-sm transition-all focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-70"><!></button> <!> <!>',1),xt=L('<div class="mb-4 flex items-center space-x-2"><div class="h-3 w-3 rounded-full bg-yellow-500"></div> <span class="text-sm text-gray-700 dark:text-gray-300">Notifications not enabled</span></div> <p class="mb-4 text-sm text-gray-600 dark:text-gray-400">Enable notifications to receive Divine Timing reminders throughout your day.</p> <button class="bg-gradient-to-r from-primary-600 to-secondary-500 hover:from-primary-700 hover:to-secondary-600 focus:ring-primary-500 inline-block rounded-lg px-4 py-2 font-medium text-white shadow-sm transition-all focus:outline-none focus:ring-2 focus:ring-offset-2">Enable Notifications</button>',1),_t=L('<div class="mb-4 flex items-center space-x-2"><div class="h-3 w-3 rounded-full bg-yellow-500"></div> <span class="text-sm text-gray-700 dark:text-gray-300">Notifications not enabled</span></div> <p class="mb-4 text-sm text-gray-600 dark:text-gray-400">Enable notifications to receive Divine Timing reminders throughout your day.</p> <button class="bg-gradient-to-r from-primary-600 to-secondary-500 hover:from-primary-700 hover:to-secondary-600 focus:ring-primary-500 inline-block rounded-lg px-4 py-2 font-medium text-white shadow-sm transition-all focus:outline-none focus:ring-2 focus:ring-offset-2">Enable Notifications</button>',1),Pt=L('<div class="rounded-lg border border-yellow-200 bg-yellow-50 p-4 text-sm text-yellow-800 dark:border-yellow-700/30 dark:bg-yellow-900/20 dark:text-yellow-500"><p>Notifications are not supported in this environment. Please try using a different browser or device.</p></div>'),kt=L('<img alt="Profile" class="h-12 w-12 rounded-full">'),Ct=L('<div class="bg-primary-100 text-primary-700 flex h-12 w-12 items-center justify-center rounded-full font-bold dark:bg-primary-900/30 dark:text-primary-300"> </div>'),Lt=L('<div class="mb-6 flex items-center space-x-4"><!> <div><div class="font-medium text-gray-900 dark:text-white"> </div> <div class="text-sm text-gray-500 dark:text-gray-400"> </div></div></div>'),Et=L('<div class="settings-page mx-auto max-w-2xl space-y-8 p-4"><h1 class="mb-8 text-2xl font-bold text-gray-900 dark:text-white">Settings</h1> <div class="rounded-lg bg-white p-6 shadow-md dark:bg-gray-800"><h2 class="mb-4 text-lg font-semibold text-gray-900 dark:text-white">Appearance</h2> <div class="flex items-center justify-between"><span class="text-gray-700 dark:text-gray-300">Dark Mode</span> <button class="ml-4 rounded-full bg-gray-200 p-2 text-gray-600 transition-colors hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600"><!></button></div></div> <div class="rounded-lg bg-white p-6 shadow-md dark:bg-gray-800"><h2 class="mb-4 text-lg font-semibold text-gray-900 dark:text-white">Divine Timing</h2> <!></div> <div class="rounded-lg bg-white p-6 shadow-md dark:bg-gray-800"><h2 class="mb-4 text-lg font-semibold text-gray-900 dark:text-white">Account</h2> <!> <button class="w-full rounded-lg border border-red-300 bg-white py-2 font-medium text-red-600 transition-colors hover:bg-red-50 dark:border-red-700 dark:bg-transparent dark:text-red-400 dark:hover:bg-red-900/20">Sign Out</button></div></div>');function Bt(t,e){Ve(e,!1);const[r,s]=Xe(),o=()=>Ee(Te,"$theme",r),i=()=>Ee(Ne,"$authStore",r);let a=F("default"),d=F(!1),p=F(!1),E=F(""),N=F(""),c=F(""),u=F(!0),j=F(!1),T=!1;const z=()=>{Te.set(o()==="dark"?"light":"dark")};(()=>{T=ye.isPlatformWeb(),m(j,ye.isPlatformNative()),console.log("Platform detection - isWeb:",T,"isNative:",_(j)),m(u,Pe()),console.log("Notifications supported:",_(u))})(),Ze(()=>{const n=Ne.subscribe(w=>{var P;(P=w.user)!=null&&P.uid,!w.loading&&w.user&&l()}),l=async()=>{_(u)&&(m(a,await De()),console.log("Permission status:",_(a))),_(j)&&await ye.initializeNotifications()};return()=>{n()}});const ue=async()=>{await et(),Se("/login")},ne=async()=>{try{T?Se("/notification-permission"):_(j)&&m(a,await Me())}catch(n){console.error("Error requesting permission:",n)}},Z=async()=>{var n;try{m(d,!0),m(N,"Preparing notification test..."),m(c,""),console.log("Running notification test from settings page"),console.log("Platform detection - isWeb:",T,"isNative:",_(j));const l=["Take a breath and notice how you feel right now.","What emotion is present for you in this moment?","Notice the energy flowing through your body.","Find the still point within you, even if just for a moment.","Where is your mind right now? Bring it back to your body.","Breathe in awareness, breathe out tension.","What is one thing you can appreciate in this moment?"],w=Math.floor(Math.random()*l.length),P=l[w];m(E,P),m(N,"Sending notification...");const h=await qe({title:"Divine Timing",body:P});h.success?(console.log("Notification sent successfully"),m(N,"Notification sent successfully!"),m(p,!0),setTimeout(()=>{m(p,!1),m(N,"")},5e3)):(m(N,"Failed to send notification"),m(c,((n=h.error)==null?void 0:n.toString())||"Unknown error")),m(d,!1)}catch(l){console.error("Error sending test notification:",l),m(d,!1),m(N,"Error encountered"),m(c,l instanceof Error?l.message:"Unknown error occurred")}};Qe();var ee=Le(),ae=Y(ee);{var fe=n=>{var l=gt();y(n,l)},te=(n,l)=>{{var w=h=>{var b=vt();y(h,b)},P=h=>{var b=Et(),B=f(g(b),2),H=f(g(B),2),ge=f(g(H),2),Re=g(ge);{var $e=x=>{var S=mt();y(x,S)},ze=x=>{var S=pt();y(x,S)};U(Re,x=>{o()==="dark"?x($e):x(ze,!1)})}v(ge),v(H),v(B);var ve=f(B,2),Be=f(g(ve),2);{var Ie=x=>{var S=Le(),J=Y(S);{var re=k=>{var A=bt(),q=f(Y(A),4),ce=g(q);{var me=C=>{var O=wt(),G=f(Y(O),1,!0);K(()=>Q(G,_(N)||"Sending...")),y(C,O)},I=C=>{var O=Ke("Test Notification");y(C,O)};U(ce,C=>{_(d)?C(me):C(I,!1)})}v(q);var R=f(q,2);{var pe=C=>{var O=ht(),G=g(O),ie=f(g(G),2),oe=f(g(ie),2),we=g(oe);v(oe),v(ie),v(G),v(O),K(()=>Q(we,`"${_(E)??""}"`)),y(C,O)};U(R,C=>{_(p)&&C(pe)})}var le=f(R,2);{var de=C=>{var O=yt(),G=g(O),ie=f(g(G),2),oe=f(g(ie),2),we=g(oe,!0);v(oe),v(ie),v(G),v(O),K(()=>Q(we,_(c))),y(C,O)};U(le,C=>{_(c)&&C(de)})}K(()=>q.disabled=_(d)),se("click",q,Z),y(k,A)},M=k=>{var A=xt(),q=f(Y(A),4);se("click",q,ne),y(k,A)};U(J,k=>{_(a)==="granted"?k(re):k(M,!1)})}y(x,S)},Fe=(x,S)=>{{var J=M=>{var k=_t(),A=f(Y(k),4);se("click",A,ne),y(M,k)},re=M=>{var k=Pt();y(M,k)};U(x,M=>{_(j)?M(J):M(re,!1)},S)}};U(Be,x=>{_(u)?x(Ie):x(Fe,!1)})}v(ve);var ke=f(ve,2),Ce=f(g(ke),2);{var We=x=>{var S=Lt(),J=g(S);{var re=I=>{var R=kt();K(()=>Ye(R,"src",i().user.photoURL)),y(I,R)},M=I=>{var R=Ct(),pe=g(R,!0);v(R),K(()=>{var le,de;return Q(pe,((le=i().user.displayName)==null?void 0:le[0])||((de=i().user.email)==null?void 0:de[0])||"U")}),y(I,R)};U(J,I=>{i().user.photoURL?I(re):I(M,!1)})}var k=f(J,2),A=g(k),q=g(A,!0);v(A);var ce=f(A,2),me=g(ce,!0);v(ce),v(k),v(S),K(()=>{Q(q,i().user.displayName||"User"),Q(me,i().user.email)}),y(x,S)};U(Ce,x=>{i().user&&x(We)})}var He=f(Ce,2);v(ke),v(b),se("click",ge,z),se("click",He,ue),y(h,b)};U(n,h=>{i().user?h(P,!1):h(w)},l)}};U(ae,n=>{i().loading?n(fe):n(te,!1)})}y(t,ee),Je(),s()}export{Ue as W,Bt as _};
