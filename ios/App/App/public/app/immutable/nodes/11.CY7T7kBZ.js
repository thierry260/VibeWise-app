import{t as f,a as c}from"../chunks/CBOLqkOR.js";import{i as Y}from"../chunks/DYliPJ25.js";import{p as z,o as D,t as _,b as L,s as t,m as b,c as o,e as p,g as v,r as a,a3 as R}from"../chunks/Gd2MJtJw.js";import{s as k,e as S}from"../chunks/6F2tKI9t.js";import{i as h}from"../chunks/DEjGzwbK.js";import{g as j}from"../chunks/odb1_Vw7.js";var U=f('<div class="h-12 w-12 animate-spin rounded-full border-4 border-gray-200 border-t-primary-600"></div>'),A=f('<div class="text-red-500"><svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div>'),F=f('<div class="text-green-500"><svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg></div>'),G=f('<p class="mb-6 text-center text-sm text-red-600 dark:text-red-400"> </p> <div class="flex justify-center"><button class="rounded-lg bg-primary-600 px-4 py-2 text-white hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2">Back to Settings</button></div>',1),H=f('<div class="flex min-h-screen flex-col items-center justify-center bg-gray-50 p-4 dark:bg-gray-900"><div class="w-full max-w-md rounded-lg bg-white p-8 shadow-md dark:bg-gray-800"><h1 class="mb-6 text-center text-2xl font-bold text-gray-900 dark:text-white">Notification Permission</h1> <div class="mb-6 flex justify-center"><!></div> <p class="mb-4 text-center text-lg font-medium text-gray-700 dark:text-gray-300"> </p> <!></div></div>');function W(P,q){z(q,!1);let n=b("Requesting notification permission..."),s=b(""),m=b(!0);D(async()=>{try{setTimeout(async()=>{"Notification"in window?await Notification.requestPermission()==="granted"?(t(n,"Permission granted!"),setTimeout(()=>{j("/settings")},1500)):(t(n,"Permission denied"),t(s,"You need to enable notifications in your browser settings to receive Divine Timing reminders."),t(m,!1)):(t(n,"Notifications not supported"),t(s,"Your browser does not support notifications. Please try using a different browser."),t(m,!1))},500)}catch(e){console.error("Error requesting notification permission:",e),t(n,"Error requesting permission"),t(s,e instanceof Error?e.message:"Unknown error occurred"),t(m,!1)}}),Y();var g=H(),y=o(g),u=p(o(y),2),M=o(u);{var N=e=>{var i=U();c(e,i)},B=(e,i)=>{{var d=r=>{var l=A();c(r,l)},w=r=>{var l=F();c(r,l)};h(e,r=>{v(s)?r(d):r(w,!1)},i)}};h(M,e=>{v(m)?e(N):e(B,!1)})}a(u);var x=p(u,2),E=o(x,!0);a(x);var T=p(x,2);{var C=e=>{var i=G(),d=R(i),w=o(d,!0);a(d);var r=p(d,2),l=o(r);a(r),_(()=>k(w,v(s))),S("click",l,()=>j("/settings")),c(e,i)};h(T,e=>{v(s)&&e(C)})}a(y),a(g),_(()=>k(E,v(n))),c(P,g),L()}export{W as component};
