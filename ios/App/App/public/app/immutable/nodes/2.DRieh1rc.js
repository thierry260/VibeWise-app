import{c as ca,a as M,t as R}from"../chunks/CSgteSvS.js";import"../chunks/D2hW0EMZ.js";import{T as X,aj as va,aG as la,aH as da,z as fa,u as ua,aI as pa,aJ as ma,B as ha,a5 as L,au as Y,av as Z,aw as ga,q as G,ao as H,ap as ra,ac as _a,r as J,i as N,m as A,v as $,w,x,b as d,t as U,d as P}from"../chunks/jbLWzUtC.js";import{b as ba,w as wa,s as B,e as O}from"../chunks/SNwGAtB4.js";import{s as $a}from"../chunks/CCy7pD-5.js";import{s as ia}from"../chunks/CvgfbjKt.js";import{i as V}from"../chunks/sG7jKqtR.js";import{s as K,a as D}from"../chunks/Ul0UnCso.js";import{p as Q}from"../chunks/BL7Xhzn1.js";import{z as ka}from"../chunks/C36XmJx2.js";import{g as j}from"../chunks/BAvhnk5Z.js";import{t as aa}from"../chunks/DafhDkqO.js";import{d as ya,w as xa,o as Fa,a as Ta}from"../chunks/CFgcPMXS.js";import{i as q}from"../chunks/DK1W6Ej9.js";import{e as Na,i as Ea}from"../chunks/BbEiKdn8.js";import{s as ta}from"../chunks/DgVJPhGv.js";import{p as Ca}from"../chunks/MC8t-0GI.js";import{b as Sa}from"../chunks/jUTo_GiH.js";const Wa=()=>performance.now(),E={tick:t=>requestAnimationFrame(t),now:()=>Wa(),tasks:new Set};function na(){const t=E.now();E.tasks.forEach(a=>{a.c(t)||(E.tasks.delete(a),a.f())}),E.tasks.size!==0&&E.tick(na)}function Ma(t){let a;return E.tasks.size===0&&E.tick(na),{promise:new Promise(r=>{E.tasks.add(a={c:t,f:r})}),abort(){E.tasks.delete(a)}}}function z(t,a){wa(()=>{t.dispatchEvent(new CustomEvent(a))})}function Oa(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const a=t.split("-");return a.length===1?a[0]:a[0]+a.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function ea(t){const a={},r=t.split(";");for(const c of r){const[f,e]=c.split(":");if(!f||e===void 0)break;const v=Oa(f.trim());a[v]=e.trim()}return a}const Ra=t=>t;function La(t,a,r,c){var f=(t&pa)!==0,e="both",v,g=a.inert,k=a.style.overflow,n,i;function m(){var u=ga,o=X;Y(null),Z(null);try{return v??(v=r()(a,(c==null?void 0:c())??{},{direction:e}))}finally{Y(u),Z(o)}}var _={is_global:f,in(){a.inert=g,z(a,"introstart"),n=I(a,m(),i,1,()=>{z(a,"introend"),n==null||n.abort(),n=v=void 0,a.style.overflow=k})},out(u){a.inert=!0,z(a,"outrostart"),i=I(a,m(),n,0,()=>{z(a,"outroend"),u==null||u()})},stop:()=>{n==null||n.abort(),i==null||i.abort()}},p=X;if((p.transitions??(p.transitions=[])).push(_),ba){var l=f;if(!l){for(var s=p.parent;s&&(s.f&va)!==0;)for(;(s=s.parent)&&(s.f&la)===0;);l=!s||(s.f&da)!==0}l&&fa(()=>{ua(()=>_.in())})}}function I(t,a,r,c,f){var e=c===1;if(ma(a)){var v,g=!1;return ha(()=>{if(!g){var u=a({direction:e?"in":"out"});v=I(t,u,r,c,f)}}),{abort:()=>{g=!0,v==null||v.abort()},deactivate:()=>v.deactivate(),reset:()=>v.reset(),t:()=>v.t()}}if(r==null||r.deactivate(),!(a!=null&&a.duration))return f(),{abort:L,deactivate:L,reset:L,t:()=>c};const{delay:k=0,css:n,tick:i,easing:m=Ra}=a;var _=[];if(e&&r===void 0&&(i&&i(0,1),n)){var p=ea(n(0,1));_.push(p,p)}var l=()=>1-c,s=t.animate(_,{duration:k});return s.onfinish=()=>{var u=(r==null?void 0:r.t())??1-c;r==null||r.abort();var o=c-u,b=a.duration*Math.abs(o),F=[];if(b>0){var h=!1;if(n)for(var C=Math.ceil(b/16.666666666666668),S=0;S<=C;S+=1){var W=u+o*m(S/C),y=ea(n(W,1-W));F.push(y),h||(h=y.overflow==="hidden")}h&&(t.style.overflow="hidden"),l=()=>{var T=s.currentTime;return u+o*m(T/b)},i&&Ma(()=>{if(s.playState!=="running")return!1;var T=l();return i(T,1-T),!0})}s=t.animate(F,{duration:b,fill:"forwards"}),s.onfinish=()=>{l=()=>c,i==null||i(c,1-c),f()}},{abort:()=>{s&&(s.cancel(),s.effect=null,s.onfinish=L)},deactivate:()=>{f=L},reset:()=>{c===0&&(i==null||i(1,0))},t:()=>l()}}const sa=["/login","/register","/onboarding","/hrv-session/active","/balcony"],Aa=xa({forceHide:!1,forceShow:!1}),za=ya([Q,Aa],([t,a])=>{if(a.forceHide)return!1;if(a.forceShow)return!0;const r=t.url.pathname;if(sa.includes(r))return!1;for(const c of sa)if(c.endsWith("/*")&&r.startsWith(c.slice(0,-2)))return!1;return!0});var Ba=R('<div class="active-indicator svelte-18apc2u"></div>'),Da=R('<a><div class="nav-item-content svelte-18apc2u"><span class="icon svelte-18apc2u"> </span> <span class="label svelte-18apc2u"> </span> <!></div></a>'),Ha=R('<nav class="bottom-nav svelte-18apc2u"></nav>');function Pa(t,a){G(a,!1);const[r,c]=K(),f=()=>D(Q,"$page",r),e=A(),v=[{name:"Home",path:"/home",icon:"🏠"},{name:"Reflect",path:"/reflect",icon:"✍️"},{name:"HRV",path:"/hrv-session",icon:"💓"},{name:"Journey",path:"/journey",icon:"🔮"},{name:"Library",path:"/library",icon:"🧰"}];let g=Ca(a,"hideNavigation",8,!1);H(()=>f(),()=>{N(e,f().url.pathname)}),ra(),V();var k=ca(),n=_a(k);{var i=m=>{var _=Ha();Na(_,5,()=>v,Ea,(p,l)=>{var s=Da();let u;var o=$(s),b=$(o),F=$(b,!0);w(b);var h=x(b,2),C=$(h,!0);w(h);var S=x(h,2);{var W=y=>{var T=Ba();M(y,T)};q(S,y=>{(d(e)===d(l).path||d(e).startsWith(d(l).path+"/"))&&y(W)})}w(o),w(s),U(y=>{ta(s,"href",d(l).path),ta(s,"aria-label",d(l).name),u=ia(s,1,"svelte-18apc2u",null,u,y),B(F,d(l).icon),B(C,d(l).name)},[()=>({active:d(e)===d(l).path||d(e).startsWith(d(l).path+"/")})],P),M(p,s)}),w(_),M(m,_)};q(n,m=>{g()||m(i)})}M(t,k),J(),c()}function ja(t){const a=t-1;return a*a*a+1}function qa(t,{delay:a=0,duration:r=400,easing:c=ja,axis:f="y"}={}){const e=getComputedStyle(t),v=+e.opacity,g=f==="y"?"height":"width",k=parseFloat(e[g]),n=f==="y"?["top","bottom"]:["left","right"],i=n.map(o=>`${o[0].toUpperCase()}${o.slice(1)}`),m=parseFloat(e[`padding${i[0]}`]),_=parseFloat(e[`padding${i[1]}`]),p=parseFloat(e[`margin${i[0]}`]),l=parseFloat(e[`margin${i[1]}`]),s=parseFloat(e[`border${i[0]}Width`]),u=parseFloat(e[`border${i[1]}Width`]);return{delay:a,duration:r,easing:c,css:o=>`overflow: hidden;opacity: ${Math.min(o*20,1)*v};${g}: ${o*k}px;padding-${n[0]}: ${o*m}px;padding-${n[1]}: ${o*_}px;margin-${n[0]}: ${o*p}px;margin-${n[1]}: ${o*l}px;border-${n[0]}-width: ${o*s}px;border-${n[1]}-width: ${o*u}px;min-${g}: 0`}}var Ia=R('<div class="menu-dropdown svelte-1orfekd"><button class="menu-item svelte-1orfekd"><span class="menu-icon svelte-1orfekd">⚙️</span> <span>Settings</span></button> <button class="menu-item svelte-1orfekd"><span class="menu-icon svelte-1orfekd"> </span> <span> </span></button> <button class="menu-item developer svelte-1orfekd"><span class="menu-icon svelte-1orfekd">🔔</span> <span>Test Divine Timing</span></button> <button class="menu-item logout svelte-1orfekd"><span class="menu-icon svelte-1orfekd">🚪</span> <span>Logout</span></button></div>'),Ga=R('<div class="overflow-menu svelte-1orfekd"><button class="menu-toggle svelte-1orfekd" aria-label="More options"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="1"></circle><circle cx="12" cy="5" r="1"></circle><circle cx="12" cy="19" r="1"></circle></svg></button> <!></div>');function Ja(t,a){G(a,!1);const[r,c]=K(),f=()=>D(aa,"$theme",r);let e=A(!1),v=A();function g(){N(e,!d(e))}function k(o){d(v)&&!d(v).contains(o.target)&&d(e)&&N(e,!1)}function n(){aa.set(f()==="dark"?"light":"dark"),N(e,!1)}async function i(){await ka(),j("/login")}function m(){alert("Divine Timing test notification triggered!"),N(e,!1)}function _(){j("/settings"),N(e,!1)}Fa(()=>{document.addEventListener("click",k)}),Ta(()=>{document.removeEventListener("click",k)}),V();var p=Ga(),l=$(p),s=x(l,2);{var u=o=>{var b=Ia(),F=$(b),h=x(F,2),C=$(h),S=$(C,!0);w(C);var W=x(C,2),y=$(W,!0);w(W),w(h);var T=x(h,2),oa=x(T,2);w(b),U(()=>{B(S,f()==="dark"?"☀️":"🌙"),B(y,f()==="dark"?"Light Mode":"Dark Mode")}),O("click",F,_),O("click",h,n),O("click",T,m),O("click",oa,i),La(3,b,()=>qa,()=>({duration:200})),M(o,b)};q(s,o=>{d(e)&&o(u)})}w(p),Sa(p,o=>N(v,o),()=>d(v)),O("click",l,g),M(t,p),J(),c()}var Ua=R('<div class="app-layout svelte-a7n0dp"><header class="app-header svelte-a7n0dp"><div class="logo svelte-a7n0dp"><img src="/vibewise-logo.svg" alt="VibeWise" class="logo-img svelte-a7n0dp"></div> <div class="header-actions svelte-a7n0dp"><!></div></header> <main><!></main> <!></div>');function ft(t,a){G(a,!1);const[r,c]=K(),f=()=>D(Q,"$page",r),e=()=>D(za,"$showNavigation",r),v=A(),g=A(),k=["/login","/register","/onboarding","/hrv-session/active","/balcony"];H(()=>f(),()=>{N(v,f().url.pathname)}),H(()=>d(v),()=>{N(g,k.some(h=>d(v)===h||h.endsWith("/*")&&d(v).startsWith(h.slice(0,-2))))}),ra(),V();var n=Ua(),i=$(n),m=$(i),_=$(m);w(m);var p=x(m,2),l=$(p);Ja(l,{}),w(p),w(i);var s=x(i,2);let u;var o=$(s);$a(o,a,"default",{}),w(s);var b=x(s,2);const F=P(()=>!e()||d(g));Pa(b,{get hideNavigation(){return d(F)}}),w(n),U(h=>u=ia(s,1,"app-content svelte-a7n0dp",null,u,h),[()=>({"has-bottom-nav":e()&&!d(g)})],P),O("click",_,()=>j("/home")),M(t,n),J(),c()}export{ft as component};
