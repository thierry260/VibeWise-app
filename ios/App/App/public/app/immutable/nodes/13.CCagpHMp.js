import{t as m,a as v}from"../chunks/UqHQliqT.js";import"../chunks/BobBf3LW.js";import{q as Y,t as _,r as z,x as p,v as o,i as t,m as b,b as c,w as a,ac as D}from"../chunks/BY0siJxM.js";import{s as k,e as L}from"../chunks/dBCsEaYE.js";import{i as h}from"../chunks/87PK3omT.js";import{i as R}from"../chunks/DjL_iSOh.js";import{o as S}from"../chunks/CaWVKLqx.js";import{g as j}from"../chunks/L9DX_Q9Y.js";var U=m('<div class="h-12 w-12 animate-spin rounded-full border-4 border-gray-200 border-t-primary-600"></div>'),A=m('<div class="text-red-500"><svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div>'),F=m('<div class="text-green-500"><svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg></div>'),G=m('<p class="mb-6 text-center text-sm text-red-600 dark:text-red-400"> </p> <div class="flex justify-center"><button class="rounded-lg bg-primary-600 px-4 py-2 text-white hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2">Back to Settings</button></div>',1),H=m('<div class="flex min-h-screen flex-col items-center justify-center bg-gray-50 p-4 dark:bg-gray-900"><div class="w-full max-w-md rounded-lg bg-white p-8 shadow-md dark:bg-gray-800"><h1 class="mb-6 text-center text-2xl font-bold text-gray-900 dark:text-white">Notification Permission</h1> <div class="mb-6 flex justify-center"><!></div> <p class="mb-4 text-center text-lg font-medium text-gray-700 dark:text-gray-300"> </p> <!></div></div>');function Z(q,P){Y(P,!1);let n=b("Requesting notification permission..."),i=b(""),f=b(!0);S(async()=>{try{setTimeout(async()=>{"Notification"in window?await Notification.requestPermission()==="granted"?(t(n,"Permission granted!"),setTimeout(()=>{j("/settings")},1500)):(t(n,"Permission denied"),t(i,"You need to enable notifications in your browser settings to receive Divine Timing reminders."),t(f,!1)):(t(n,"Notifications not supported"),t(i,"Your browser does not support notifications. Please try using a different browser."),t(f,!1))},500)}catch(e){console.error("Error requesting notification permission:",e),t(n,"Error requesting permission"),t(i,e instanceof Error?e.message:"Unknown error occurred"),t(f,!1)}}),R();var g=H(),y=o(g),u=p(o(y),2),M=o(u);{var N=e=>{var s=U();v(e,s)},B=(e,s)=>{{var d=r=>{var l=A();v(r,l)},w=r=>{var l=F();v(r,l)};h(e,r=>{c(i)?r(d):r(w,!1)},s)}};h(M,e=>{c(f)?e(N):e(B,!1)})}a(u);var x=p(u,2),E=o(x,!0);a(x);var T=p(x,2);{var C=e=>{var s=G(),d=D(s),w=o(d,!0);a(d);var r=p(d,2),l=o(r);a(r),_(()=>k(w,c(i))),L("click",l,()=>j("/settings")),v(e,s)};h(T,e=>{c(i)&&e(C)})}a(y),a(g),_(()=>k(E,c(n))),v(q,g),z()}export{Z as component};
