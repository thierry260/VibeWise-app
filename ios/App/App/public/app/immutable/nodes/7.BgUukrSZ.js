import{t as f,a as v}from"../chunks/BEOBgX8I.js";import{i as D}from"../chunks/D64ZerI1.js";import{C as L,D as Y,F as _,G as z,K as t,q as b,J as o,M as p,d as c,L as a,Z as F}from"../chunks/ToIz8hvJ.js";import{s as k,e as G}from"../chunks/D2gJtSKD.js";import{i as h}from"../chunks/B64_L7Jl.js";import{g as j}from"../chunks/-qgIaBye.js";var J=f('<div class="h-12 w-12 animate-spin rounded-full border-4 border-gray-200 border-t-primary-600"></div>'),K=f('<div class="text-red-500"><svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div>'),R=f('<div class="text-green-500"><svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg></div>'),S=f('<p class="mb-6 text-center text-sm text-red-600 dark:text-red-400"> </p> <div class="flex justify-center"><button class="rounded-lg bg-primary-600 px-4 py-2 text-white hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2">Back to Settings</button></div>',1),U=f('<div class="flex min-h-screen flex-col items-center justify-center bg-gray-50 p-4 dark:bg-gray-900"><div class="w-full max-w-md rounded-lg bg-white p-8 shadow-md dark:bg-gray-800"><h1 class="mb-6 text-center text-2xl font-bold text-gray-900 dark:text-white">Notification Permission</h1> <div class="mb-6 flex justify-center"><!></div> <p class="mb-4 text-center text-lg font-medium text-gray-700 dark:text-gray-300"> </p> <!></div></div>');function V(q,M){L(M,!1);let n=b("Requesting notification permission..."),s=b(""),m=b(!0);Y(async()=>{try{setTimeout(async()=>{"Notification"in window?await Notification.requestPermission()==="granted"?(t(n,"Permission granted!"),setTimeout(()=>{j("/settings")},1500)):(t(n,"Permission denied"),t(s,"You need to enable notifications in your browser settings to receive Divine Timing reminders."),t(m,!1)):(t(n,"Notifications not supported"),t(s,"Your browser does not support notifications. Please try using a different browser."),t(m,!1))},500)}catch(e){console.error("Error requesting notification permission:",e),t(n,"Error requesting permission"),t(s,e instanceof Error?e.message:"Unknown error occurred"),t(m,!1)}}),D();var g=U(),y=o(g),u=p(o(y),2),P=o(u);{var N=e=>{var i=J();v(e,i)},B=(e,i)=>{{var d=r=>{var l=K();v(r,l)},w=r=>{var l=R();v(r,l)};h(e,r=>{c(s)?r(d):r(w,!1)},i)}};h(P,e=>{c(m)?e(N):e(B,!1)})}a(u);var x=p(u,2),C=o(x,!0);a(x);var E=p(x,2);{var T=e=>{var i=S(),d=F(i),w=o(d,!0);a(d);var r=p(d,2),l=o(r);a(r),_(()=>k(w,c(s))),G("click",l,()=>j("/settings")),v(e,i)};h(E,e=>{c(s)&&e(T)})}a(y),a(g),_(()=>k(C,c(n))),v(q,g),z()}export{V as component};
