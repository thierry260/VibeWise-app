import{t as v,a as l}from"../chunks/UqHQliqT.js";import"../chunks/BobBf3LW.js";import{q as ce,r as de,i as b,m as F,x as p,v as t,b as r,w as s,t as w,d as M}from"../chunks/BY0siJxM.js";import{s as i}from"../chunks/dBCsEaYE.js";import{i as y}from"../chunks/87PK3omT.js";import{e as pe,i as ue}from"../chunks/CY_fljdx.js";import{i as me}from"../chunks/DjL_iSOh.js";import{s as _e,a as fe}from"../chunks/Dr4YdYOh.js";import{o as xe}from"../chunks/CaWVKLqx.js";import{a as he}from"../chunks/Ch0D86az.js";import{a as ge}from"../chunks/UXJA4SRu.js";var ye=v('<div class="loading svelte-1lq8rex">Loading your sessions...</div>'),qe=v('<div class="error-message svelte-1lq8rex"> </div>'),Se=v(`<div class="empty-state svelte-1lq8rex"><p>You haven't created any sessions yet.</p> <p>Start by creating a reflection or HRV session!</p></div>`),be=v('<div class="session-content svelte-1lq8rex"><p class="mood svelte-1lq8rex"> </p> <p class="text-preview svelte-1lq8rex"> </p></div>'),we=v('<div class="session-content svelte-1lq8rex"><p class="hrv-stats svelte-1lq8rex"><span> </span> <span> </span></p></div>'),He=v('<div class="session-card svelte-1lq8rex"><div class="session-icon svelte-1lq8rex"> </div> <div class="session-details svelte-1lq8rex"><div class="session-header svelte-1lq8rex"><span class="session-type svelte-1lq8rex"> </span> <span class="session-time svelte-1lq8rex"> </span></div> <div class="session-date svelte-1lq8rex"> </div> <!></div></div>'),Re=v('<div class="sessions-list svelte-1lq8rex"></div>'),De=v('<div class="history-container svelte-1lq8rex"><h1 class="svelte-1lq8rex">Session History</h1> <div class="coming-soon-banner svelte-1lq8rex"><p class="svelte-1lq8rex">Full history view will be available in Phase 4</p> <p class="subtitle svelte-1lq8rex">This is a placeholder for the upcoming Session History feature</p></div> <!></div>');function Ie(N,P){ce(P,!1);const[Y,z]=_e(),U=()=>fe(he,"$authStore",Y);let H=F([]),$=F(!0),q=F(null);xe(async()=>{if(U().user)try{const e=await ge(U().user,10);e.success&&e.sessions?b(H,e.sessions):b(q,"Failed to load recent sessions.")}catch(e){console.error("Error loading sessions:",e),b(q,"An unexpected error occurred while loading sessions.")}finally{b($,!1)}});function C(e){return new Date(e).toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric",year:"numeric"})}function G(e){return new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}function J(e){switch(e){case"reflection":return"ðŸ–Šï¸";case"hrv_session":return"ðŸ“ˆ";case"balcony":return"ðŸ§ ";default:return"ðŸ“"}}function K(e){switch(e){case"reflection":return"Reflection";case"hrv_session":return"HRV Session";case"balcony":return"Balcony Experiment";default:return"Session"}}me();var R=De(),O=p(t(R),4);{var Q=e=>{var f=ye();l(e,f)},W=(e,f)=>{{var X=u=>{var x=qe(),D=t(x,!0);s(x),w(()=>i(D,r(q))),l(u,x)},Z=(u,x)=>{{var D=m=>{var h=Se();l(m,h)},ee=m=>{var h=Re();pe(h,5,()=>r(H),ue,(se,a)=>{var L=He(),T=t(L),te=t(T,!0);s(T);var j=p(T,2),E=t(j),V=t(E),re=t(V,!0);s(V);var B=p(V,2),ae=t(B,!0);s(B),s(E);var k=p(E,2),ie=t(k,!0);s(k);var oe=p(k,2);{var le=o=>{var n=be(),c=t(n),d=t(c,!0);s(c);var _=p(c,2),S=t(_);s(_),s(n),w((g,A)=>{i(d,g),i(S,`${A??""}${r(a).text.length>100?"...":""}`)},[()=>r(a).mood.join(", "),()=>r(a).text.substring(0,100)],M),l(o,n)},ve=(o,n)=>{{var c=d=>{var _=we(),S=t(_),g=t(S),A=t(g);s(g);var I=p(g,2),ne=t(I);s(I),s(S),s(_),w(()=>{i(A,`Avg HR: ${r(a).avg_hr??""} bpm`),i(ne,`Vibe Score: ${r(a).vibe_score??""}`)}),l(d,_)};y(o,d=>{r(a).type==="hrv_session"&&d(c)},n)}};y(oe,o=>{r(a).type==="reflection"?o(le):o(ve,!1)})}s(j),s(L),w((o,n,c,d)=>{i(te,o),i(re,n),i(ae,c),i(ie,d)},[()=>J(r(a).type),()=>K(r(a).type),()=>G(r(a).timestamp),()=>C(r(a).timestamp)],M),l(se,L)}),s(h),l(m,h)};y(u,m=>{r(H).length===0?m(D):m(ee,!1)},x)}};y(e,u=>{r(q)?u(X):u(Z,!1)},f)}};y(O,e=>{r($)?e(Q):e(W,!1)})}s(R),l(N,R),de(),z()}export{Ie as component};
